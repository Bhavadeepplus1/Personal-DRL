<!--
  @description       : 
  @author            : Surender Patel (Dhruvsoft)
  @group             : 
  @last modified on  : 29-05-2021
  @last modified by  : Surender Patel (Dhruvsoft)
  Modifications Log 
  Ver   Date         Author                       Modification
  1.0   29-05-2021   Surender Patel (Dhruvsoft)   Initial Version
-->
<aura:component controller="Phoenix_OTCTemplateCls"
                implements="flexipage:availableForAllPageTypes,force:hasRecordId,force:appHostable,lightning:isUrlAddressable"
                access="global">
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="columns" type="List" />
    <lightning:navigation aura:id="navService" />
    <aura:handler name="init" value="{!this}" action="{!c.initRecords}" />
    <aura:handler name="change" value="{!v.pageReference}" action="{!c.initRecords}" />
    <aura:attribute name="BidLineItemListAll" type="Phoenix_Bid_Line_Item__c[]" />
    <!-- Pagination attributes -->
    <aura:attribute name="pagedLineItems" type="Phoenix_Bid_Line_Item__c[]"/>
    <aura:attribute name="pageNumbers" type="List"/>
    <aura:attribute name="selectedPageNumber" type="String" default="1"/>
    
    <aura:attribute name="isRelatedLineItemsEmpty" type="boolean" default="true" />
    <aura:attribute name="isSpinnerLoad" type="boolean" default="false" />
    <aura:attribute name="lstSelectedRecords" type="sObject[]" default="[]"
                    description="Use,for store SELECTED sObject Records" />
    <aura:attribute name="listOfSearchRecords" type="List"
                    description="Use,for store the list of search records which returns from apex class" />
    <aura:attribute name="defaultlistOfProductFamily" type="List" />
    <aura:attribute name="lstSelectedPDRecords" type="sObject[]" default="[]"
                    description="Use,for store SELECTED sObject Records" />
    <aura:attribute name="listOfSearchPDRecords" type="List"
                    description="Use,for store the list of search records which returns from apex class" />
    <aura:attribute name="defaultlistOfProductDirectors" type="List" />
    <aura:attribute name="SearchKeyWord" type="string" />
    <aura:attribute name="SearchKeyWordPD" type="string" />
    <aura:attribute name="activeSections" type="List" default="['FilterTerms','FilterInputs']" />
    <aura:attribute name="objectAPIName" type="string" default="" />
    <aura:attribute name="IconName" type="string" default="" />
    <aura:attribute name="label" type="string" default="" />
    <aura:attribute name="options" type="List" />
    <aura:attribute name="selectedValues" type="List" default="" description="Selected value in Multi Select" />
    <lightning:navigation aura:id="navigationService" />
    <aura:handler name="lightningEvent" event="c:RefreshBidLineItemCmpEvt" action="{!c.handleEvent}" />
    <aura:attribute name="showSaveCancelBtn" type="boolean" default="false"
                    description="flag for rendered save and cancel buttons in aura:if " />
    <aura:attribute name="isRxChecked" type="boolean" default="false" />
    <aura:attribute name="isSRxChecked" type="boolean" default="false" />
    <aura:attribute name="isOtcChecked" type="boolean" default="false" />
    <aura:attribute name="RxSrxList" type="List" />
    <aura:attribute name="crntVipVal" type="Decimal" />
    <aura:attribute name="VipReadOnly" type="boolean" />
    <aura:attribute name="customerId" type="string" />
    <aura:attribute name="bidNumber" type="string" />
    <aura:attribute name="bidName" type="string" />
    <aura:attribute name="BidTypeVal" type="string" />
    <aura:attribute name="BidAprrovalStatus" type="string" />
    <aura:attribute name="isMarketingApprovePerson" type="string" />
    <aura:attribute name="isCustomersApprovePerson" type="boolean"  default="false"/>
    <aura:attribute name="showProceedBtn" type="boolean" />
    <aura:attribute name="tableRef" type="string" />
    <aura:attribute name="submitModel" type="boolean" default="false" />
    <!-- totalvalues -->
    <aura:attribute name="ItemsLength" type="Decimal" />
    <aura:attribute name="CISUTotal" type="Decimal" />
    <aura:attribute name="currentSalesFinance" type="Decimal" />
    <aura:attribute name="currentTPMargin" type="Decimal" />
    <aura:attribute name="currentMonthly" type="Decimal" />
    <aura:attribute name="current52week" type="Decimal" />
    <aura:attribute name="proposed52wk" type="Decimal" />
    <aura:attribute name="proposedMonthly" type="Decimal" />
    <aura:attribute name="RMPercent" type="Decimal" />
    
    <aura:attribute name="CDSUTotal" type="Decimal" />
    <aura:attribute name="tptTotal" type="Decimal" />
    
    <aura:attribute name="TotalSellingUnits" type="Decimal" />
    <aura:attribute name="PISUTotal" type="Decimal" />
    <aura:attribute name="PDSUTotal" type="Decimal" />
    <aura:attribute name="netSalesIntTotal" type="Decimal" />
    <aura:attribute name="grossSalesTotal" type="Decimal" />
    <aura:attribute name="LCostTotal" type="Decimal" />
    <aura:attribute name="ThptMrgnDTotal" type="Decimal" />
    <aura:attribute name="intDeadNetTotal" type="Decimal" />
    <aura:attribute name="finalUnitsTotal" type="Decimal" />
    <aura:attribute name="finaAnnuallUnits" type="Decimal" />
    <aura:attribute name="finalMontlyUnits" type="Decimal" />
    
    <aura:attribute name="scmAPQTY" type="Decimal" />
    <aura:attribute name="overRideDirectUnits" type="Decimal" />
    <aura:attribute name="overRideIndirectUnits" type="Decimal" />
    <aura:attribute name="actSaDir12Months" type="Decimal" />
    <aura:attribute name="actSalInd12months" type="Decimal" />
    <aura:attribute name="iodAmountTotal" type="Decimal" />
    <aura:attribute name="salesoutAmountTotal" type="Decimal" />
    <aura:attribute name="TPTPercent" type="Decimal" />
    <aura:attribute name="direNetSales" type="Decimal" />
    <aura:attribute name="IndirNetSales" type="Decimal" />
    <aura:attribute name="totalNetSaes" type="Decimal" />
    <aura:attribute name="direTPTDollar" type="Decimal" />
    <aura:attribute name="indirTPTDollar" type="Decimal" />
    <aura:attribute name="totalTPTDollar" type="Decimal" />
    <aura:attribute name="totalProfit" type="Decimal" />
    <aura:attribute name="showSummaryPopup" type="boolean" />
    <!-- totalvalues -->
    <!--specific customer attributes-->
    <aura:attribute name="isSpecificCustomer" type="boolean" />
    <aura:attribute name="isDirectType" type="boolean" default="false" />
    <aura:attribute name="templateType" type="string" default="" />
    <aura:attribute name="loggedInUserName" type="string" default="" />
    <aura:attribute name="hasDirectorLines" type="boolean" />
    <aura:attribute name="bidCreatedbehalf" type="string" />
    <aura:attribute name="isReBid" type="boolean" />
    <!--specific customer attributes-->
    
    <!-- New Product Launch Totals Attributes-->
    <aura:attribute name="OpeningOrderTotal" type="Decimal" />
    <aura:attribute name="OpeningOrderNetSalesTotal" type="Decimal" />
    <aura:attribute name="OpeningOrderTPTTotal" type="Decimal" />
    <aura:attribute name="OpeningOrderTPTPercTotal" type="Decimal" />
    <!-- New Product Launch Attributes-->
    
    
    <!--Contract Model section-->
    <aura:attribute name="showModal" type="boolean" default="false" />
    <aura:attribute type="List" name="contratcsList" />
    <aura:attribute name="mycolumns" type="List" />
    <aura:attribute name="selectedCntrcts" type="list" />
    <aura:attribute name="bidRecord" type="sObject" />
    <!--Rebate and Fee type attributes-->
    <aura:attribute name="isRebateChanged" type="boolean" default="false" />
    <aura:attribute name="isFeeChanged" type="boolean" default="false" />
    
    <!-- Product Position attributes start-->
    
    <aura:attribute name="positionColumns" type="List" />
    <aura:attribute type="List" name="positionsList" />
    <aura:attribute type="date" name="supplyDate" />
    <aura:attribute type="date" name="priceDate" />
    <aura:attribute name="showPositionsModal" type="boolean" default="false" />
    <aura:attribute name="selectedPosistions" type="list" />
    
    <!-- Product Position attributes end -->
    
    <aura:handler name="calcEvent" event="c:TotalCalculationEvt" action="{!c.handleCalcEvent}" />
    <!--declare events hendlers-->
    <aura:handler name="oSelectedRecordEvent" event="c:selectedsObjectRecordsEvent"
                  action="{!c.handleComponentEvent}" />
    <aura:attribute name="Message" type="String" default="" />
    <aura:attribute name="isMarketingChanged" type="boolean" default="false" />
    <aura:attribute name="issupplyDateChanged" type="boolean" default="false" /> 
    <aura:attribute name="ispriceDateChanged" type="boolean" default="false" /> 
    <aura:attribute name="isMarketLeadApprovePerson" type="boolean" default="false" /> 
    
    <aura:handler name="PDSelectedRecordEvent" event="c:ProductDirectorSearchEvent"
                  action="{!c.handleComponentEventProdDir}" />
    <aura:attribute name="MessagePD" type="String" default="" />
    
    <!-- Deligation attributes -->
    <aura:attribute name="deligatedUserName" type="String" default="" />
    <aura:attribute name="ismarketingDeligator" type="boolean" default="false" />
    
    <!-- Added Code By Rama -->
    <aura:handler name="init" value="this" action="{!c.doInit}"/>
    <aura:attribute name="userInfo" type="user"/> 
    <!-- Ended Code By Rama -->  
    
    <lightning:tabset aura:id="Tabset" selectedTabId="EBLI">
        <lightning:tab label="Input View" id="EBLI" onactive="{!c.initRecords}">
            <lightning:card iconName="custom:custom90" title="{!(v.bidNumber+'-'+v.bidName)}">
                <aura:set attribute="actions">
                    <lightning:button variant="neutral" label="Back" title="Back" onclick="{! c.backToBid }" />
                    <aura:if isTrue="{!(v.BidLineItemListAll.length > 0 )}">
                        <lightning:button label="Export" onclick="{!c.downloadCsv}" />
                    </aura:if>
                    
                    <!--<aura:if isTrue="{!and(or(and(or(v.BidAprrovalStatus=='Draft',or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing')),v.BidLineItemListAll.length > 0),and(v.isMarketingApprovePerson==v.loggedInUserName,v.hasDirectorLines==true)),and(v.BidTypeVal == 'New Product Launch',and(v.showProceedBtn==true,v.showSaveCancelBtn==false)))}">-->
                    <!--<aura:if isTrue="{!and(or(v.BidAprrovalStatus=='Draft',and(or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'),and(v.isMarketingApprovePerson==v.loggedInUserName,v.hasDirectorLines==true))),and(v.BidTypeVal == 'New Product Launch',v.BidLineItemListAll.length > 0),and(v.showProceedBtn==true,v.showSaveCancelBtn==false))}">     
                        
                        <lightning:button label="Update WAC / Lowest Price/SKU" variant="brand" onclick="{!c.updateFields}"/>
                    </aura:if>-->
                    <aura:if isTrue="{!and(v.BidAprrovalStatus=='Draft',and(v.BidLineItemListAll.length > 0,v.showSaveCancelBtn==false))}">
                        <lightning:button label="Submit For Approval" variant="brand" onclick="{!c.submitFor}" />
                    </aura:if>
                    <aura:if isTrue="{!and(v.BidAprrovalStatus!='Draft',and((v.BidAprrovalStatus==(or(or(equals(v.BidTypeVal,'OTC OTB Good Dated'),equals(v.BidTypeVal,'OTC OTB Short Dated')),or(equals(v.BidTypeVal,'OTC Price Change'),equals(v.BidTypeVal,'OTC Rebate Change')))?'Marketing':'SCM &amp; Marketing')), and(v.BidLineItemListAll.length > 0,and(v.isMarketingApprovePerson==v.loggedInUserName,and(v.showProceedBtn==true,and(v.showSaveCancelBtn==false,v.hasDirectorLines))))))}">
                        <lightning:button variant="brand" label="Submit" title="Submit mkg"
                                          onclick="{! c.saveToProceed }" />
                    </aura:if>
                    <aura:if isTrue="{!and(and(v.BidAprrovalStatus=='Customer\'s Update',v.BidLineItemListAll.length > 0),v.isCustomersApprovePerson)}">
                        <lightning:button variant="brand" label="Submit" title="Submit" onclick="{! c.saveToProceedCustomerStep }"/>
                    </aura:if> 
                     <aura:if isTrue="{!and(and(v.BidAprrovalStatus=='Marketing Lead OTC',v.BidLineItemListAll.length > 0),v.isMarketLeadApprovePerson)}">
                        <lightning:button variant="brand" label="Submit" title="Submit cmktg" onclick="{! c.saveToProceedMarketingLead }"/>
                    </aura:if> 
                </aura:set>
                <aura:if isTrue="{!(v.BidLineItemListAll.length > 0 )}">
                    <p>
                        <lightning:recordEditForm objectApiName="Phoenix_Bid__c" recordId="{!v.recordId}"
                                                  aura:id="bidForm" onload="{!c.handleOnload}" onsubmit="{!c.onRecordSubmit}"
                                                  onsuccess="{!c.onRecordSuccess}" density="comfy">
                            <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="BidTerms">
                                <aura:if isTrue="{!or(v.BidAprrovalStatus=='Draft', and(or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'),and(v.isMarketingApprovePerson==v.loggedInUserName,and(v.showProceedBtn==true,v.hasDirectorLines))))}">
                                    <lightning:accordionSection name="BidTerms" label=" Bid Terms and Details">
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC New Product'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close frequired">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="{!v.BidTypeVal=='New Customer'}"
                                                                                      updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC RFP'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close frequired">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="{!v.BidTypeVal=='New Customer'}"
                                                                                      updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate" onchange="{!c.showSaveCancel}"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c"  required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                        
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Price Change'}">
                                           <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                               </div>
                                               <div class="slds-col slds-size_1-of-4">
                                                   <div class="slds-form-element slds-lookup slds-is-close">
                                                       <label class="slds-form-element__label">Contracts</label>
                                                       <div class="slds-form-element__control">
                                                           <div class="slds-input-has-icon slds-input-has-icon--right">
                                                               <div aura:id="" class="slds-pill-container">
                                                                   <div aura:id=""
                                                                        class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                        style="width: 100%;">
                                                                       <ui:inputText click="{!c.showModel}"
                                                                                     disabled="true" updateOn="keyup"
                                                                                     class="slds-lookup__search-input slds-input inputSize"
                                                                                     placeholder="Click to select contracts here.." />
                                                                       <span
                                                                             class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                           <lightning:icon iconName="utility:search"
                                                                                           size="x-small" alternativeText="icon" />
                                                                       </span>
                                                                   </div>
                                                                   <aura:iteration items="{!v.selectedCntrcts}"
                                                                                   var="sr">
                                                                       <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                       label="{!sr}" name="{!sr}"
                                                                                       onremove="{! c.clearCntract }">
                                                                       </lightning:pill>
                                                                   </aura:iteration>
                                                               </div>
                                                           </div>
                                                       </div>
                                                   </div>
                                                   
                                               </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Rebate Change'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                <label class="slds-form-element__label">Contracts</label>
                                                <div class="slds-form-element__control">
                                                    <div class="slds-input-has-icon slds-input-has-icon--right">
                                                        <div aura:id="" class="slds-pill-container">
                                                            <div aura:id=""
                                                                 class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                 style="width: 100%;">
                                                                <ui:inputText click="{!c.showModel}"
                                                                              disabled="true" updateOn="keyup"
                                                                              class="slds-lookup__search-input slds-input inputSize"
                                                                              placeholder="Click to select contracts here.." />
                                                                <span
                                                                      class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                    <lightning:icon iconName="utility:search"
                                                                                    size="x-small" alternativeText="icon" />
                                                                </span>
                                                            </div>
                                                            <aura:iteration items="{!v.selectedCntrcts}"
                                                                            var="sr">
                                                                <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                label="{!sr}" name="{!sr}"
                                                                                onremove="{! c.clearCntract }">
                                                                </lightning:pill>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC OTB Good Dated'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close frequired">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="{!v.BidTypeVal=='New Customer'}"
                                                                                      updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC OTB Short Dated'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close frequired">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="{!v.BidTypeVal=='New Customer'}"
                                                                                      updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Volume Review'}">
                                           <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                               <div class="slds-col slds-size_1-of-4">
                                                   <div class="slds-form-element slds-lookup slds-is-close">
                                                       <label class="slds-form-element__label">Contracts</label>
                                                       <div class="slds-form-element__control">
                                                           <div class="slds-input-has-icon slds-input-has-icon--right">
                                                               <div aura:id="" class="slds-pill-container">
                                                                   <div aura:id=""
                                                                        class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                        style="width: 100%;">
                                                                       <ui:inputText click="{!c.showModel}"
                                                                                     disabled="true" updateOn="keyup"
                                                                                     class="slds-lookup__search-input slds-input inputSize"
                                                                                     placeholder="Click to select contracts here.." />
                                                                       <span
                                                                             class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                           <lightning:icon iconName="utility:search"
                                                                                           size="x-small" alternativeText="icon" />
                                                                       </span>
                                                                   </div>
                                                                   <aura:iteration items="{!v.selectedCntrcts}"
                                                                                   var="sr">
                                                                       <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                       label="{!sr}" name="{!sr}"
                                                                                       onremove="{! c.clearCntract }">
                                                                       </lightning:pill>
                                                                   </aura:iteration>
                                                               </div>
                                                           </div>
                                                       </div>
                                                   </div>
                                                   
                                               </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Product Addition'}">
                                          <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidVersion"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close frequired">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="{!v.BidTypeVal=='New Customer'}"
                                                                                      updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                    </lightning:accordionSection>
                                </aura:if>
                                <aura:if isTrue="{!not(or(v.BidAprrovalStatus=='Draft', and(or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'),and(v.isMarketingApprovePerson==v.loggedInUserName,and(v.showProceedBtn==true,v.hasDirectorLines)))))}">
                                    <lightning:accordionSection name="BidTerms" label="Bid Terms and Details">
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC New Product'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                            <div class="slds-form-element slds-lookup slds-is-close">
                                                <label class="slds-form-element__label">Contracts</label>
                                                <div class="slds-form-element__control">
                                                    <div class="slds-input-has-icon slds-input-has-icon--right">
                                                        <div aura:id="" class="slds-pill-container">
                                                            <div aura:id=""
                                                                 class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                 style="width: 100%;">
                                                                <ui:inputText click="{!c.showModel}"
                                                                              disabled="true" updateOn="keyup"
                                                                              class="slds-lookup__search-input slds-input inputSize"
                                                                              placeholder="Click to select contracts here.." />
                                                                <span
                                                                      class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                    <lightning:icon iconName="utility:search"
                                                                                    size="x-small" alternativeText="icon" />
                                                                </span>
                                                            </div>
                                                            <aura:iteration items="{!v.selectedCntrcts}"
                                                                            var="sr">
                                                                <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                label="{!sr}" name="{!sr}"
                                                                                onremove="{! c.clearCntract }">
                                                                </lightning:pill>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
</div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC RFP'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                            <div class="slds-form-element slds-lookup slds-is-close">
                                                <label class="slds-form-element__label">Contracts</label>
                                                <div class="slds-form-element__control">
                                                    <div class="slds-input-has-icon slds-input-has-icon--right">
                                                        <div aura:id="" class="slds-pill-container">
                                                            <div aura:id=""
                                                                 class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                 style="width: 100%;">
                                                                <ui:inputText click="{!c.showModel}"
                                                                              disabled="true" updateOn="keyup"
                                                                              class="slds-lookup__search-input slds-input inputSize"
                                                                              placeholder="Click to select contracts here.." />
                                                                <span
                                                                      class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                    <lightning:icon iconName="utility:search"
                                                                                    size="x-small" alternativeText="icon" />
                                                                </span>
                                                            </div>
                                                            <aura:iteration items="{!v.selectedCntrcts}"
                                                                            var="sr">
                                                                <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                label="{!sr}" name="{!sr}"
                                                                                onremove="{! c.clearCntract }">
                                                                </lightning:pill>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
</div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}"/>
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                 <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Price Change'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Rebate Change'}">
                                           <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC OTB Good Dated'}">
                                             <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC OTB Short Dated'}">
                                             <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Volume Review'}">
                                             <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}" />
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidTypeVal=='OTC Product Addition'}">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_OTC_Bid_Version__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="bidCustm"
                                                                          fieldName="Phoenix_Customer__c" disabled="true" />
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <div class="slds-form-element slds-lookup slds-is-close">
                                                        <label class="slds-form-element__label">Contracts</label>
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                                <div aura:id="" class="slds-pill-container">
                                                                    <div aura:id=""
                                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                         style="width: 100%;">
                                                                        <ui:inputText click="{!c.showModel}"
                                                                                      disabled="true" updateOn="keyup"
                                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                                      placeholder="Click to select contracts here.." />
                                                                        <span
                                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                            <lightning:icon iconName="utility:search"
                                                                                            size="x-small" alternativeText="icon" />
                                                                        </span>
                                                                    </div>
                                                                    <aura:iteration items="{!v.selectedCntrcts}"
                                                                                    var="sr">
                                                                        <lightning:pill class="slds-m-around_xx-small pillRemove"
                                                                                        label="{!sr}" name="{!sr}"
                                                                                        onremove="{! c.clearCntract }">
                                                                        </lightning:pill>
                                                                    </aura:iteration>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <div class="slds-col slds-size_1-of-4">
                                                    <lightning:inputField aura:id="sentCustomerDate"
                                                                          fieldName="Phoenix_Sent_to_Customer_Date__c" onchange="{!c.showSaveCancel}" required="{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}" disabled="{!not(and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson))}"/>
                                                </div>
                                                
                                            </div>
                                            <div class="slds-grid">
                                                <aura:if isTrue="{!and(and(v.isMarketingApprovePerson==v.loggedInUserName,v.showProceedBtn==true),or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing'))}">
                                                    <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                        
                                                        <lightning:select label="Marketing Approval (Mark all as)"
                                                                          aura:id="headerMarketingApproval"
                                                                          onchange="{!c.onMarketingChange}">
                                                            <option value="">-None-</option>
                                                            <option value="Approved">Approved</option>
                                                            <option value="Not Approved">Not Approved</option>
                                                        </lightning:select>
                                                    </div>
                                                </aura:if>
                                                   <aura:if isTrue= "{!and(v.BidAprrovalStatus=='Customer\'s Update',v.isCustomersApprovePerson)}">
                                                <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Supply Effective Date (Mark all as)"
                                                                  aura:id="supplyDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onSupplyDateChange}"
                                                                  value="{!v.supplyDate}"
                                                                  />
                                                </div>
                                                 <div class="slds-col slds-size_1-of-4" style="margin-left: 5px;">
                                                    <ui:inputDate class="dateInputWidth"
                                                                  label = "Price Effective Date (Mark all as)"
                                                                  aura:id="priceDateHeader"
                                                                  displayDatePicker="true"
                                                                  change="{!c.onPriceDateChange}"
                                                                  value="{!v.priceDate}"
                                                                  />
                                                </div>
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        
                                    </lightning:accordionSection>
                                </aura:if>
                            </lightning:accordion>
                            <center>
                                <!-- use aura:if for show/hide buttons -->
                                <aura:if isTrue="{!v.showSaveCancelBtn}">
                                    <!--button for save and cancel Record after Inline Edit-->
                                    <lightning:button label="Cancel" onclick="{!c.cancel}" />&nbsp;
                                    <lightning:button label="Save" type="submit" variant="brand" />&nbsp;
                                    <!-- <lightning:button variant="brand" label="Save &amp; Close"  onclick="{!c.SaveAndNavigate}"/>-->
                                </aura:if>
                            </center>
                        </lightning:recordEditForm>
                    </p>
                    
                    <aura:if isTrue="{!v.submitModel}">
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                                 aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                                        Submit Bid For Approval</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                    <p>
                                        <div style="text-align:center;padding-bottom:3px;">Are you sure you want to submit
                                            this bid for approval?</div>
                                    </p>
                                </div>
                                <!--Modal/Popup Box Footer Starts here-->
                                <footer class="slds-modal__footer">
                                    <lightning:button variant="neutral" label="No" title="No"
                                                      onclick="{! c.hideSubmitModel }" />
                                    <lightning:button variant="brand" label="Yes" title="Yes"
                                                      onclick="{!c.proceedToSubmit}" />
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>
                    
                    <aura:if isTrue="{!v.showModal}">
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                                 aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <lightning:buttonIcon iconName="utility:close" onclick="{! c.hideModel }"
                                                          alternativeText="close" variant="bare-inverse" class="slds-modal__close" />
                                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                                        Contracts</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                    <p>
                                        <div class="slds-grid" style="margin-bottom:6px;">
                                            <div class="slds-col slds-size_1-of-3">
                                                <div aura:id=""
                                                     class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                     style="width: 100%;">
                                                    <ui:inputText aura:id="cntInput"
                                                                  class="slds-lookup__search-input slds-input inputSize"
                                                                  placeholder="Search contracts..." />
                                                    <span
                                                          class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                        <lightning:icon iconName="utility:search" size="x-small"
                                                                        alternativeText="icon" />
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="slds-col slds-size_1-of-3">
                                                <div class="slds-grid">
                                                    <div class="slds-col slds-size_1-of-2">
                                                        <lightning:input class="slds-p-left_large slds-p-top_x-small"
                                                                         type="checkbox" label="Show All" name="input1"
                                                                         aura:id="tgleCntrct" />
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-2">
                                                        <div class="slds-m-top_medium slds-m-left_small"
                                                             style="margin-top:1px;">
                                                            <lightning:button label="Search"
                                                                              onclick="{!c.searchContracts}" variant="brand" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <aura:if isTrue="{!not(empty(v.contratcsList))}">
                                            <lightning:datatable aura:id="linesTable" data="{! v.contratcsList }"
                                                                 columns="{! v.mycolumns }" keyField="id" />
                                            <aura:set attribute="else">
                                                <center>
                                                    <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large"
                                                         role="alert" style="width:50%;">
                                                        <span class="slds-icon_container slds-m-right_x-small"
                                                              title="Please add line items to view the table">
                                                            <lightning:icon iconName="utility:info"
                                                                            alternativeText="info" size="x-small"
                                                                            variant="inverse" />
                                                        </span>
                                                        <h2> No Records Found</h2>
                                                    </div>
                                                </center>
                                            </aura:set>
                                        </aura:if>
                                    </p>
                                </div>
                                <!--Modal/Popup Box Footer Starts here-->
                                <footer class="slds-modal__footer">
                                    <lightning:button variant="neutral" label="Cancel" title="Cancel"
                                                      onclick="{! c.hideModel }" />
                                    <lightning:button variant="brand" label="OK" title="OK"
                                                      disabled="{!empty(v.contratcsList)}" onclick="{!c.saveDetails}" />
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>
                    <!--Positions Logic Start-->
                    <aura:if isTrue="{!v.showPositionsModal}">
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                                 aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <lightning:buttonIcon iconName="utility:close" onclick="{! c.hideModel }"
                                                          alternativeText="close" variant="bare-inverse" class="slds-modal__close" />
                                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                                        Positions</h2>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                    <p>
                                        <!-- <div class="slds-grid" style="margin-bottom:6px;">
                                        <div class="slds-col slds-size_1-of-3">
                                            <div aura:id="" class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"  style="width: 100%;">
                                                <ui:inputText aura:id="posInput" class="slds-lookup__search-input slds-input inputSize"
                                                              placeholder="Search contracts..."/>
                                                <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                    <lightning:icon iconName="utility:search" size="x-small" alternativeText="icon"/>
                                                </span>
                                            </div> 
                                        </div>
                                        <div class="slds-col slds-size_1-of-3">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning:input class="slds-p-left_large slds-p-top_x-small" type="checkbox" label="Show All" name="input1" aura:id="tgleCntrct" onchange="{!c.searchContracts}"/>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <div  class="slds-m-top_medium slds-m-left_small" style="margin-top:1px;"><lightning:button label="Search" onclick="{!c.searchContracts}"  variant="brand"/></div> 
                                                </div>
                                            </div>
                                        </div>                                       
                                    </div>  -->
                                        <aura:if isTrue="{!not(empty(v.positionsList))}">
                                            <lightning:datatable aura:id="PoslinesTable" data="{! v.positionsList }"
                                                                 columns="{! v.positionColumns }" keyField="id" />
                                            <aura:set attribute="else">
                                                <center>
                                                    <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large"
                                                         role="alert" style="width:50%;">
                                                        <span class="slds-icon_container slds-m-right_x-small"
                                                              title="Please add line items to view the table">
                                                            <lightning:icon iconName="utility:info" alternativeText="info"
                                                                            size="x-small" variant="inverse" />
                                                        </span>
                                                        <h2> No Records Found</h2>
                                                    </div>
                                                </center>
                                            </aura:set>
                                        </aura:if>
                                    </p>
                                </div>
                                <!--Modal/Popup Box Footer Starts here-->
                                <footer class="slds-modal__footer">
                                    <lightning:button variant="neutral" label="Cancel" title="Cancel"
                                                      onclick="{! c.hideModel }" />
                                    <lightning:button variant="brand" label="OK" title="OK"
                                                      disabled="{!empty(v.positionsList)}" onclick="{!c.savePosDetails}" />
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>
                    <!--Positions Logic End-->
                    <lightning:accordion aura:id="filterId" allowMultipleSectionsOpen="true"
                                         activeSectionName="FilterInput">
                        <lightning:accordionSection name="FilterInput" label="Product Details and Inputs">
                            <div class="slds-grid slds-gutters">
                                <div class="slds-col slds-size_1-of-3"></div>
                                <div class="slds-col slds-size_1-of-3">
                                    <div onmouseleave="{!c.onblurProDir}" aura:id="searchResPD"
                                         class="slds-form-element slds-lookup slds-is-close">
                                        <div class="slds-form-element__control">
                                            <div class="slds-input-has-icon slds-input-has-icon--right">
                                                <div aura:id="lookup-pill-PD" class="slds-pill-container">
                                                    <div aura:id="lookupFieldPD"
                                                         class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                         style="width: 100%;">
                                                        <ui:inputText updateOn="keyup"
                                                                      keyup="{!c.keyPressControllerProdDir}"
                                                                      class="slds-lookup__search-input slds-input inputSize"
                                                                      value="{!v.SearchKeyWordPD}"
                                                                      placeholder="Search Product Directors here.." />
                                                        <span
                                                              class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                            <lightning:icon iconName="utility:search" size="x-small"
                                                                            alternativeText="icon" />
                                                        </span>
                                                    </div>
                                                    <aura:iteration items="{!v.lstSelectedPDRecords}" var="sr">
                                                        <lightning:pill class="slds-m-around_xx-small" label="{!sr}"
                                                                        name="{!sr}" onremove="{! c.clearProdDir }">
                                                        </lightning:pill>
                                                    </aura:iteration>
                                                </div>
                                            </div>
                                        </div>
                                        <ul style="min-height:40px;margin-top:0px !important"
                                            class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid slds-lookup__menu slds"
                                            role="listbox">
                                            <lightning:spinner class="slds-hide" variant="brand" size="small"
                                                               aura:id="mySpinner" />
                                            <center> {!v.MessagePD}</center>
                                            <aura:iteration items="{!v.listOfSearchPDRecords}" var="singleRec">
                                                <c:ProductDirectorSearchFilterCmp oRecord="{!singleRec}" />
                                            </aura:iteration>
                                        </ul>
                                    </div>
                                </div>
                                <div class="slds-col slds-size_1-of-3">
                                    <div class="slds-grid">
                                        <div class="slds-col slds-size_9-of-12">
                                            <div onmouseleave="{!c.onblur}" aura:id="searchRes"
                                                 class="slds-form-element slds-lookup slds-is-close">
                                                <div class="slds-form-element__control">
                                                    <div class="slds-input-has-icon slds-input-has-icon--right">
                                                        <div aura:id="lookup-pill" class="slds-pill-container">
                                                            <div aura:id="lookupField"
                                                                 class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                 style="width: 100%;">
                                                                <ui:inputText updateOn="keyup"
                                                                              keyup="{!c.keyPressController}"
                                                                              class="slds-lookup__search-input slds-input inputSize"
                                                                              value="{!v.SearchKeyWord}"
                                                                              placeholder="Search Product Family here.." />
                                                                <span
                                                                      class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                                    <lightning:icon iconName="utility:search"
                                                                                    size="x-small" alternativeText="icon" />
                                                                </span>
                                                            </div>
                                                            <aura:iteration items="{!v.lstSelectedRecords}" var="sr">
                                                                <lightning:pill class="slds-m-around_xx-small"
                                                                                label="{!sr}" name="{!sr}" onremove="{! c.clear }">
                                                                    <aura:set attribute="media">
                                                                        <lightning:icon iconName="{!v.IconName}"
                                                                                        size="x-small" alternativeText="icon" />
                                                                    </aura:set>
                                                                </lightning:pill>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ul style="min-height:40px;margin-top:0px !important"
                                                    class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid slds-lookup__menu slds"
                                                    role="listbox">
                                                    <lightning:spinner class="slds-hide" variant="brand" size="small"
                                                                       aura:id="mySpinner" />
                                                    <center> {!v.Message}</center>
                                                    <aura:iteration items="{!v.listOfSearchRecords}" var="singleRec">
                                                        <!--Child Component-->
                                                        <c:reUsableMultiSelectLookupResult oRecord="{!singleRec}"
                                                                                           IconName="{!v.IconName}" />
                                                    </aura:iteration>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_3-of-12">
                                            <div class="slds-m-top_medium  slds-m-right_small" style="margin-top:1.6%">
                                                <lightning:button label="Search" onclick="{!c.searchProFamilyChange}"
                                                                  variant="brand" />
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="slds-grid slds-gutters">
                            <div class="slds-col slds-size_11-of-12">
                            </div>
                            <div class="slds-col slds-size_1-of-12 slds-m-top_medium slds-m-left_small" style="margin-top:1.6%">
                               <div  class="slds-m-top_medium s slds-m-right_small" style="margin-top:1.6%"><lightning:button label="Search" onclick="{!c.searchProFamilyChange}" variant="brand"/></div>
                            </div>
                        </div> -->
                        </lightning:accordionSection>
                    </lightning:accordion>
                    <aura:if isTrue="{!v.isSpinnerLoad}">
                        <div class="backgroundInverse">
                            <lightning:spinner alternativeText="Loading" variant="brand" />
                        </div>
                    </aura:if>
                    
                    <!-- Added by Naseer-->
                    <aura:if isTrue="{!and(v.userInfo.Name != 'Surender Patel',v.userInfo.Name != 'Sneha Shah',v.userInfo.Name != 'Sudheer Nanduri',v.userInfo.Name != 'Leigh Avery',v.userInfo.Name != 'Matthew Bilbao',v.userInfo.Name != 'Matthew Bilbao',v.userInfo.Name != 'Abhijit Patil',v.userInfo.Name != 'Ahmed Rifayee',v.userInfo.Name != 'Shruti Shah',v.userInfo.Name != 'Saunak Savla')}">
                        <div>
                            <div style="width: 50%;display:inline-block;">
                            </div>
                            <div style="width: 50%;display:inline-block;text-align: right;padding-right: 10px;">
                                <div style="display: inline-block;padding-right: 10px;">
                                    <lightning:button label="Summary" variant="neutral" onclick="{!c.showSummaryPopup}"/>
                                </div>
                            </div>
                        </div>
                    </aura:if>
                    <aura:if isTrue="{!v.showSummaryPopup}">
                        <c:VisionSummarySKUCmp showSummaryPopup="{!v.showSummaryPopup}" BidLineItemListAll="{!v.BidLineItemListAll}" bidRecord="{!v.bidRecord}"/>
                    </aura:if >
                    <!-- End by Naseer -->
                    
                    <div aura:id="mainDiv" style="height:60vh;overflow:auto;margin-top:10px;"
                         class=" slds-m-right_small slds-m-left_small">
                        <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                            <table aura:id="LineTable"
                                   class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th class="slds-truncate slds-cell-wrap">NDC</th>
                                        <th class="slds-truncate slds-cell-wrap">SAP Number (FG #)</th>
                                        <th class="slds-truncate slds-cell-wrap zindexPrd " aura:id=" zvaluePrd">Product
                                            Family</th>
                                        <th class="slds-truncate slds-cell-wrap zindexPkg" aura:id="zvaluePkg">Pkg Size
                                        </th>
                                        
                                        <th class="slds-truncate slds-cell-wrap zindex" aura:id="zvalue">
                                            <span><span>Product Name</span>
                                                <a onclick="{!c.collpase}" style="padding-left:10px;">
                                                    <lightning:icon iconName="utility:preview" alternativeText="delete"
                                                                    size="x-small" />
                                                </a>
                                            </span>
                                        </th>
                                        <!-- logic for Re-Bid functionality- starts-->
                                        <aura:if isTrue="{!v.isReBid}">
                                            <th class="slds-truncate slds-cell-wrap">Previous Bid</th>
                                            <th class="slds-truncate slds-cell-wrap">Previous Bid Line Item</th>
                                        </aura:if>
                                        <!-- logic for Re-Bid functionality- ends-->
                                        <th></th>
                                        <!--<th class="slds-truncate slds-cell-wrap">Package Type</th>-->
                                        <th class="slds-truncate slds-cell-wrap">Strength
                                        </th>
                                        <th class="slds-truncate slds-cell-wrap">Case Pack</th>
                                        <th class="slds-truncate slds-cell-wrap">MOQ</th>
                                        <th class="slds-truncate slds-cell-wrap">Compare To (Brand Name)</th>
                                        <th class="slds-truncate slds-cell-wrap">Product Director</th>
                                        <th class="slds-truncate slds-cell-wrap">TPT Costs $</th>
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',v.BidTypeVal !='OTC New Product'))}">
                                            <th class="slds-truncate slds-cell-wrap">Current Position</th>
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap">Proposed Position</th>
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',v.BidTypeVal !='OTC New Product'))}">
                                        <th class="slds-truncate slds-cell-wrap">Last 12 Months Actuals  Selling Units</th>
                                        <th class="slds-truncate slds-cell-wrap">Total Current DRL Selling Units</th>
                                        <th class="slds-truncate slds-cell-wrap">Override Total Current DRL Selling Units</th>
                                        <th class="slds-truncate slds-cell-wrap">Current 52wk</th>
                                        <th class="slds-truncate slds-cell-wrap">Current Monthly</th>
                                        </aura:if>
                                        <aura:if isTrue="{!and(v.BidTypeVal!='OTC Price Change',v.BidTypeVal!='OTC Rebate Change')}">
                                            <aura:if isTrue="{!v.BidAprrovalStatus=='Draft'}">
                                                <th class="slds-truncate slds-cell-wrap slds-required"><abbr class="slds-required" title="required">*</abbr>Total Units</th>
                                                <th class="slds-truncate slds-cell-wrap slds-required"><abbr class="slds-required" title="required">*</abbr>Proposed Share %</th>
                                                
                                                <aura:set attribute="else">
                                                    <th class="slds-truncate slds-cell-wrap" >Total Units</th>
                                                    <th class="slds-truncate slds-cell-wrap" >Proposed Share %</th>
                                                </aura:set>
                                            </aura:if>
                                                 <th class="slds-truncate slds-cell-wrap">Proposed Total DRL Units</th>
                                        <th class="slds-truncate slds-cell-wrap">Proposed 52wk</th>
                                        <th class="slds-truncate slds-cell-wrap">Proposed Monthly</th>
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',v.BidTypeVal !='OTC OTB Short Dated')}">
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved DRL Units</th>
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved 52wk</th>
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved Monthly</th>
                                        </aura:if>
                                        </aura:if>
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',v.BidTypeVal !='OTC New Product'))}">
                                        <th class="slds-truncate slds-cell-wrap">Current Sell Price</th>
                                        </aura:if>
                                         <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',v.BidTypeVal !='OTC New Product'))}">
                                             <th class="slds-truncate slds-cell-wrap">Current Net Price</th>
                                              <th class="slds-truncate slds-cell-wrap">Current Net Sales</th>
                                              <th class="slds-truncate slds-cell-wrap">Current Profit</th>
                                              <th class="slds-truncate slds-cell-wrap">Current TP%</th>
                                        </aura:if>
                                       
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC Volume Review',v.BidTypeVal !='OTC Rebate Change')}">
                                            <th class="slds-truncate slds-cell-wrap">Guidance Price</th>
                                            <th class="slds-truncate slds-cell-wrap">Sales Price</th>
                                        </aura:if>
                                        <aura:if  isTrue="{!(v.BidTypeVal !='OTC Rebate Change')}">
                                            <aura:if isTrue="{!v.BidAprrovalStatus=='Draft'}">
                                                <th class="slds-truncate slds-cell-wrap slds-required"><abbr class="slds-required" title="required">*</abbr>Supply Type</th>
                                                <aura:set attribute="else">
                                                    <th class="slds-truncate slds-cell-wrap">Supply Type</th>
                                                </aura:set>
                                            </aura:if>
                                        </aura:if>
                                       <aura:if  isTrue="{!v.BidTypeVal !='OTC Rebate Change'}">
                                           
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',and(v.BidTypeVal !='OTC New Product',v.BidTypeVal !='OTC Volume Review')))}">
                                        <th class="slds-truncate slds-cell-wrap">Sell Price % Change</th>
                                        </aura:if>
                                        <aura:if  isTrue="{!v.BidTypeVal !='OTC Volume Review'}">
                                            <aura:if isTrue="{!or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing')}">
                                                <th class="slds-truncate slds-cell-wrap"><abbr class="slds-required" title="required">*</abbr>Proposed Sell Price	</th>
                                                <aura:set attribute="else">
                                                    <th class="slds-truncate">Proposed Sell Price</th>
                                                </aura:set>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if  isTrue="{!v.BidTypeVal !='OTC Volume Review'}">
                                            <th class="slds-truncate slds-cell-wrap">Proposed PUR $	</th>
                                        </aura:if>
                                        </aura:if>
                                         <aura:if  isTrue="{!v.BidTypeVal =='OTC Rebate Change'}">
                                            <th class="slds-truncate slds-cell-wrap">Net Price % Change</th>   
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap">Admin Fees %	</th>
                                        <th class="slds-truncate slds-cell-wrap">Admin Fees Type	</th>
                                        <th class="slds-truncate slds-cell-wrap">Admin Fees $	</th>
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',v.BidTypeVal !='OTC New Product'))}">
                                        <th class="slds-truncate slds-cell-wrap">Current Rebate %	</th>
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap">Proposed Rebate %	</th>
                                        <th class="slds-truncate slds-cell-wrap">Rebate Fees Type	</th>
                                        <th class="slds-truncate slds-cell-wrap">Rebate Fees $	</th>
                                        <th class="slds-truncate slds-cell-wrap">Damages %</th>
                                        <th class="slds-truncate slds-cell-wrap">Damages $</th>
                                        <th class="slds-truncate slds-cell-wrap">VIP %	</th>
                                        <th class="slds-truncate slds-cell-wrap">VIP $	</th>
                                        <th class="slds-truncate slds-cell-wrap">Direct CD %</th>
                                        <th class="slds-truncate slds-cell-wrap">Direct CD $	</th>
                                        <th class="slds-truncate slds-cell-wrap">Net Price	</th>
                                        <th class="slds-truncate slds-cell-wrap">TPT $ per pack	</th>
                                        <th class="slds-truncate slds-cell-wrap">TPT % per pack	</th>
                                        <th class="slds-truncate slds-cell-wrap">Gross Sales</th>
                                        <th class="slds-truncate slds-cell-wrap">Net Sales	</th>
                                        <th class="slds-truncate slds-cell-wrap">Total TPT $	</th>
                                        <th class="slds-truncate slds-cell-wrap">Profit	</th>
                                        <th class="slds-truncate slds-cell-wrap">Sell Price Per Size	</th>
                                        <th class="slds-truncate slds-cell-wrap">Brand Retail Price	</th>
                                        <th class="slds-truncate slds-cell-wrap">SB Retail Price	</th>
                                        <th class="slds-truncate slds-cell-wrap">Retail $	</th>
                                        <th class="slds-truncate slds-cell-wrap">RM $	</th>
                                        <th class="slds-truncate slds-cell-wrap">RM %	</th>
                                        <th class="slds-truncate slds-cell-wrap">Budgeted ASP</th>
                                        <th class="slds-truncate slds-cell-wrap">Proposed as % of Budget 	</th>
                                        <th class="slds-truncate slds-cell-wrap"> Latest Estimate ASP</th>
                                        <th class="slds-truncate slds-cell-wrap">Proposed as % of Latest Estimate 	</th>
                                        <th class="slds-truncate slds-cell-wrap"> Lowest Price / SKU (OTC) 	</th>
                                        
                                        <aura:if  isTrue="{!and(v.BidTypeVal !='OTC OTB Good Dated',and(v.BidTypeVal !='OTC OTB Short Dated',and(v.BidTypeVal !='OTC Price Change',v.BidTypeVal !='OTC Rebate Change')))}">
                                        <th class="slds-truncate slds-cell-wrap"> Initial Stocking Order Volume 	</th>
                                        <th class="slds-truncate slds-cell-wrap">Initial Stocking Order Comments 	</th>
                                        <th class="slds-truncate slds-cell-wrap"> Total SCM Approved Qty</th>
                                        <th class="slds-truncate slds-cell-wrap"> Estimated Lead Time</th>
                                        <th class="slds-truncate slds-cell-wrap"> SCM Approval (Y/N)</th>
                                        <th class="slds-truncate slds-cell-wrap"> SCM Comments</th>
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap"> Sales Notes</th>
                                         <aura:if isTrue="{!or(v.BidAprrovalStatus=='SCM &amp; Marketing',v.BidAprrovalStatus=='Marketing')}">
                                         <th class="slds-truncate slds-cell-wrap"><abbr class="slds-required" title="required">*</abbr>Marketing Approval</th>
                                   <aura:set attribute="else">
                                        <th class="slds-truncate slds-cell-wrap">Marketing Approval</th>
                                        </aura:set>
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap"> Marketing Notes 	</th>
                                        <aura:if  isTrue="{!or(v.BidTypeVal =='OTC Volume Review',v.BidTypeVal =='OTC OTB Short Dated')}">
                                            <th class="slds-truncate slds-cell-wrap">Marketing Lead Approval</th>
                                            <th class="slds-truncate slds-cell-wrap">Marketing Lead Comments</th>
                                        </aura:if>
                                        <aura:if isTrue="{!v.BidAprrovalStatus=='Customer\'s Update'}">
                                            <th class="slds-truncate slds-cell-wrap"> <abbr class="slds-required" title="required">*</abbr>Customer Approval 	</th>
                                            <aura:set attribute="else">
                                                <th class="slds-truncate slds-cell-wrap">Customer Approval</th>
                                            </aura:set>
                                            
                                        </aura:if>
                                        <th class="slds-truncate slds-cell-wrap"> Customer Comments 	</th>
                                        <aura:if  isTrue="{!v.BidTypeVal !='OTC Rebate Change'}">
                                            <th class="slds-truncate">Supply Effective Date</th>
                                        </aura:if>
                                        <aura:if  isTrue="{!v.BidTypeVal !='OTC Volume Review'}">
                                            <th class="slds-truncate">Price Effective Date </th>
                                            <th class="slds-truncate slds-cell-wrap"> Finance Approval 	</th>
                                            <th class="slds-truncate slds-cell-wrap"> Finance Comments 	</th>
                                            <th class="slds-truncate slds-cell-wrap"> Contract Status 	</th>
                                            <th class="slds-truncate slds-cell-wrap"> Contract Comments 	</th>
                                        </aura:if>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.BidLineItemListAll}" var="biltem" indexVar="sNo">
                                        <!-- Child Lightning Component -->
                                        <c:Phoenix_OTC_Template_Child netSalesIntTotal="{!v.netSalesIntTotal}" current52week = "{!v.current52week}" currentMonthly = "{!v.currentMonthly}" totalProfit="{!v.totalProfit}" grossSalesTotal="{!v.grossSalesTotal}" customerId="{!v.customerId}"
                                                                      proposed52wk ="{!v.proposed52wk}" proposedMonthly = "{!v.proposedMonthly}" LCostTotal="{!v.LCostTotal}" ThptMrgnDTotal="{!v.ThptMrgnDTotal}" TPTPercent="{!v.TPTPercent}"
                                                                      tableRef="{!v.tableRef}" intDeadNetTotal="{!v.intDeadNetTotal}"
                                                                      ItemsLength="{!v.BidLineItemListAll.length}" PISUTotal="{!v.PISUTotal}" isReBid="{!v.isReBid}"
                                                                      PDSUTotal="{!v.PDSUTotal}" CISUTotal="{!v.CISUTotal}"
                                                                      OpeningOrderTotal="{!v.OpeningOrderTotal}" OpeningOrderNetSalesTotal="{!v.OpeningOrderNetSalesTotal}"
                                                                      OpeningOrderTPTTotal="{!v.OpeningOrderTPTTotal}" OpeningOrderTPTPercTotal="{!v.OpeningOrderTPTPercTotal}"
                                                                      CDSUTotal="{!v.CDSUTotal}"
                                                                      scmAPQTY="{!v.scmAPQTY}"
                                                                      finalUnitsTotal="{!v.finalUnitsTotal}"
                                                                      finaAnnuallUnits="{!v.finaAnnuallUnits}"
                                                                      finalMontlyUnits="{!v.finalMontlyUnits}"
                                                                      TotalSellingUnits="{!v.TotalSellingUnits}"
                                                                      overRideDirectUnits="{!v.overRideDirectUnits}"
                                                                      overRideIndirectUnits="{!v.overRideIndirectUnits}"
                                                                      actSaDir12Months="{!v.actSaDir12Months}"
                                                                      actSalInd12months="{!v.actSalInd12months}"
                                                                      iodAmountTotal="{!v.iodAmountTotal}"
                                                                      salesoutAmountTotal ="{!v.salesoutAmountTotal}"
                                                                      direNetSales ="{!v.direNetSales}"
                                                                      IndirNetSales ="{!v.IndirNetSales}"
                                                                      totalNetSaes ="{!v.totalNetSaes}"
                                                                      direTPTDollar ="{!v.direTPTDollar}"
                                                                      indirTPTDollar ="{!v.indirTPTDollar}" 
                                                                      totalTPTDollar ="{!v.totalTPTDollar}" 
                                                                      isCustomersApprovePerson="{!v.isCustomersApprovePerson}"
                                                                      isMarketingApprovePerson="{!v.isMarketingApprovePerson}"
                                                                      isMarketLeadApprovePerson="{!v.isMarketLeadApprovePerson}"
                                                                      loggedInUserName="{!v.loggedInUserName}" bidRecordParent="{!v.bidRecord}"
                                                                      BidAprrovalStatus="{!v.BidAprrovalStatus}" bidType="{!v.BidTypeVal}"
                                                                      templateType="{!v.templateType}" isSpecificCust="{!v.isSpecificCustomer}"
                                                                      singleRec="{!biltem}" showSaveCancelBtn="{!v.showSaveCancelBtn}"
                                                                      deligatedUserName = "{!v.deligatedUserName}"
                                                                      ismarketingDeligator = "{!v.ismarketingDeligator}"
                                                                      RMPercent= "{!v.RMPercent}"
                                                                      sNo="{!sNo + 1}" lineItemId="{!biltem.Id}" recordId="{!v.recordId}" productId= "{!(biltem.Phoenix_Product__r.Id)}" 
                                                                      currentSalesFinance= "{!v.currentSalesFinance}"
                                                                      currentTPMargin= "{!v.currentTPMargin}"
                                                                      tptTotal ="{!v.tptTotal}"
                                                                      />
                                    </aura:iteration>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <br />
                    <aura:set attribute="else">
                        <lightning:card>
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large"
                                     role="alert" style="width:50%;">
                                    <span class="slds-icon_container slds-m-right_x-small"
                                          title="Please add line items to view the table">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small"
                                                        variant="inverse" />
                                    </span>
                                    <h2>There are no line items for this bid</h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </lightning:card>
        </lightning:tab>
        <!--<lightning:tab label="Detail View" id="details" onactive="{!c.initDetailView}">
            <c:Phoenix_Edit_Bid_Line_Item_Cmp aura:id="detailTab" recordId='{!v.recordId}' />
        </lightning:tab>
        <lightning:tab label="Sales &amp; Marketing(Compact View)" onactive="{!c.initCompactView}">
            <c:Phoenix_CompactView aura:id="CompactView" title="{!(v.bidNumber+'-'+v.bidName)}"
                recordId='{!v.recordId}' />
        </lightning:tab>-->
        <aura:if isTrue="{!and(v.BidTypeVal!='OTC Price Change',and(v.BidTypeVal!='OTC Rebate Change',and(v.BidTypeVal!='OTC OTB Good Dated',and(v.BidTypeVal!='OTC OTB Short Dated'))))}">
            
            <lightning:tab label="SCM View" id="SCM" onactive="{!c.initSCMCmp}">
                <c:SCMView aura:id="SCMChildCmp" title="{!(v.bidNumber+'-'+v.bidName)}" recordId='{!v.recordId}' />
            </lightning:tab>
            
        </aura:if>
        <aura:if  isTrue="{!v.BidTypeVal !='OTC Volume Review'}">
            <lightning:tab label="Finance View" id="FIV" onactive="{!c.initFinnaceCmp}">
                <c:Phoenix_FinanceView aura:id="financeChildCmp" title="{!(v.bidNumber+'-'+v.bidName)}"
                                       recordId='{!v.recordId}' />
            </lightning:tab>
            <lightning:tab label="NDC Finance View" onactive="{!c.initNDCFinanceCmp}">
                <c:NDCFinanceView aura:id="NDCFinance" title="{!(v.bidNumber+'-'+v.bidName)}"
                                  recordId='{!v.recordId}' />
            </lightning:tab>
            <lightning:tab label="MDM View" id="MdmView" onactive="{!c.initMDMMethod}">
                <c:OTCMDMView aura:id="MdmViewId" recordId='{!v.recordId}' title="{!(v.bidNumber+'-'+v.bidName)}" />
            </lightning:tab>
        </aura:if>
        
        <aura:if isTrue="{!and(v.BidTypeVal!='OTC Volume Review',v.BidTypeVal != 'OTC OTB Short Dated')}">
            <lightning:tab label="Management Approval" onactive="{!c.initManagementCmp}">
                <c:Phoenix_FinanceApprovalGrid aura:id="ApprovalGrid" title="{!(v.bidNumber+'-'+v.bidName)}"
                                               recordId='{!v.recordId}' />
            </lightning:tab>
        </aura:if>
        <aura:if  isTrue="{!v.BidTypeVal !='OTC Volume Review'}">
        <lightning:tab label="Contracts View" id="Contracts" onactive="{!c.initContractsView}">
            <c:OTCContractsView aura:id="ContractsTab" recordId='{!v.recordId}' />
        </lightning:tab>
        </aura:if>
        
        <lightning:tab label="Rejected View" id="RejectedStatus" onactive="{!c.initRejectedStatus}">
            <c:OTCRejectedViewTab aura:id="RejectedStatusChildCmp" recordId='{!v.recordId}' />
        </lightning:tab>
    </lightning:tabset>
</aura:component>