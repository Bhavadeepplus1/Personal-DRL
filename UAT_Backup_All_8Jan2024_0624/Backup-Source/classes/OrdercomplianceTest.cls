@istest
public class OrdercomplianceTest {
    static testmethod void main(){
         dateTime dt1 = DateTime.now();
                DateTime dt2 = DateTime.now().addmonths(-1);
                DateTime dt3 = DateTime.now().addmonths(-2);
                DateTime dt4 = DateTime.now().addmonths(-3);
                DateTime dt5 = DateTime.now().addmonths(-4);
                DateTime dt6 = DateTime.now().addmonths(-5);
                DateTime dt7 = DateTime.now().addmonths(-6);
                DateTime dt8 = DateTime.now().addmonths(-7);
                DateTime dt9 = DateTime.now().addmonths(-8);
                DateTime dt10 = DateTime.now().addmonths(-9);
                DateTime dt11 = DateTime.now().addmonths(-10);
                DateTime dt12 = DateTime.now().addmonths(-11);
                 DateTime dt13 = DateTime.now().addmonths(-12);
                 DateTime dt14 = DateTime.now().addmonths(-13);
                 DateTime dt15 = DateTime.now().addmonths(-14);
                //  system.debug('dt8...'+dt8);
                
                Integer y1 = dt1.year();
                String yr1 = String.valueOf(y1);
                Integer y2 = dt2.year();
                String yr2 = String.valueOf(y2);
                Integer y3 = dt3.year();
                String yr3 = String.valueOf(y3);
                Integer y4 = dt4.year();
                String yr4 = String.valueOf(y4);
                Integer y5 = dt5.year();
                String yr5 = String.valueOf(y5);
                Integer y6 = dt6.year();
                String yr6 = String.valueOf(y6);
                Integer y7 = dt7.year();
                String yr7 = String.valueOf(y7);
                Integer y8 = dt8.year();
                String yr8 = String.valueOf(y8);
                Integer y9 = dt9.year();
                String yr9 = String.valueOf(y9);
                Integer y10 = dt10.year();
                String yr10 = String.valueOf(y10);
                Integer y11 = dt11.year();
                String yr11 = String.valueOf(y11);
                Integer y12 = dt12.year();
                String yr12 = String.valueOf(y12);
                 Integer y13 = dt13.year();
                String yr13 = String.valueOf(y13);
                 Integer y14 = dt12.year();
                String yr14 = String.valueOf(y14);
                 Integer y15 = dt15.year();
                String yr15 = String.valueOf(y15);
                
                
                //  Integer m = dt.month();
                // Integer d = dt.day();
                string M1=dt1.format('MMM')+'-'+yr1.substring(2);
                string M2=dt2.format('MMM')+'-'+yr2.substring(2);
                string M3=dt3.format('MMM')+'-'+yr3.substring(2);
                string M4=dt4.format('MMM')+'-'+yr4.substring(2);
                string M5=dt5.format('MMM')+'-'+yr5.substring(2);
                string M6=dt6.format('MMM')+'-'+yr6.substring(2);
                string M7=dt7.format('MMM')+'-'+yr7.substring(2);
                string M8=dt8.format('MMM')+'-'+yr8.substring(2);
                string M9=dt9.format('MMM')+'-'+yr9.substring(2);
                string M10= dt10.format('MMM')+'-'+yr10.substring(2);
                string M11= dt11.format('MMM')+'-'+yr11.substring(2);
                
                string M12= dt12.format('MMM')+'-'+yr12.substring(2);
                string M13= dt13.format('MMM')+'-'+yr13.substring(2);
                string M14= dt14.format('MMM')+'-'+yr14.substring(2);
                string M15= dt15.format('MMM')+'-'+yr15.substring(2);
        
        
        account a = new account();
        a.name='test';
        a.AccountNumber='123454';
        insert a;
        product2 p = new product2();
        p.Name='abc';
        p.ProductCode='123566';
        p.Phoenix_NDC_11__c='45645645645';
        p.Phoenix_NDC__c='4000040000';
        p.IsActive=true;
        insert p;
         Phoenix_Contract__c ctr = new Phoenix_Contract__c();
       ctr.Name = 'Test Contract';
        ctr.Phoenix_Customer__c = a.Id;
        ctr.Phoenix_Contract_Number__c='1234';
        ctr.Phoenix_Contract_Start_Date__c=system.today();
        ctr.Phoenix_Contract_End_Date__c=date.newInstance(2023, 12, 23);
    
        
        
        //ctr.Phoenix_Contract_Status__c='Active';
        insert ctr;
        
       
     Vision_Customer_Product_Tracker__c cpt1 = new Vision_Customer_Product_Tracker__c();
          //  cpt1.Vision_Account__c=acc.Id;
            cpt1.Vision_Contract__c=ctr.Id;
        cpt1.Vision_Contract_Type__c='Direct';
          //  cpt1.Vision_Contract_Product_Status__c='In Opportunity';
          //  cpt1.Vision_Product__c=p1.Id;
            cpt1.Vision_Product_Code__c='123566';
            cpt1.Vision_Contract_Number__c='1234';
            cpt1.Vision_Customer_Code__c='123454';
    cpt1.Vision_Is_In_Awarded__c=true;
            //cpt1.Vision_Price_Effective_Date__c=2022-07-19;
          // cpt1.Vision_Internal_Unique_Identifier__c='-300036391';
          //cpt1.Compliance_Unique_Identifier__c='3000001841-300036391';
          cpt1.General_Category__c='Primary';
         cpt1.Vision_Awarded_Value__c=23;
    cpt1.Vision_Awarded_Volume__c=23.0;
        cpt1.Vision_Supply_Effective_Date__c=system.today();
        cpt1.Vision_Price_Effective_Date__c=system.today();
    cpt1.Vision_Current_Product_Position__c ='Multi-Award';
    
    

  
     Phoenix_NPR_Data__c npr2 = new Phoenix_NPR_Data__c();
        // npr.Phoenix_Account__c=acc.Id;
        npr2.Phoenix_Contract__c = ctr.Id;
       npr2.Phoenix_Contract_Number__c='1234';
        npr2.Phoenix_Product__c=p.Id;
        npr2.Phoenix_Add_ABS_Value__c = 2.00;
    npr2.Phoenix_12Months_Actual_Sales_Unit__c=24.0;
    npr2.Phoenix_12Months_Net_Sales__c=22.0;
    npr2.Phoenix_Account__c=a.id;
    npr2.Phoenix_Contract_Type__c='Direct';
    npr2.Phoenix_NPR_Status__c='Active';
   
   npr2.Phoenix_Material_Number__c='123566';
        insert npr2;
            
           
        //    cpt1.Bid_Line_Item__c=bdl.id;
            
            
            insert cpt1;
        
    Vision_GCP_Backorder_OTC__c bt= new Vision_GCP_Backorder_OTC__c();
    bt.Vision_Sku_Code__c='123566';
    bt.Vision_Backorder_Report_Date__c='2022-10-13';
    insert bt;
    Vision_GCP_Backorder_SRx_Rx__c srrx= new Vision_GCP_Backorder_SRx_Rx__c();
       srrx.Vision_MoH__c=23;
      srrx.Vision_SKU_Code__c='123566';
    srrx.Vision_On_Backorder__c='true';
      insert srrx;
      Vision_GCP_SFDC_Order_Status__c orderst= new Vision_GCP_SFDC_Order_Status__c();
        orderst.Vision_Hierachy_Code__c='152030';
        orderst.Vision_Order_Status__c='NOT DELIVERED';
        orderst.Vision_Order_Date__c=system.today();
        orderst.Vision_Product__c=p.id;
        orderst.Vision_Account__c=a.id;
        orderst.Vision_Order_Quantity__c=25;
        orderst.Vision_Sold_to_Customer_Code__c='156661';
         orderst.Vision_SAP_Created_DateTime__c=system.today();
        orderst.PRISM_SAP_Created_Time__c='00:00:00';
        orderst.Vision_Created_Date__c=system.now();
        orderst.PRISM_SAP_Created_Date__c=system.today();
        orderst.Vision_GCP_Update_Date__c=system.today();
        orderst.GCP_Unique_Identifier__c='a';
        orderst.Vision_Sold_to_Customer_Name__c='bhk';
        insert orderst;
         Vision_GCP_SFDC_Order_Status__c ordersttes= new Vision_GCP_SFDC_Order_Status__c();
        ordersttes.Vision_Hierachy_Code__c='152030';
        ordersttes.Vision_Order_Status__c='NOT DELIVERED';
        ordersttes.Vision_Order_Date__c=system.today();
        ordersttes.Vision_Product__c=p.id;
        ordersttes.Vision_Account__c=a.id;
          ordersttes.Vision_Order_Quantity__c=25;
            ordersttes.Vision_Sold_to_Customer_Code__c='156661';
         ordersttes.Vision_SAP_Created_DateTime__c=system.today();
        ordersttes.PRISM_SAP_Created_Time__c='00:00:00';
        ordersttes.Vision_Created_Date__c=system.now();
        ordersttes.PRISM_SAP_Created_Date__c=system.today();
        ordersttes.Vision_GCP_Update_Date__c=system.today();
          ordersttes.GCP_Unique_Identifier__c='a';
         ordersttes.Vision_Sold_to_Customer_Name__c='bhk';
        insert ordersttes;
        
        Vision_GCP_SFDC_Order_Status__c orderst1= new Vision_GCP_SFDC_Order_Status__c();
        orderst1.Vision_Hierachy_Code__c='152030';
        orderst1.Vision_Order_Status__c='NOT DELIVERED';
        orderst1.Vision_Order_Date__c=system.today().addmonths(-1);
        orderst1.Vision_Product__c=p.id;
        orderst1.Vision_Account__c=a.id;
          orderst1.Vision_Order_Quantity__c=25;
            orderst1.Vision_Sold_to_Customer_Code__c='156661';
        orderst1.Vision_SAP_Created_DateTime__c=system.today();
        orderst1.PRISM_SAP_Created_Time__c='00:00:00';
        orderst1.Vision_Created_Date__c=system.now();
        orderst1.PRISM_SAP_Created_Date__c=system.today();
        orderst1.Vision_GCP_Update_Date__c=system.today();
         orderst1.Vision_Sold_to_Customer_Name__c='bhkw';
    orderst1.GCP_Unique_Identifier__c='b';        
        insert orderst1;
        Vision_GCP_SFDC_Order_Status__c orderst2= new Vision_GCP_SFDC_Order_Status__c();
        orderst2.Vision_Hierachy_Code__c='152030';
        orderst2.Vision_Order_Status__c='NOT DELIVERED';
        orderst2.Vision_Order_Date__c=system.today().addmonths(-2);
        orderst2.Vision_Product__c=p.id;
        orderst2.Vision_Account__c=a.id;
          orderst2.Vision_Order_Quantity__c=25;
            orderst2.Vision_Sold_to_Customer_Code__c='156661';
         orderst2.Vision_SAP_Created_DateTime__c=system.today();
        orderst2.PRISM_SAP_Created_Time__c='00:00:00';
        orderst2.Vision_Created_Date__c=system.now();
        orderst2.PRISM_SAP_Created_Date__c=system.today();
        orderst2.Vision_GCP_Update_Date__c=system.today();
          orderst2.GCP_Unique_Identifier__c='c';
         orderst2.Vision_Sold_to_Customer_Name__c='behk';
        insert orderst2;
         Vision_GCP_SFDC_Order_Status__c orderst3= new Vision_GCP_SFDC_Order_Status__c();
        orderst3.Vision_Hierachy_Code__c='152030';
        orderst3.Vision_Order_Status__c='NOT DELIVERED';
        orderst3.Vision_Order_Date__c=system.today().addmonths(-3);
        orderst3.Vision_Product__c=p.id;
        orderst3.Vision_Account__c=a.id;
          orderst3.Vision_Order_Quantity__c=25;
            orderst3.Vision_Sold_to_Customer_Code__c='156660';
         orderst3.Vision_SAP_Created_DateTime__c=system.today();
        orderst3.PRISM_SAP_Created_Time__c='00:00:00';
        orderst3.Vision_Created_Date__c=system.now();
        orderst3.PRISM_SAP_Created_Date__c=system.today();
        orderst3.Vision_GCP_Update_Date__c=system.today();
          orderst3.GCP_Unique_Identifier__c='d';
         orderst3.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst3;
        Vision_GCP_SFDC_Order_Status__c orderst4= new Vision_GCP_SFDC_Order_Status__c();
        orderst4.Vision_Hierachy_Code__c='152030';
        orderst4.Vision_Order_Status__c='NOT DELIVERED';
        orderst4.Vision_Order_Date__c=system.today().addmonths(-4);
        orderst4.Vision_Product__c=p.id;
        orderst4.Vision_Account__c=a.id;
          orderst4.Vision_Order_Quantity__c=25;
            orderst4.Vision_Sold_to_Customer_Code__c='1562660';
         orderst4.Vision_SAP_Created_DateTime__c=system.today();
        orderst4.PRISM_SAP_Created_Time__c='00:00:00';
        orderst4.Vision_Created_Date__c=system.now();
        orderst4.PRISM_SAP_Created_Date__c=system.today();
        orderst4.Vision_GCP_Update_Date__c=system.today();
          orderst4.GCP_Unique_Identifier__c='d';
         orderst4.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst4;
         Vision_GCP_SFDC_Order_Status__c orderst5= new Vision_GCP_SFDC_Order_Status__c();
        orderst5.Vision_Hierachy_Code__c='152030';
        orderst5.Vision_Order_Status__c='NOT DELIVERED';
        orderst5.Vision_Order_Date__c=system.today().addmonths(-5);
        orderst5.Vision_Product__c=p.id;
        orderst5.Vision_Account__c=a.id;
          orderst5.Vision_Order_Quantity__c=25;
            orderst5.Vision_Sold_to_Customer_Code__c='1566620';
         orderst5.Vision_SAP_Created_DateTime__c=system.today();
        orderst5.PRISM_SAP_Created_Time__c='00:00:00';
        orderst5.Vision_Created_Date__c=system.now();
        orderst5.PRISM_SAP_Created_Date__c=system.today();
        orderst5.Vision_GCP_Update_Date__c=system.today();
          orderst5.GCP_Unique_Identifier__c='d';
         orderst5.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst5;
         Vision_GCP_SFDC_Order_Status__c orderst6= new Vision_GCP_SFDC_Order_Status__c();
        orderst6.Vision_Hierachy_Code__c='152030';
        orderst6.Vision_Order_Status__c='NOT DELIVERED';
        orderst6.Vision_Order_Date__c=system.today().addmonths(-6);
        orderst6.Vision_Product__c=p.id;
        orderst6.Vision_Account__c=a.id;
          orderst6.Vision_Order_Quantity__c=25;
            orderst6.Vision_Sold_to_Customer_Code__c='1566160';
         orderst6.Vision_SAP_Created_DateTime__c=system.today();
        orderst6.PRISM_SAP_Created_Time__c='00:00:00';
        orderst6.Vision_Created_Date__c=system.now();
        orderst6.PRISM_SAP_Created_Date__c=system.today();
        orderst6.Vision_GCP_Update_Date__c=system.today();
          orderst6.GCP_Unique_Identifier__c='d';
         orderst6.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst6;
        
        Vision_GCP_SFDC_Order_Status__c orderst7= new Vision_GCP_SFDC_Order_Status__c();
        orderst7.Vision_Hierachy_Code__c='152030';
        orderst7.Vision_Order_Status__c='NOT DELIVERED';
        orderst7.Vision_Order_Date__c=system.today().addmonths(-6);
        orderst7.Vision_Product__c=p.id;
        orderst7.Vision_Account__c=a.id;
          orderst7.Vision_Order_Quantity__c=25;
            orderst7.Vision_Sold_to_Customer_Code__c='1566602';
         orderst7.Vision_SAP_Created_DateTime__c=system.today();
        orderst7.PRISM_SAP_Created_Time__c='00:00:00';
        orderst7.Vision_Created_Date__c=system.now();
        orderst7.PRISM_SAP_Created_Date__c=system.today();
        orderst7.Vision_GCP_Update_Date__c=system.today();
          orderst7.GCP_Unique_Identifier__c='d';
         orderst7.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst7;
        Vision_GCP_SFDC_Order_Status__c orderst8= new Vision_GCP_SFDC_Order_Status__c();
        orderst8.Vision_Hierachy_Code__c='152030';
        orderst8.Vision_Order_Status__c='NOT DELIVERED';
        orderst8.Vision_Order_Date__c=system.today().addmonths(-7);
        orderst8.Vision_Product__c=p.id;
        orderst8.Vision_Account__c=a.id;
          orderst8.Vision_Order_Quantity__c=25;
            orderst8.Vision_Sold_to_Customer_Code__c='15666xc0';
         orderst8.Vision_SAP_Created_DateTime__c=system.today();
        orderst8.PRISM_SAP_Created_Time__c='00:00:00';
        orderst8.Vision_Created_Date__c=system.now();
        orderst8.PRISM_SAP_Created_Date__c=system.today();
        orderst8.Vision_GCP_Update_Date__c=system.today();
          orderst8.GCP_Unique_Identifier__c='d';
         orderst8.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst8;
         Vision_GCP_SFDC_Order_Status__c orderst9= new Vision_GCP_SFDC_Order_Status__c();
        orderst9.Vision_Hierachy_Code__c='152030';
        orderst9.Vision_Order_Status__c='NOT DELIVERED';
        orderst9.Vision_Order_Date__c=system.today().addmonths(-8);
        orderst9.Vision_Product__c=p.id;
        orderst9.Vision_Account__c=a.id;
          orderst9.Vision_Order_Quantity__c=25;
            orderst9.Vision_Sold_to_Customer_Code__c='1566q6xc0';
         orderst9.Vision_SAP_Created_DateTime__c=system.today();
        orderst9.PRISM_SAP_Created_Time__c='00:00:00';
        orderst9.Vision_Created_Date__c=system.now();
        orderst9.PRISM_SAP_Created_Date__c=system.today();
        orderst9.Vision_GCP_Update_Date__c=system.today();
          orderst9.GCP_Unique_Identifier__c='d';
         orderst9.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst9;
         Vision_GCP_SFDC_Order_Status__c orderst10= new Vision_GCP_SFDC_Order_Status__c();
        orderst10.Vision_Hierachy_Code__c='152030';
        orderst10.Vision_Order_Status__c='NOT DELIVERED';
        orderst10.Vision_Order_Date__c=system.today().addmonths(-9);
        orderst10.Vision_Product__c=p.id;
        orderst10.Vision_Account__c=a.id;
          orderst10.Vision_Order_Quantity__c=25;
            orderst10.Vision_Sold_to_Customer_Code__c='1566qq6xc0';
         orderst10.Vision_SAP_Created_DateTime__c=system.today();
        orderst10.PRISM_SAP_Created_Time__c='00:00:00';
        orderst10.Vision_Created_Date__c=system.now();
        orderst10.PRISM_SAP_Created_Date__c=system.today();
        orderst10.Vision_GCP_Update_Date__c=system.today();
          orderst10.GCP_Unique_Identifier__c='d';
         orderst10.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst10;
        Vision_GCP_SFDC_Order_Status__c orderst11= new Vision_GCP_SFDC_Order_Status__c();
        orderst11.Vision_Hierachy_Code__c='152030';
        orderst11.Vision_Order_Status__c='NOT DELIVERED';
        orderst11.Vision_Order_Date__c=system.today().addmonths(-10);
        orderst11.Vision_Product__c=p.id;
        orderst11.Vision_Account__c=a.id;
          orderst11.Vision_Order_Quantity__c=25;
            orderst11.Vision_Sold_to_Customer_Code__c='1566qq86xc0';
         orderst11.Vision_SAP_Created_DateTime__c=system.today();
        orderst11.PRISM_SAP_Created_Time__c='00:00:00';
        orderst11.Vision_Created_Date__c=system.now();
        orderst11.PRISM_SAP_Created_Date__c=system.today();
        orderst11.Vision_GCP_Update_Date__c=system.today();
          orderst11.GCP_Unique_Identifier__c='d';
         orderst11.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst11;
         Vision_GCP_SFDC_Order_Status__c orderst12= new Vision_GCP_SFDC_Order_Status__c();
        orderst12.Vision_Hierachy_Code__c='152030';
        orderst12.Vision_Order_Status__c='NOT DELIVERED';
        orderst12.Vision_Order_Date__c=system.today().addmonths(-11);
        orderst12.Vision_Product__c=p.id;
        orderst12.Vision_Account__c=a.id;
          orderst12.Vision_Order_Quantity__c=25;
            orderst12.Vision_Sold_to_Customer_Code__c='1566qq86qxc0';
         orderst12.Vision_SAP_Created_DateTime__c=system.today();
        orderst12.PRISM_SAP_Created_Time__c='00:00:00';
        orderst12.Vision_Created_Date__c=system.now();
        orderst12.PRISM_SAP_Created_Date__c=system.today();
        orderst12.Vision_GCP_Update_Date__c=system.today();
          orderst12.GCP_Unique_Identifier__c='d';
         orderst12.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst12;
          Order_Compliance_Data__c ocd1= new Order_Compliance_Data__c();
        ocd1.Hierachy_Code__c='123454';
        ocd1.Product_Code__c='123566';
        ocd1.Vision_Unique_Identifier__c='1234-123566';
        ocd1.GCP_Backorder_OTC__c=bt.id;
        ocd1.Month1__c=m1;
         ocd1.Month2__c=m2;
         ocd1.Month3__c=m3;
         ocd1.Month4__c=m4;
         ocd1.Month5__c=m5;
         ocd1.Month6__c=m6;
         ocd1.Month7__c=m7;
         ocd1.Month8__c=m8;
         ocd1.Month9__c=m9;
         ocd1.Month10__c=m10;
         ocd1.Month11__c=m11;
         ocd1.Month12__c=m12;
         ocd1.Month13__c=m13;
         ocd1.Month14__c=m14;
         ocd1.Month15__c=m15;
        ocd1.M1_Quantity__c=56;
         ocd1.M2_Quantity__c=56;
         ocd1.M3_Quantity__c=56;
         ocd1.M4_Quantity__c=56;
         ocd1.M5_Quantity__c=56;
         ocd1.M6_Quantity__c=56;
         ocd1.M7_Quantity__c=56;
         ocd1.M8_Quantity__c=56;
         ocd1.M9_Quantity__c=56;
         ocd1.M10_Quantity__c=56;
         ocd1.M11_Quantity__c=56;
         ocd1.M12_Quantity__c=56;
         ocd1.M13_Quantity__c=56;
         ocd1.M14_Quantity__c=56;
         ocd1.M15_Quantity__c=56;
        ocd1.Awarded_Quantity__c=56;
        insert ocd1;
         Order_Compliance_Data__c ocd2= new Order_Compliance_Data__c();
        ocd2.Hierachy_Code__c='123454';
        ocd2.Product_Code__c='123566';
        ocd2.Vision_Unique_Identifier__c='1234-123566';
        ocd2.GCP_Backorder_OTC__c=bt.id;
        ocd2.Month1__c=m1;
         ocd2.Month2__c=m2;
         ocd2.Month3__c=m3;
         ocd2.Month4__c=m4;
         ocd2.Month5__c=m5;
         ocd2.Month6__c=m6;
         ocd2.Month7__c=m7;
         ocd2.Month8__c=m8;
         ocd2.Month9__c=m9;
         ocd2.Month10__c=m10;
         ocd2.Month11__c=m11;
         ocd2.Month12__c=m12;
         ocd2.Month13__c=m13;
         ocd2.Month14__c=m14;
         ocd2.Month15__c=m15;
        ocd2.M1_Quantity__c=56;
         ocd2.M2_Quantity__c=56;
         ocd2.M3_Quantity__c=56;
         ocd2.M4_Quantity__c=56;
         ocd2.M5_Quantity__c=56;
         ocd2.M6_Quantity__c=56;
         ocd2.M7_Quantity__c=56;
         ocd2.M8_Quantity__c=56;
         ocd2.M9_Quantity__c=56;
         ocd2.M10_Quantity__c=56;
         ocd2.M11_Quantity__c=56;
         ocd2.M12_Quantity__c=56;
         ocd2.M13_Quantity__c=56;
         ocd2.M14_Quantity__c=56;
         ocd2.M15_Quantity__c=56;
        ocd2.Awarded_Quantity__c=56;
        insert ocd2;
        
        
        test.startTest();
           OrdercompliancerecordscreationBatch b= new OrdercompliancerecordscreationBatch();
        database.executeBatch(b);
        OrderComplianceFTDQTDMTD c= new OrderComplianceFTDQTDMTD();
        database.executeBatch(c);
        test.stopTest();
        
    }
     static testmethod void main1(){
        account a = new account();
        a.name='test';
        a.AccountNumber='14564';
        insert a;
        product2 p = new product2();
        p.Name='abc';
        p.ProductCode='300015689';
        insert p;
      Vision_GCP_SFDC_Order_Status__c orderst= new Vision_GCP_SFDC_Order_Status__c();
        orderst.Vision_Hierachy_Code__c='152030';
        orderst.Vision_Order_Status__c='NOT DELIVERED';
        orderst.Vision_Order_Date__c=system.today();
        orderst.Vision_Product__c=p.id;
        orderst.Vision_Account__c=a.id;
        orderst.Vision_Order_Quantity__c=25;
        orderst.Vision_Sold_to_Customer_Code__c='156661';
         orderst.Vision_SAP_Created_DateTime__c=system.today()-1;
        orderst.PRISM_SAP_Created_Time__c='00:00:00';
        orderst.Vision_Created_Date__c=system.now();
        orderst.PRISM_SAP_Created_Date__c=system.today();
        orderst.Vision_GCP_Update_Date__c=system.today();
        orderst.GCP_Unique_Identifier__c='a';
        orderst.Vision_Sold_to_Customer_Name__c='bhk';
        insert orderst;
          Vision_GCP_SFDC_Order_Status__c orderst12= new Vision_GCP_SFDC_Order_Status__c();
        orderst12.Vision_Hierachy_Code__c='152030';
        orderst12.Vision_Order_Status__c='NOT DELIVERED';
        orderst12.Vision_Order_Date__c=system.today().addmonths(-10);
        orderst12.Vision_Product__c=p.id;
        orderst12.Vision_Account__c=a.id;
          orderst12.Vision_Order_Quantity__c=25;
            orderst12.Vision_Sold_to_Customer_Code__c='1566qq6xc0';
         orderst12.Vision_SAP_Created_DateTime__c=system.today();
        orderst12.PRISM_SAP_Created_Time__c='00:00:00';
        orderst12.Vision_Created_Date__c=system.now();
        orderst12.PRISM_SAP_Created_Date__c=system.today();
        orderst12.Vision_GCP_Update_Date__c=system.today();
          orderst12.GCP_Unique_Identifier__c='d';
         orderst12.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst12;
          Vision_GCP_SFDC_Order_Status__c orderst11= new Vision_GCP_SFDC_Order_Status__c();
        orderst11.Vision_Hierachy_Code__c='152030';
        orderst11.Vision_Order_Status__c='NOT DELIVERED';
        orderst11.Vision_Order_Date__c=system.today().addmonths(-10);
        orderst11.Vision_Product__c=p.id;
        orderst11.Vision_Account__c=a.id;
          orderst11.Vision_Order_Quantity__c=25;
            orderst11.Vision_Sold_to_Customer_Code__c='1566qq6xc0';
         orderst11.Vision_SAP_Created_DateTime__c=system.today();
        orderst11.PRISM_SAP_Created_Time__c='00:00:00';
        orderst11.Vision_Created_Date__c=system.now();
        orderst11.PRISM_SAP_Created_Date__c=system.today();
        orderst11.Vision_GCP_Update_Date__c=system.today();
          orderst11.GCP_Unique_Identifier__c='d';
         orderst11.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst11;
          
        Vision_GCP_SFDC_Order_Status__c orderst1= new Vision_GCP_SFDC_Order_Status__c();
        orderst1.Vision_Hierachy_Code__c='152030';
        orderst1.Vision_Order_Status__c='NOT DELIVERED';
        orderst1.Vision_Order_Date__c=system.today()-1;
        orderst1.Vision_Product__c=p.id;
        orderst1.Vision_Account__c=a.id;
          orderst1.Vision_Order_Quantity__c=25;
            orderst1.Vision_Sold_to_Customer_Code__c='156661';
        orderst1.Vision_SAP_Created_DateTime__c=system.today();
        orderst1.PRISM_SAP_Created_Time__c='00:00:00';
        orderst1.Vision_Created_Date__c=system.now();
        orderst1.PRISM_SAP_Created_Date__c=system.today();
        orderst1.Vision_GCP_Update_Date__c=system.today();
         orderst1.Vision_Sold_to_Customer_Name__c='bhkw';
    orderst1.GCP_Unique_Identifier__c='b';        
        insert orderst1;
        Vision_GCP_SFDC_Order_Status__c orderst2= new Vision_GCP_SFDC_Order_Status__c();
        orderst2.Vision_Hierachy_Code__c='152030';
        orderst2.Vision_Order_Status__c='NOT DELIVERED';
        orderst2.Vision_Order_Date__c=system.today()-2;
        orderst2.Vision_Product__c=p.id;
        orderst2.Vision_Account__c=a.id;
          orderst2.Vision_Order_Quantity__c=25;
            orderst2.Vision_Sold_to_Customer_Code__c='156661';
         orderst2.Vision_SAP_Created_DateTime__c=system.today();
        orderst2.PRISM_SAP_Created_Time__c='00:00:00';
        orderst2.Vision_Created_Date__c=system.now();
        orderst2.PRISM_SAP_Created_Date__c=system.today();
        orderst2.Vision_GCP_Update_Date__c=system.today();
          orderst2.GCP_Unique_Identifier__c='c';
         orderst2.Vision_Sold_to_Customer_Name__c='behk';
        insert orderst2;
         Vision_GCP_SFDC_Order_Status__c orderst3= new Vision_GCP_SFDC_Order_Status__c();
        orderst3.Vision_Hierachy_Code__c='152030';
        orderst3.Vision_Order_Status__c='NOT DELIVERED';
        orderst3.Vision_Order_Date__c=system.today()-3;
        orderst3.Vision_Product__c=p.id;
        orderst3.Vision_Account__c=a.id;
          orderst3.Vision_Order_Quantity__c=25;
            orderst3.Vision_Sold_to_Customer_Code__c='156660';
         orderst3.Vision_SAP_Created_DateTime__c=system.today();
        orderst3.PRISM_SAP_Created_Time__c='00:00:00';
        orderst3.Vision_Created_Date__c=system.now();
        orderst3.PRISM_SAP_Created_Date__c=system.today();
        orderst3.Vision_GCP_Update_Date__c=system.today();
          orderst3.GCP_Unique_Identifier__c='d';
         orderst3.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst3;
        test.startTest();
           OrdercompliancerecordscreationBatch b= new OrdercompliancerecordscreationBatch();
        database.executeBatch(b);
        test.stopTest();
        
    }
     static testmethod void main2(){
        account a = new account();
        a.name='test';
        a.AccountNumber='14564';
        insert a;
        product2 p = new product2();
        p.Name='abc';
        p.ProductCode='300015689';
        insert p;
      Vision_GCP_SFDC_Order_Status__c orderst= new Vision_GCP_SFDC_Order_Status__c();
        orderst.Vision_Hierachy_Code__c='152030';
        orderst.Vision_Order_Status__c='NOT DELIVERED';
        orderst.Vision_Order_Date__c=system.today();
        orderst.Vision_Product__c=p.id;
        orderst.Vision_Account__c=a.id;
        orderst.Vision_Order_Quantity__c=25;
        orderst.Vision_Sold_to_Customer_Code__c='156661';
         orderst.Vision_SAP_Created_DateTime__c=system.today();
        orderst.PRISM_SAP_Created_Time__c='00:00:00';
        orderst.Vision_Created_Date__c=system.now();
        orderst.PRISM_SAP_Created_Date__c=system.today();
        orderst.Vision_GCP_Update_Date__c=system.today();
        orderst.GCP_Unique_Identifier__c='a';
        orderst.Vision_Sold_to_Customer_Name__c='bhk';
        insert orderst;
        Vision_GCP_SFDC_Order_Status__c orderst1= new Vision_GCP_SFDC_Order_Status__c();
        orderst1.Vision_Hierachy_Code__c='152030';
        orderst1.Vision_Order_Status__c='NOT DELIVERED';
        orderst1.Vision_Order_Date__c=system.today()-1;
        orderst1.Vision_Product__c=p.id;
        orderst1.Vision_Account__c=a.id;
          orderst1.Vision_Order_Quantity__c=25;
            orderst1.Vision_Sold_to_Customer_Code__c='156661';
        orderst1.Vision_SAP_Created_DateTime__c=system.today();
        orderst1.PRISM_SAP_Created_Time__c='00:00:00';
        orderst1.Vision_Created_Date__c=system.now();
        orderst1.PRISM_SAP_Created_Date__c=system.today();
        orderst1.Vision_GCP_Update_Date__c=system.today();
         orderst1.Vision_Sold_to_Customer_Name__c='bhkw';
    orderst1.GCP_Unique_Identifier__c='b';        
        insert orderst1;
        Vision_GCP_SFDC_Order_Status__c orderst2= new Vision_GCP_SFDC_Order_Status__c();
        orderst2.Vision_Hierachy_Code__c='152030';
        orderst2.Vision_Order_Status__c='NOT DELIVERED';
        orderst2.Vision_Order_Date__c=system.today()-2;
        orderst2.Vision_Product__c=p.id;
        orderst2.Vision_Account__c=a.id;
          orderst2.Vision_Order_Quantity__c=25;
            orderst2.Vision_Sold_to_Customer_Code__c='156661';
         orderst2.Vision_SAP_Created_DateTime__c=system.today();
        orderst2.PRISM_SAP_Created_Time__c='00:00:00';
        orderst2.Vision_Created_Date__c=system.now();
        orderst2.PRISM_SAP_Created_Date__c=system.today();
        orderst2.Vision_GCP_Update_Date__c=system.today();
          orderst2.GCP_Unique_Identifier__c='c';
         orderst2.Vision_Sold_to_Customer_Name__c='behk';
        insert orderst2;
         Vision_GCP_SFDC_Order_Status__c orderst3= new Vision_GCP_SFDC_Order_Status__c();
        orderst3.Vision_Hierachy_Code__c='152030';
        orderst3.Vision_Order_Status__c='NOT DELIVERED';
        orderst3.Vision_Order_Date__c=system.today()-3;
        orderst3.Vision_Product__c=p.id;
        orderst3.Vision_Account__c=a.id;
          orderst3.Vision_Order_Quantity__c=25;
            orderst3.Vision_Sold_to_Customer_Code__c='156660';
         orderst3.Vision_SAP_Created_DateTime__c=system.today();
        orderst3.PRISM_SAP_Created_Time__c='00:00:00';
        orderst3.Vision_Created_Date__c=system.now();
        orderst3.PRISM_SAP_Created_Date__c=system.today();
        orderst3.Vision_GCP_Update_Date__c=system.today();
          orderst3.GCP_Unique_Identifier__c='d';
         orderst3.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst3;
         
        test.startTest();
           OrdercompliancerecordscreationBatch b= new OrdercompliancerecordscreationBatch();
        database.executeBatch(b);
        test.stopTest();
        
    }
    static testmethod void complianceawardedqtyclass(){
          account a = new account();
         a.name='test';
         a.accountnumber='123454';
    insert a;
    account a1= new account();
        a1.name='test1';
        a1.accountnumber='111111';
        insert a1;
     list<Product2> plist = new list<Product2>();
        Product2 p=new Product2();
        p.Name='abc pharma';
        p.OTC_Customer__c=a.id;
        p.IsActive=true;
        p.Phoenix_Is_Exclude_Bid__c=false;
        p.Vision_Is_CPT_Batch_Executed__c=false;
        p.Phoenix_Is_Private_Label_OTC__c=true;
        p.Phoenix_NDC_11__c='23364347';
       // p.ProductCode='123567';
        // p.Phoenix_NDC_11__c='23364848';
        p.ProductCode='123566';
        //p.Phoenix_Product_Director__c=u.id;
      p.Phoenix_NDC__c='5555555';
        p.Phoenix_GPI_Generic_Product_Identifier__c = '11111';
        p.Family = 'Test Family';
        p.Phoenix_Throughput_cost__c=10.23456576;
        p.Phoenix_GCN_Sequence_Number__c='666666';
        p.Phoenix_Pkg_Size__c=25.0;
        plist.add(p);
     Product2 p1=new Product2();
        p1.Name='abc pharma2';
        p1.OTC_Customer__c=a1.id;
        p1.IsActive=true;
        p1.Phoenix_Is_Exclude_Bid__c=false;
        p1.Vision_Is_CPT_Batch_Executed__c=false;
        p1.Phoenix_Is_Private_Label_OTC__c=true;
        p1.Phoenix_NDC_11__c='23364347';
       // p.ProductCode='123567';
        // p.Phoenix_NDC_11__c='23364848';
        p1.ProductCode='123576';
        //p.Phoenix_Product_Director__c=u.id;
      p1.Phoenix_NDC__c='5555555';
        p1.Phoenix_GPI_Generic_Product_Identifier__c = '11111';
        p1.Family = 'Test Family';
        p1.Phoenix_Throughput_cost__c=10.23456576;
        p1.Phoenix_GCN_Sequence_Number__c='666666';
        p.Phoenix_Pkg_Size__c=25.0;
        plist.add(p1);
   
    insert plist;
     Phoenix_Contract__c ctr = new Phoenix_Contract__c();
       ctr.Name = 'Test Contract';
        ctr.Phoenix_Customer__c = a.Id;
        ctr.Phoenix_Contract_Number__c='1234';
        ctr.Phoenix_Contract_Start_Date__c=system.today();
        ctr.Phoenix_Contract_End_Date__c=date.newInstance(2023, 12, 23);
    
        
        
        //ctr.Phoenix_Contract_Status__c='Active';
        insert ctr;
        
       
  
           Phoenix_NPR_Data__c npr2 = new Phoenix_NPR_Data__c();
        // npr.Phoenix_Account__c=acc.Id;
        npr2.Phoenix_Contract__c = ctr.Id;
       npr2.Phoenix_Contract_Number__c='1234';
        npr2.Phoenix_Product__c=p.Id;
        npr2.Phoenix_Add_ABS_Value__c = 2.00;
    npr2.Phoenix_12Months_Actual_Sales_Unit__c=24.0;
    npr2.Phoenix_12Months_Net_Sales__c=22.0;
    npr2.Phoenix_Account__c=a.id;
    npr2.Phoenix_Contract_Type__c='Direct';
    npr2.Phoenix_NPR_Status__c='Active';
   
   npr2.Phoenix_Material_Number__c='123566';
        insert npr2;
      
         Order_Compliance_Data__c ocd= new Order_Compliance_Data__c();
        ocd.Hierachy_Code__c='123454';
        ocd.Product_Code__c='123566';
        ocd.Vision_Unique_Identifier__c='1234-123566';
        insert ocd;
              Vision_Customer_Product_Tracker__c cpt1 = new Vision_Customer_Product_Tracker__c();
          //  cpt1.Vision_Account__c=acc.Id;
            cpt1.Vision_Contract__c=ctr.Id;
        cpt1.Vision_Contract_Type__c='Direct';
          //  cpt1.Vision_Contract_Product_Status__c='In Opportunity';
          //  cpt1.Vision_Product__c=p1.Id;
            cpt1.Vision_Product_Code__c='123566';
            cpt1.Vision_Contract_Number__c='1234';
            cpt1.Vision_Customer_Code__c='123454';
    cpt1.Vision_Is_In_Awarded__c=true;
            //cpt1.Vision_Price_Effective_Date__c=2022-07-19;
          // cpt1.Vision_Internal_Unique_Identifier__c='-300036391';
          //cpt1.Compliance_Unique_Identifier__c='3000001841-300036391';
          cpt1.General_Category__c='Primary';
         cpt1.Vision_Awarded_Value__c=23;
    cpt1.Vision_Awarded_Volume__c=23.0;
    cpt1.Vision_Current_Product_Position__c ='Multi-Award';
    cpt1.Vision_Price_Effective_Date__c=system.today();
        cpt1.Vision_Supply_Effective_Date__c=system.today();
      
            
           
        //    cpt1.Bid_Line_Item__c=bdl.id;
            
            
            insert cpt1; 
    Vision_GCP_Backorder_OTC__c bt= new Vision_GCP_Backorder_OTC__c();
    bt.Vision_Sku_Code__c='123566';
    bt.Vision_Backorder_Report_Date__c='2022-10-13';
    insert bt;
    Vision_GCP_Backorder_SRx_Rx__c srrx= new Vision_GCP_Backorder_SRx_Rx__c();
       srrx.Vision_MoH__c=23;
      srrx.Vision_SKU_Code__c='123566';
    srrx.Vision_On_Backorder__c='true';
      insert srrx;
                 Vision_GCP_SFDC_Order_Status__c orderst= new Vision_GCP_SFDC_Order_Status__c();
        orderst.Vision_Hierachy_Code__c='123454';
        orderst.Vision_Order_Status__c='NOT DELIVERED';
        orderst.Vision_Order_Date__c=system.today();
        orderst.Vision_Product__c=p.id;
        orderst.Vision_Account__c=a.id;
        orderst.Vision_Order_Quantity__c=25;
        orderst.Vision_Sold_to_Customer_Code__c='156661';
         orderst.Vision_SAP_Created_DateTime__c=system.today();
        orderst.PRISM_SAP_Created_Time__c='00:00:00';
        orderst.Vision_Created_Date__c=system.now();
        orderst.PRISM_SAP_Created_Date__c=system.today();
        orderst.Vision_GCP_Update_Date__c=system.today();
        orderst.GCP_Unique_Identifier__c='a';
        orderst.Vision_Sold_to_Customer_Name__c='bhk';
        insert orderst;
         Vision_GCP_SFDC_Order_Status__c ordersttes= new Vision_GCP_SFDC_Order_Status__c();
        ordersttes.Vision_Hierachy_Code__c='123454';
        ordersttes.Vision_Order_Status__c='NOT DELIVERED';
        ordersttes.Vision_Order_Date__c=system.today();
        ordersttes.Vision_Product__c=p.id;
        ordersttes.Vision_Account__c=a.id;
          ordersttes.Vision_Order_Quantity__c=25;
            ordersttes.Vision_Sold_to_Customer_Code__c='156661';
         ordersttes.Vision_SAP_Created_DateTime__c=system.today();
        ordersttes.PRISM_SAP_Created_Time__c='00:00:00';
        ordersttes.Vision_Created_Date__c=system.now();
        ordersttes.PRISM_SAP_Created_Date__c=system.today();
        ordersttes.Vision_GCP_Update_Date__c=system.today();
          ordersttes.GCP_Unique_Identifier__c='a';
         ordersttes.Vision_Sold_to_Customer_Name__c='bhk';
        insert ordersttes;
        
        Vision_GCP_SFDC_Order_Status__c orderst1= new Vision_GCP_SFDC_Order_Status__c();
        orderst1.Vision_Hierachy_Code__c='123454';
        orderst1.Vision_Order_Status__c='NOT DELIVERED';
        orderst1.Vision_Order_Date__c=system.today().addmonths(-1);
        orderst1.Vision_Product__c=p.id;
        orderst1.Vision_Account__c=a.id;
          orderst1.Vision_Order_Quantity__c=25;
            orderst1.Vision_Sold_to_Customer_Code__c='156661';
        orderst1.Vision_SAP_Created_DateTime__c=system.today();
        orderst1.PRISM_SAP_Created_Time__c='00:00:00';
        orderst1.Vision_Created_Date__c=system.now();
        orderst1.PRISM_SAP_Created_Date__c=system.today();
        orderst1.Vision_GCP_Update_Date__c=system.today();
         orderst1.Vision_Sold_to_Customer_Name__c='bhkw';
    orderst1.GCP_Unique_Identifier__c='b';        
        insert orderst1;
        Vision_GCP_SFDC_Order_Status__c orderst2= new Vision_GCP_SFDC_Order_Status__c();
        orderst2.Vision_Hierachy_Code__c='123454';
        orderst2.Vision_Order_Status__c='NOT DELIVERED';
        orderst2.Vision_Order_Date__c=system.today().addmonths(-2);
        orderst2.Vision_Product__c=p.id;
        orderst2.Vision_Account__c=a.id;
          orderst2.Vision_Order_Quantity__c=25;
            orderst2.Vision_Sold_to_Customer_Code__c='156661';
         orderst2.Vision_SAP_Created_DateTime__c=system.today();
        orderst2.PRISM_SAP_Created_Time__c='00:00:00';
        orderst2.Vision_Created_Date__c=system.now();
        orderst2.PRISM_SAP_Created_Date__c=system.today();
        orderst2.Vision_GCP_Update_Date__c=system.today();
          orderst2.GCP_Unique_Identifier__c='c';
         orderst2.Vision_Sold_to_Customer_Name__c='behk';
        insert orderst2;
         Vision_GCP_SFDC_Order_Status__c orderst3= new Vision_GCP_SFDC_Order_Status__c();
        orderst3.Vision_Hierachy_Code__c='123454';
        orderst3.Vision_Order_Status__c='NOT DELIVERED';
        orderst3.Vision_Order_Date__c=system.today().addmonths(-3);
        orderst3.Vision_Product__c=p.id;
        orderst3.Vision_Account__c=a.id;
          orderst3.Vision_Order_Quantity__c=25;
            orderst3.Vision_Sold_to_Customer_Code__c='156660';
         orderst3.Vision_SAP_Created_DateTime__c=system.today();
        orderst3.PRISM_SAP_Created_Time__c='00:00:00';
        orderst3.Vision_Created_Date__c=system.now();
        orderst3.PRISM_SAP_Created_Date__c=system.today();
        orderst3.Vision_GCP_Update_Date__c=system.today();
          orderst3.GCP_Unique_Identifier__c='d';
         orderst3.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst3;
        Vision_GCP_SFDC_Order_Status__c orderst4= new Vision_GCP_SFDC_Order_Status__c();
        orderst4.Vision_Hierachy_Code__c='123454';
        orderst4.Vision_Order_Status__c='NOT DELIVERED';
        orderst4.Vision_Order_Date__c=system.today().addmonths(-4);
        orderst4.Vision_Product__c=p.id;
        orderst4.Vision_Account__c=a.id;
          orderst4.Vision_Order_Quantity__c=25;
            orderst4.Vision_Sold_to_Customer_Code__c='1562660';
         orderst4.Vision_SAP_Created_DateTime__c=system.today();
        orderst4.PRISM_SAP_Created_Time__c='00:00:00';
        orderst4.Vision_Created_Date__c=system.now();
        orderst4.PRISM_SAP_Created_Date__c=system.today();
        orderst4.Vision_GCP_Update_Date__c=system.today();
          orderst4.GCP_Unique_Identifier__c='d';
         orderst4.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst4;
         Vision_GCP_SFDC_Order_Status__c orderst5= new Vision_GCP_SFDC_Order_Status__c();
        orderst5.Vision_Hierachy_Code__c='123454';
        orderst5.Vision_Order_Status__c='NOT DELIVERED';
        orderst5.Vision_Order_Date__c=system.today().addmonths(-5);
        orderst5.Vision_Product__c=p.id;
        orderst5.Vision_Account__c=a.id;
          orderst5.Vision_Order_Quantity__c=25;
            orderst5.Vision_Sold_to_Customer_Code__c='1566620';
         orderst5.Vision_SAP_Created_DateTime__c=system.today();
        orderst5.PRISM_SAP_Created_Time__c='00:00:00';
        orderst5.Vision_Created_Date__c=system.now();
        orderst5.PRISM_SAP_Created_Date__c=system.today();
        orderst5.Vision_GCP_Update_Date__c=system.today();
          orderst5.GCP_Unique_Identifier__c='d';
         orderst5.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst5;
         Vision_GCP_SFDC_Order_Status__c orderst6= new Vision_GCP_SFDC_Order_Status__c();
        orderst6.Vision_Hierachy_Code__c='123454';
        orderst6.Vision_Order_Status__c='NOT DELIVERED';
        orderst6.Vision_Order_Date__c=system.today().addmonths(-6);
        orderst6.Vision_Product__c=p.id;
        orderst6.Vision_Account__c=a.id;
          orderst6.Vision_Order_Quantity__c=25;
            orderst6.Vision_Sold_to_Customer_Code__c='1566160';
         orderst6.Vision_SAP_Created_DateTime__c=system.today();
        orderst6.PRISM_SAP_Created_Time__c='00:00:00';
        orderst6.Vision_Created_Date__c=system.now();
        orderst6.PRISM_SAP_Created_Date__c=system.today();
        orderst6.Vision_GCP_Update_Date__c=system.today();
          orderst6.GCP_Unique_Identifier__c='d';
         orderst6.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst6;
        
        Vision_GCP_SFDC_Order_Status__c orderst7= new Vision_GCP_SFDC_Order_Status__c();
        orderst7.Vision_Hierachy_Code__c='123454';
        orderst7.Vision_Order_Status__c='NOT DELIVERED';
        orderst7.Vision_Order_Date__c=system.today().addmonths(-6);
        orderst7.Vision_Product__c=p.id;
        orderst7.Vision_Account__c=a.id;
          orderst7.Vision_Order_Quantity__c=25;
            orderst7.Vision_Sold_to_Customer_Code__c='1566602';
         orderst7.Vision_SAP_Created_DateTime__c=system.today();
        orderst7.PRISM_SAP_Created_Time__c='00:00:00';
        orderst7.Vision_Created_Date__c=system.now();
        orderst7.PRISM_SAP_Created_Date__c=system.today();
        orderst7.Vision_GCP_Update_Date__c=system.today();
          orderst7.GCP_Unique_Identifier__c='d';
         orderst7.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst7;
        Vision_GCP_SFDC_Order_Status__c orderst8= new Vision_GCP_SFDC_Order_Status__c();
        orderst8.Vision_Hierachy_Code__c='123454';
        orderst8.Vision_Order_Status__c='NOT DELIVERED';
        orderst8.Vision_Order_Date__c=system.today().addmonths(-7);
        orderst8.Vision_Product__c=p.id;
        orderst8.Vision_Account__c=a.id;
          orderst8.Vision_Order_Quantity__c=25;
            orderst8.Vision_Sold_to_Customer_Code__c='15666xc0';
         orderst8.Vision_SAP_Created_DateTime__c=system.today();
        orderst8.PRISM_SAP_Created_Time__c='00:00:00';
        orderst8.Vision_Created_Date__c=system.now();
        orderst8.PRISM_SAP_Created_Date__c=system.today();
        orderst8.Vision_GCP_Update_Date__c=system.today();
          orderst8.GCP_Unique_Identifier__c='d';
         orderst8.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst8;
         Vision_GCP_SFDC_Order_Status__c orderst9= new Vision_GCP_SFDC_Order_Status__c();
        orderst9.Vision_Hierachy_Code__c='123454';
        orderst9.Vision_Order_Status__c='NOT DELIVERED';
        orderst9.Vision_Order_Date__c=system.today().addmonths(-8);
        orderst9.Vision_Product__c=p.id;
        orderst9.Vision_Account__c=a.id;
          orderst9.Vision_Order_Quantity__c=25;
            orderst9.Vision_Sold_to_Customer_Code__c='1566q6xc0';
         orderst9.Vision_SAP_Created_DateTime__c=system.today();
        orderst9.PRISM_SAP_Created_Time__c='00:00:00';
        orderst9.Vision_Created_Date__c=system.now();
        orderst9.PRISM_SAP_Created_Date__c=system.today();
        orderst9.Vision_GCP_Update_Date__c=system.today();
          orderst9.GCP_Unique_Identifier__c='d';
         orderst9.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst9;
         Vision_GCP_SFDC_Order_Status__c orderst10= new Vision_GCP_SFDC_Order_Status__c();
        orderst10.Vision_Hierachy_Code__c='123454';
        orderst10.Vision_Order_Status__c='NOT DELIVERED';
        orderst10.Vision_Order_Date__c=system.today().addmonths(-9);
        orderst10.Vision_Product__c=p.id;
        orderst10.Vision_Account__c=a.id;
          orderst10.Vision_Order_Quantity__c=25;
            orderst10.Vision_Sold_to_Customer_Code__c='1566qq6xc0';
         orderst10.Vision_SAP_Created_DateTime__c=system.today();
        orderst10.PRISM_SAP_Created_Time__c='00:00:00';
        orderst10.Vision_Created_Date__c=system.now();
        orderst10.PRISM_SAP_Created_Date__c=system.today();
        orderst10.Vision_GCP_Update_Date__c=system.today();
          orderst10.GCP_Unique_Identifier__c='d';
         orderst10.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst10;
        Vision_GCP_SFDC_Order_Status__c orderst11= new Vision_GCP_SFDC_Order_Status__c();
        orderst11.Vision_Hierachy_Code__c='123454';
        orderst11.Vision_Order_Status__c='NOT DELIVERED';
        orderst11.Vision_Order_Date__c=system.today().addmonths(-10);
        orderst11.Vision_Product__c=p.id;
        orderst11.Vision_Account__c=a.id;
          orderst11.Vision_Order_Quantity__c=25;
            orderst11.Vision_Sold_to_Customer_Code__c='1566qq86xc0';
         orderst11.Vision_SAP_Created_DateTime__c=system.today();
        orderst11.PRISM_SAP_Created_Time__c='00:00:00';
        orderst11.Vision_Created_Date__c=system.now();
        orderst11.PRISM_SAP_Created_Date__c=system.today();
        orderst11.Vision_GCP_Update_Date__c=system.today();
          orderst11.GCP_Unique_Identifier__c='d';
         orderst11.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst11;
         Vision_GCP_SFDC_Order_Status__c orderst12= new Vision_GCP_SFDC_Order_Status__c();
        orderst12.Vision_Hierachy_Code__c='123454';
        orderst12.Vision_Order_Status__c='NOT DELIVERED';
        orderst12.Vision_Order_Date__c=system.today().addmonths(-11);
        orderst12.Vision_Product__c=p.id;
        orderst12.Vision_Account__c=a.id;
          orderst12.Vision_Order_Quantity__c=25;
            orderst12.Vision_Sold_to_Customer_Code__c='1566qq86qxc0';
         orderst12.Vision_SAP_Created_DateTime__c=system.today();
        orderst12.PRISM_SAP_Created_Time__c='00:00:00';
        orderst12.Vision_Created_Date__c=system.now();
        orderst12.PRISM_SAP_Created_Date__c=system.today();
        orderst12.Vision_GCP_Update_Date__c=system.today();
          orderst12.GCP_Unique_Identifier__c='d';
         orderst12.Vision_Sold_to_Customer_Name__c='bhk3';
        insert orderst12;
        dateTime dt1 = DateTime.now();
                DateTime dt2 = DateTime.now().addmonths(-1);
                DateTime dt3 = DateTime.now().addmonths(-2);
                DateTime dt4 = DateTime.now().addmonths(-3);
                DateTime dt5 = DateTime.now().addmonths(-4);
                DateTime dt6 = DateTime.now().addmonths(-5);
                DateTime dt7 = DateTime.now().addmonths(-6);
                DateTime dt8 = DateTime.now().addmonths(-7);
                DateTime dt9 = DateTime.now().addmonths(-8);
                DateTime dt10 = DateTime.now().addmonths(-9);
                DateTime dt11 = DateTime.now().addmonths(-10);
                DateTime dt12 = DateTime.now().addmonths(-11);
                 DateTime dt13 = DateTime.now().addmonths(-12);
                 DateTime dt14 = DateTime.now().addmonths(-13);
                 DateTime dt15 = DateTime.now().addmonths(-14);
                //  system.debug('dt8...'+dt8);
                
                Integer y1 = dt1.year();
                String yr1 = String.valueOf(y1);
                Integer y2 = dt2.year();
                String yr2 = String.valueOf(y2);
                Integer y3 = dt3.year();
                String yr3 = String.valueOf(y3);
                Integer y4 = dt4.year();
                String yr4 = String.valueOf(y4);
                Integer y5 = dt5.year();
                String yr5 = String.valueOf(y5);
                Integer y6 = dt6.year();
                String yr6 = String.valueOf(y6);
                Integer y7 = dt7.year();
                String yr7 = String.valueOf(y7);
                Integer y8 = dt8.year();
                String yr8 = String.valueOf(y8);
                Integer y9 = dt9.year();
                String yr9 = String.valueOf(y9);
                Integer y10 = dt10.year();
                String yr10 = String.valueOf(y10);
                Integer y11 = dt11.year();
                String yr11 = String.valueOf(y11);
                Integer y12 = dt12.year();
                String yr12 = String.valueOf(y12);
                 Integer y13 = dt13.year();
                String yr13 = String.valueOf(y13);
                 Integer y14 = dt12.year();
                String yr14 = String.valueOf(y14);
                 Integer y15 = dt15.year();
                String yr15 = String.valueOf(y15);
                
                
                //  Integer m = dt.month();
                // Integer d = dt.day();
                string M1=dt1.format('MMM')+'-'+yr1.substring(2);
                string M2=dt2.format('MMM')+'-'+yr2.substring(2);
                string M3=dt3.format('MMM')+'-'+yr3.substring(2);
                string M4=dt4.format('MMM')+'-'+yr4.substring(2);
                string M5=dt5.format('MMM')+'-'+yr5.substring(2);
                string M6=dt6.format('MMM')+'-'+yr6.substring(2);
                string M7=dt7.format('MMM')+'-'+yr7.substring(2);
                string M8=dt8.format('MMM')+'-'+yr8.substring(2);
                string M9=dt9.format('MMM')+'-'+yr9.substring(2);
                string M10= dt10.format('MMM')+'-'+yr10.substring(2);
                string M11= dt11.format('MMM')+'-'+yr11.substring(2);
                
                string M12= dt12.format('MMM')+'-'+yr12.substring(2);
                string M13= dt13.format('MMM')+'-'+yr13.substring(2);
                string M14= dt14.format('MMM')+'-'+yr14.substring(2);
                string M15= dt15.format('MMM')+'-'+yr15.substring(2);
        
        
        Order_Compliance_Data__c ocd1= new Order_Compliance_Data__c();
        ocd1.Hierachy_Code__c='123454';
        ocd1.Product_Code__c='123566';
        ocd1.Vision_Unique_Identifier__c='1234-123566';
        ocd1.GCP_Backorder_OTC__c=bt.id;
        ocd1.Month1__c=m1;
         ocd1.Month2__c=m2;
         ocd1.Month3__c=m3;
         ocd1.Month4__c=m4;
         ocd1.Month5__c=m5;
         ocd1.Month6__c=m6;
         ocd1.Month7__c=m7;
         ocd1.Month8__c=m8;
         ocd1.Month9__c=m9;
         ocd1.Month10__c=m10;
         ocd1.Month11__c=m11;
         ocd1.Month12__c=m12;
         ocd1.Month13__c=m13;
         ocd1.Month14__c=m14;
         ocd1.Month15__c=m15;
        ocd1.M1_Quantity__c=56;
         ocd1.M2_Quantity__c=56;
         ocd1.M3_Quantity__c=56;
         ocd1.M4_Quantity__c=56;
         ocd1.M5_Quantity__c=56;
         ocd1.M6_Quantity__c=56;
         ocd1.M7_Quantity__c=56;
         ocd1.M8_Quantity__c=56;
         ocd1.M9_Quantity__c=56;
         ocd1.M10_Quantity__c=56;
         ocd1.M11_Quantity__c=56;
         ocd1.M12_Quantity__c=56;
         ocd1.M13_Quantity__c=56;
         ocd1.M14_Quantity__c=56;
         ocd1.M15_Quantity__c=56;
        ocd1.Awarded_Quantity__c=56;
        insert ocd1;
         Order_Compliance_Data__c ocd2= new Order_Compliance_Data__c();
        ocd2.Hierachy_Code__c='123454';
        ocd2.Product_Code__c='123566';
        ocd2.Vision_Unique_Identifier__c='1234-123566';
        ocd2.GCP_Backorder_OTC__c=bt.id;
        ocd2.Month1__c=m1;
         ocd2.Month2__c=m2;
         ocd2.Month3__c=m3;
         ocd2.Month4__c=m4;
         ocd2.Month5__c=m5;
         ocd2.Month6__c=m6;
         ocd2.Month7__c=m7;
         ocd2.Month8__c=m8;
         ocd2.Month9__c=m9;
         ocd2.Month10__c=m10;
         ocd2.Month11__c=m11;
         ocd2.Month12__c=m12;
         ocd2.Month13__c=m13;
         ocd2.Month14__c=m14;
         ocd2.Month15__c=m15;
        ocd2.M1_Quantity__c=56;
         ocd2.M2_Quantity__c=56;
         ocd2.M3_Quantity__c=56;
         ocd2.M4_Quantity__c=56;
         ocd2.M5_Quantity__c=56;
         ocd2.M6_Quantity__c=56;
         ocd2.M7_Quantity__c=56;
         ocd2.M8_Quantity__c=56;
         ocd2.M9_Quantity__c=56;
         ocd2.M10_Quantity__c=56;
         ocd2.M11_Quantity__c=56;
         ocd2.M12_Quantity__c=56;
         ocd2.M13_Quantity__c=56;
         ocd2.M14_Quantity__c=56;
         ocd2.M15_Quantity__c=56;
        ocd2.Awarded_Quantity__c=56;
        insert ocd2;
        
  Order_Compliance_Summary__c ocsumm= new Order_Compliance_Summary__c();
        ocsumm.Hierachy_Code__c='123454';
        ocsumm.Product_Code__c='123566';
        ocsumm.Vision_Unique_Identifier__c='123454-123566';
        ocsumm.GCP_Backorder_OTC__c=bt.id;
        ocsumm.Month1__c=m1;
         ocsumm.Month2__c=m2;
         ocsumm.Month3__c=m3;
         ocsumm.Month4__c=m4;
         ocsumm.Month5__c=m5;
         ocsumm.Month6__c=m6;
         ocsumm.Month7__c=m7;
         ocsumm.Month8__c=m8;
         ocsumm.Month9__c=m9;
         ocsumm.Month10__c=m10;
         ocsumm.Month11__c=m11;
         ocsumm.Month12__c=m12;
         ocsumm.Month13__c=m13;
         ocsumm.Month14__c=m14;
         ocsumm.Month15__c=m15;
        ocsumm.M1_Quantity__c=56;
         ocsumm.M2_Quantity__c=56;
         ocsumm.M3_Quantity__c=56;
         ocsumm.M4_Quantity__c=56;
         ocsumm.M5_Quantity__c=56;
         ocsumm.M6_Quantity__c=56;
         ocsumm.M7_Quantity__c=56;
         ocsumm.M8_Quantity__c=56;
         ocsumm.M9_Quantity__c=56;
         ocsumm.M10_Quantity__c=56;
         ocsumm.M11_Quantity__c=56;
         ocsumm.M12_Quantity__c=56;
         ocsumm.M13_Quantity__c=56;
         ocsumm.M14_Quantity__c=56;
         ocsumm.M15_Quantity__c=56;
        ocsumm.Awarded_Quantity__c=56;
        insert ocsumm; 
         Order_Compliance_Summary__c ocsumm1= new Order_Compliance_Summary__c();
        ocsumm1.Hierachy_Code__c='123454';
        ocsumm1.Product_Code__c='1236';
        ocsumm1.Vision_Unique_Identifier__c='123454-1236';
        ocsumm1.GCP_Backorder_OTC__c=bt.id;
        ocsumm1.Month1__c=m1;
         ocsumm1.Month2__c=m2;
         ocsumm1.Month3__c=m3;
         ocsumm1.Month4__c=m4;
         ocsumm1.Month5__c=m5;
         ocsumm1.Month6__c=m6;
         ocsumm1.Month7__c=m7;
         ocsumm1.Month8__c=m8;
         ocsumm1.Month9__c=m9;
         ocsumm1.Month10__c=m10;
         ocsumm1.Month11__c=m11;
         ocsumm1.Month12__c=m12;
         ocsumm1.Month13__c=m13;
         ocsumm1.Month14__c=m14;
         ocsumm1.Month15__c=m15;
        ocsumm1.M1_Quantity__c=null;
         ocsumm1.M2_Quantity__c=null;
         ocsumm1.M3_Quantity__c=null;
         ocsumm1.M4_Quantity__c=null;
         ocsumm1.M5_Quantity__c=null;
         ocsumm1.M6_Quantity__c=null;
         ocsumm1.M7_Quantity__c=null;
         ocsumm1.M8_Quantity__c=null;
         ocsumm1.M9_Quantity__c=null;
         ocsumm1.M10_Quantity__c=null;
         ocsumm1.M11_Quantity__c=null;
         ocsumm1.M12_Quantity__c=null;
         ocsumm1.M13_Quantity__c=null;
         ocsumm1.M14_Quantity__c=null;
         ocsumm1.M15_Quantity__c=null;
        ocsumm1.Awarded_Quantity__c=null;
        insert ocsumm1;        
        test.startTest();
            OrdercomplianceAwardedqty b= new OrdercomplianceAwardedqty();
            
        database.executeBatch(b);
        test.stopTest();
  
                
        
           }
    
}