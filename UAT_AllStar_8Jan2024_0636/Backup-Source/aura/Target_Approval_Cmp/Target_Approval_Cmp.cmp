<aura:component controller = "Target_Approval_Class" implements="force:appHostable,flexipage:availableForAllPageTypes,lightning:isUrlAddressable,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <!-- Target_Approval_Cmp    Target_Approval_Class-->
    <aura:attribute name="newScreen" type="Boolean" default="true"/>
    <aura:attribute name="OverrideHeadSales" type="Boolean" default="false"/>
    <aura:attribute name="OverrideEastSales" type="Boolean" default="false"/>
    <aura:attribute name="OverrideWestSales" type="Boolean" default="false"/>
    <aura:attribute name="approveSRxScreen" type="Boolean" default="false"/>
    <aura:attribute name="approveRSMScreen" type="Boolean" default="false"/>
    <aura:attribute name="approveOrReject" type="String"/>
    <aura:attribute name="targetSubmitted" type="Boolean" default="false"/>
    <aura:attribute name="approveMarketingScreen" type="Boolean" default="false"/>
    <aura:handler name="init" value="{!this }" action="{!c.doInit }" />
    <aura:attribute name="disableIcon" type="Boolean" default="true"/>
    <aura:attribute name="disableIconEastChild" type="Boolean" default="true"/>
    <aura:attribute name="disableIconWestChild" type="Boolean" default="true"/>
    <aura:attribute name="options" type="List"/>
    <aura:attribute name="selectedFinancialYear" type="String"/>
    <aura:attribute name="targetName" type="String"/>
    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="targetApprovalObj" type="object" />
    <aura:attribute name="eastSalesData" type="List"/>
    <aura:attribute name="westSalesData" type="List"/>
    <aura:attribute name="wVal" type="string"/>
    <aura:attribute name="eVal" type="string"/>
    <aura:attribute name="acceptedRecs" type="List" />
    <aura:attribute name="historyRecs" type="List" />
    <aura:attribute name="draftRecs" type="List" />
    <aura:attribute name="pendingRecs" type="List" />
    <aura:attribute name="eastHeader" type="String"/>
    <aura:attribute name="westHeader" type="String"/>
    <aura:attribute name="submitPopup" type="Boolean" default="false"/>
    <aura:attribute name="checkingRequires" type="Boolean" default="false"/>
    <aura:attribute name="isModalOpen" type="Boolean" default="false" />
    <aura:attribute name="showConfirmDialog" type="boolean" default="false"/>
    <aura:attribute name="isBtnOpen" type="boolean" default="true"/>
    <aura:attribute name="disableCreateNew" type="boolean" default="true"/>
    <aura:attribute name="disableHeadIcon" type="boolean" default="false"/>
    <aura:attribute name="cloneButton" type="boolean" default="false"/>
    <aura:attribute name="createButton" type="boolean" default="false"/>
    <aura:attribute name="allTargetBackBtn" type="boolean" default="false"/>
    <aura:attribute name="rowId" type="String"/>
    <aura:attribute name="reTargetName" type="String"/>
    <aura:attribute name="SrxRecDelId" type="String"/>
    <aura:attribute name="index" type="String"/>
    <aura:attribute name="tagetListData" type="Object"/>
    <aura:attribute name="isSpinnerLoad" type="boolean" />
    <aura:attribute name="disableSubmitButton" type="boolean"  default="true"/>
    <aura:attribute name="rsmApproveTrue" type="boolean"  default="false"/>
    <aura:attribute name="rsmRejectTrue" type="boolean"  default="false"/>
    <aura:attribute name="cloneTargetName" type="String"/>
    <aura:attribute name="afterSubmitHideTrName" type="boolean" default="true"/>
    <aura:attribute name="inProcessBackBtn" type="boolean" default="false"/>
    <aura:attribute name="marketingBackBtn" type="boolean" default="false"/>
    <aura:attribute name="srxBackBtn" type="boolean" default="false"/>
    <aura:attribute name="srxApprover" type="String"/>
    <aura:attribute name="rsmApprover" type="String"/>
    <aura:attribute name="marketingApprover" type="String"/>
    <aura:attribute name="initialWestApprover" type="String"/>
    <aura:attribute name="initialEastApprover" type="String"/>
    <aura:attribute name="loggedInUserEmail" type="String"/>
    <aura:attribute name="pagedLineItemsAccepted" type="List"/>
    <aura:attribute name="pagedLineItemsDraft" type="List"/>
    <aura:attribute name="pagedLineItemsHistory" type="List"/>
    <aura:attribute name="pagedLineItemsPending" type="List"/>
    <aura:handler name="change" value="{!v.disableSubmitButton}" action="{!c.refreshdisableSubmitButton}"/> 
    
    <aura:attribute name="currentPageNumber1" type="Integer" default="1"/>
    <aura:attribute name="pageSize1" type="Integer" default="5"/>
    <aura:attribute name="totalPages1" type="Integer" default="0"/>
    <aura:attribute name="pageList1" type="List"/>
    <aura:attribute name="totalRecords1" type="Integer" />
    <aura:attribute name="currentPageRecords1" type="Integer" />
    
    <aura:attribute name="currentPageNumber2" type="Integer" default="1"/>
    <aura:attribute name="pageSize2" type="Integer" default="5"/>
    <aura:attribute name="totalPages2" type="Integer" default="0"/>
    <aura:attribute name="pageList2" type="List"/>
    <aura:attribute name="totalRecords2" type="Integer" />
    <aura:attribute name="currentPageRecords2" type="Integer" />
    
    <aura:attribute name="currentPageNumber3" type="Integer" default="1"/>
    <aura:attribute name="pageSize3" type="Integer" default="5"/>
    <aura:attribute name="totalPages3" type="Integer" default="0"/>
    <aura:attribute name="pageList3" type="List"/>
    <aura:attribute name="totalRecords3" type="Integer" />
    <aura:attribute name="currentPageRecords3" type="Integer" />
    
    <aura:attribute name="currentPageNumber" type="Integer" default="1"/>
    <aura:attribute name="pageSize" type="Integer" default="5"/>
    <aura:attribute name="totalPages" type="Integer" default="0"/>
    <aura:attribute name="pageList" type="List"/>
    <aura:attribute name="totalRecords" type="Integer" />
    <aura:attribute name="currentPageRecords" type="Integer" />
    <aura:attribute name="LastModifiedDate" type="string" />
    
    <aura:attribute name="startIndex1" type="Integer" default="1"/>
    <aura:attribute name="endIndex1" type="Integer" />
    <aura:attribute name="totalRecs1" type="Integer" />
    
    <aura:attribute name="startIndex2" type="Integer" default="1"/>
    <aura:attribute name="endIndex2" type="Integer" />
    <aura:attribute name="totalRecs2" type="Integer" />
    
    <aura:attribute name="startIndex3" type="Integer" default="1"/>
    <aura:attribute name="endIndex3" type="Integer" />
    <aura:attribute name="totalRecs3" type="Integer" />
    
    <aura:attribute name="startIndex4" type="Integer" default="1"/>
    <aura:attribute name="endIndex4" type="Integer" />
    <aura:attribute name="totalRecs4" type="Integer" />
    
    <aura:attribute name="intialUser" type="boolean" default="false"/>
    <aura:attribute name="rsmUser" type="boolean" default="false"/>
    <aura:attribute name="srxUser" type="boolean" default="false"/>
    <aura:attribute name="marktUser" type="boolean" default="false"/>
    
    <aura:attribute name="deleteDisable" type="boolean" default="true"/>
    <aura:attribute name="cloneDisable" type="boolean" default="true"/>
    <aura:attribute name="editDisable" type="boolean" default="true"/>
    <aura:attribute name="fyYear" type="boolean" default="true"/>
    <aura:attribute name="enterTargetName" type="boolean" default="true"/>
    <aura:attribute name="editableRecordId" type="String" default="" />
    <aura:attribute name="changedTargetName" type="string" />
    <aura:attribute name="nameEditable" type="boolean" default="false"/>
    
    <aura:attribute name="staticVariable1" type="Integer" default="0"/>
    <aura:attribute name="staticVariable2" type="Integer" default="0"/>
    <aura:attribute name="staticVariable3" type="Integer" default="0"/>
    
    <aura:attribute name="srimayeeActivity" type="boolean" default="false"/>
    <aura:attribute name="daveActivity" type="boolean" default="false"/>
    <aura:attribute name="ericActivity" type="boolean" default="false"/>
    <aura:attribute name="milanActivity" type="boolean" default="false"/>
    <aura:attribute name="srxActivity" type="boolean" default="false"/>
    <aura:attribute name="rameshActivity" type="boolean" default="false"/>
    <aura:attribute name="lastloginHoverMsg" type="string" />
    <aura:attribute name="finalHoveMsg" type="string"  />
    <aura:attribute name="ericSutherland" type="string"  />
    <aura:attribute name="daveSmith" type="string"  />
    
    <aura:if isTrue="{!v.newScreen}">
        <div class="slds-box" style="padding:50px;background-color:#F6F7FB;">
            <b style="font-size:24px;font-weight: 600;color:#2D2D2D;">Create Annual Target</b><br></br>
            <p>Easily create or modify existing target values for your SRx team using this Target Value tool.</p>
            <br></br>
            <div class="slds-grid slds-gutters">
                <div class="slds-size_1-of-6" style="padding-left:10px;"> 
                    <lightning:combobox aura:id="requiredField" disabled="{!v.fyYear}" name="progress" label="Financial Year" value="{!v.selectedFinancialYear}" placeholder="Select Year" options="{! v.options }" onchange="{! c.handleChange }" required="true"/>
                </div>
                <div class="slds-size_1-of-6" style="padding-left:20px;"> 
                    <lightning:input name="input1" 
                                     aura:id="targetName"
                                     label="Target Value Name" 
                                     value="{!v.targetName}"
                                     required="true"
                                     placeholder="Type Name"
                                     disabled="{!v.enterTargetName}"/> 
                </div>
                <div class="slds-size_1-of-6" style="margin-top:24px;margin-left:20px;">
                    <aura:if isTrue="{!or(v.initialEastApprover == v.loggedInUserEmail,v.initialWestApprover == v.loggedInUserEmail)}">
                        
                        <lightning:button variant="brand" label="Create New" onclick="{! c.handleClick }"/>
                        <aura:set attribute="else">
                            <lightning:button variant="brand" label="Create New" onclick="{! c.handleClick }" disabled="true"/>
                            
                        </aura:set>  
                    </aura:if>  </div>
                <div class="slds-size_1-of-6"> </div>
                <div class="slds-size_1-of-6"> </div>
                <div class="slds-size_1-of-6"> </div>
                
            </div>
            
            <br></br>
            <!--<div class="slds-grid slds-wrap">-->
            
            <div>
                <!--<div class="slds-size_1-of-3">-->
                <div>
                    <!--<div class="slds-size_1-of-3">-->
                    <div>
                        <p style="font-size:20px;font-weight: 600;color:#2D2D2D;">Annual Target Accepted</p><br/>
                        
                        <table style="padding:12px;border-radius:50px;">
                            <thead>
                                <tr style="text-align:center;border: 1px solid lightgrey;height:40px;background-color:#ebe0f9;">
                                    <th style="text-align:center;width: 4%;"><p style="font-weight: 600;color:#2d2d2d;">S No</p></th>
                                    <th style="padding-left:10px;width: 18%;"><p style="font-weight: 600;color:#2d2d2d;">Target Number</p></th>
                                    <th style="padding-left:10px;width:35%;"><p style="font-weight: 600;color:#2d2d2d;">Target Values Name</p></th>
                                    <th style="padding-left:10px;width:17%;"><p style="font-weight: 600;color:#2d2d2d;">Last Modified Date&amp;Time</p></th>
                                    <th style="padding-left:10px;padding-right:10px;text-align:left;width:12%;"><p style="font-weight: 600;color:#2d2d2d;">Approval Status</p></th>
                                    <th style="padding-left:10px;padding-right:10px;text-align:left;width:7%;"><p style="font-weight: 600;color:#2d2d2d;">Target Status</p></th>
                                    <th style="padding-left:10px;padding-right:10px;text-align:center;"><p style="font-weight: 600;color:#2d2d2d;">Actions</p></th>
                                </tr>
                            </thead>
                            <tbody>
                                <aura:iteration items="{!v.pagedLineItemsAccepted}" var="accRecs">
                                    
                                    <tr style="border: 1px ridge lightgrey;height:40px;width:25%;background-color:white;border-radius:30px;">
                                        <td style="width: 4%;text-align:center;">{!accRecs.sno}</td>
                                        <td style="padding-left:10px;width: 18%;">
                                            <a onclick="{!c.handleRecordClick}" data-acrecsid = "{!accRecs.Id}">{!accRecs.Target_Number__c}</a>
                                        </td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:35%;">{!accRecs.Name}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:17%;">{!accRecs.LastModifiedDate}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:12%;">{!accRecs.Approval_Status__c}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:7%;">{!accRecs.Target_Status__c}</td>
                                        <td style="text-align:center;">
                                            
                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="Edit" disabled="true"/>
                                            <lightning:buttonIcon iconName="utility:copy" variant="bare" value="{!accRecs.Id}" onclick="{!c.cloneRecord}" alternativeText="Clone" disabled="{!v.cloneDisable}"/>
                                            <lightning:buttonIcon iconName="utility:delete" variant="bare" alternativeText="Delete" disabled="true"/>
                                            
                                        </td>
                                        
                                    </tr>
                                </aura:iteration>
                            </tbody>
                            
                        </table><br/>
                        <!--  Pagination Buttons Start {!v.currentPageNumber} of {!v.totalPages}&nbsp; -->
                        <div align="right"> 
                            {!v.startIndex1}-{!v.endIndex1} of {!v.totalRecs1}&nbsp;
                            <lightning:buttonIcon  iconName="utility:jump_to_left" variant="bare"  onclick="{!c.onFirstAccepted}" disabled="{! v.currentPageNumber == 1}" alternativeText="First" size="large"/>
                            <lightning:buttonIcon  iconName="utility:chevronleft"  disabled="{!v.currentPageNumber == 1}"  onclick="{!c.handlePreviousAccepted}" variant="bare" name="previous" alternativeText="Previous" size="medium"/>
                            
                            <lightning:buttonIcon iconName="utility:chevronright"  disabled="{!v.currentPageNumber == v.totalPages}"  onclick="{!c.handleNextForAccepted}" variant="bare"  name="next" alternativeText="Next" size="medium"/>
                            <lightning:buttonIcon iconName="utility:jump_to_right" variant="bare"  onclick="{!c.onLastAccepted}" disabled="{!v.currentPageNumber == v.totalPages}" alternativeText="Last" size="large"/>
                        </div>        
                    </div>
                    <div style="margin-top: 12px;">
                        <span style="font-size:20px;font-weight: 600;color:#2D2D2D;">Annual Pending Targets</span><br/><br/>
                        <table style="padding:12px;border-radius:50px">
                            <thead>
                                <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:40px;background-color:#ebe0f9;">
                                    <th style="text-align:center;"><p style="font-weight: 600;color:#2d2d2d;">S No</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Number</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Values Name</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Last Modified Date&amp;Time</p></th>
                                    <th style="padding-left:10px;text-align:left;padding-right:10px;"><p style="font-weight: 600;color:#2d2d2d;">Approval Status</p></th>
                                    <th style="padding-left:10px;text-align:center;padding-right:10px;"><p style="font-weight: 600;color:#2d2d2d;">Actions</p></th>
                                </tr>
                            </thead>
                            <tbody>
                                <aura:iteration items="{!v.pagedLineItemsPending}" var="pendRecs">
                                    <tr style="border: 1px ridge lightgrey;height:40px;width:25%;background-color:white;border-radius:30px;">
                                        <td style="width: 4%;text-align:center;">{!pendRecs.sno}</td>
                                        <td style="padding-left:10px;width: 18%;">
                                            <a onclick="{!c.handlePendingRecordClick}" data-pendingid = "{!pendRecs.Id}">{!pendRecs.Target_Number__c}</a>
                                        </td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:35%;">{!pendRecs.Name}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:20%;">{!pendRecs.LastModifiedDate}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:14%;">
                                            {!pendRecs.Approval_Status__c}
                                        </td>
                                        
                                        <td style="text-align:center;">
                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="Edit" disabled="true"/>
                                            <lightning:buttonIcon iconName="utility:copy" variant="bare" value="{!pendRecs.Id}" onclick="{!c.cloneRecord}" disabled="{!v.cloneDisable}" alternativeText="Clone"/>
                                            <lightning:buttonIcon iconName="utility:delete" variant="bare" alternativeText="Delete" disabled="true"/>
                                        </td>
                                        
                                    </tr>
                                </aura:iteration>
                            </tbody>
                        </table><br/>
                        <div align="right"> 
                            {!v.startIndex4}-{!v.endIndex4} of {!v.totalRecs4}&nbsp;
                            <lightning:buttonIcon  iconName="utility:jump_to_left" variant="bare"  onclick="{!c.onFirstPending}" disabled="{! v.currentPageNumber3 == 1}" alternativeText="First" size="large"/>
                            <lightning:buttonIcon  iconName="utility:chevronleft"  disabled="{!v.currentPageNumber3 == 1}"  onclick="{!c.handlePreviousForPending}" variant="bare" name="previous" alternativeText="Previous" size="medium"/>
                            
                            <lightning:buttonIcon iconName="utility:chevronright"  disabled="{!v.currentPageNumber3 == v.totalPages3}"  onclick="{!c.handleNextForPending}" variant="bare"  name="next" alternativeText="Next" size="medium"/>
                            <lightning:buttonIcon iconName="utility:jump_to_right" variant="bare"  onclick="{!c.onLastPending}" disabled="{!v.currentPageNumber3 == v.totalPages3}" alternativeText="Last" size="large"/>
                        </div>  
                    </div>
                    <!--<div class="slds-size_1-of-3">-->
                    <div style="margin-top: 12px;">
                        <span style="font-size:20px;font-weight: 600;color:#2D2D2D;">Annual Target Drafts</span><br/><br/>
                        <table style="padding:12px;">
                            <thead>
                                <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:40px;background-color:#ebe0f9;border-radius:30px;">
                                    <th style="text-align:center;"><p style="font-weight: 600;color:#2d2d2d;">S No</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Number</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Values Name</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Last Modified Date&amp;Time</p></th>
                                    <th style="padding-left:10px;padding-right:10px;text-align:left;"><p style="font-weight: 600;color:#2d2d2d;">Approval Status</p></th>
                                    <th style="padding-left:10px;padding-right:10px;text-align:center;"><p style="font-weight: 600;color:#2d2d2d;">Actions</p></th>
                                </tr>
                            </thead>
                            
                            <tbody>
                                <aura:iteration items="{!v.pagedLineItemsDraft}" var="draftRecs">
                                    
                                    <tr style="border: 1px ridge lightgrey;height:40px;width:25%;background-color:white;border-radius:30px;">
                                        <td style="width:4%;text-align:center;">{!draftRecs.sno}</td>
                                        <td style="padding-left:10px;width: 18%;"> 
                                            <a onclick="{!c.handleDraftRecordClick}" data-draftrecsid = "{!draftRecs.Id}">{!draftRecs.Target_Number__c}</a>
                                        </td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:35%;">
                                            <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                <aura:if isTrue="{!v.editableRecordId == draftRecs.Id}">
                                                    <lightning:input style="width:50%;" class="customInputLabel" type="text" value="{!draftRecs.Name}" name="{!draftRecs.Id}" onchange="{!c.trNameChange}"/>
                                                    <aura:set attribute="else">
                                                        <span class="hover-container" onmouseover="{!c.showEditIcon}" onmouseout="{!c.hideEditIcon}">
                                                            {!draftRecs.Name}&nbsp;
                                                            <!-- Show the pencil icon only when hovering -->
                                                            <lightning:buttonIcon aura:id="editIcon" class="slds-hide" iconName="utility:edit" variant="bare" size="small" 
                                                                                  onclick="{!c.draftInlineEdit}" value="{!draftRecs.Id}" 
                                                                                  alternativeText="Edit Target Name"/>
                                                        </span>
                                                    </aura:set>
                                                </aura:if>
                                                <aura:set attribute="else">
                                                    {!draftRecs.Name}
                                                </aura:set>
                                            </aura:if>
                                        </td>

                                        <td style="padding-left:15px;padding-right:15px;text-align:left;width:20%;">{!draftRecs.LastModifiedDate}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:14%;">{!draftRecs.Approval_Status__c}</td>
                                        
                                        <td style="text-align:center;">
                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" value="{!draftRecs.Id}" onclick="{!c.editRecord}" disabled="{!v.editDisable}"  alternativeText="Edit"/>
                                            <lightning:buttonIcon iconName="utility:copy" variant="bare" value="{!draftRecs.Id}" onclick="{!c.cloneRecord}" disabled="{!v.cloneDisable}"  alternativeText="Clone"/>
                                            <lightning:buttonIcon iconName="utility:delete" variant="bare" value="{!draftRecs.Id}" onclick="{!c.deleteRecord}" disabled="{!v.deleteDisable}"  alternativeText="Delete"/>
                                        </td>    
                                    </tr>
                                    
                                    <aura:if isTrue="{!v.showConfirmDialog}">
                                        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open slds-modal_medium">
                                            <div class="slds-modal__container">
                                                <header class="slds-modal__header">
                                                    <h1 class="slds-text-heading--medium">Confirmation</h1>
                                                </header>
                                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                                    <center><b>Are you sure you want to delete this record?</b></center>
                                                </div>
                                                <footer class="slds-modal__footer">
                                                    <lightning:button name='No' label='No' onclick='{!c.handleConfirmDialogNo}'/>
                                                    <lightning:button variant="brand" value="{!draftRecs.Id}" name='Yes' label='Yes' onclick='{!c.handleConfirmDialogYes}'/>
                                                </footer>
                                            </div>
                                        </section>
                                        
                                        
                                        <div class="slds-backdrop slds-backdrop_open"></div> 
                                    </aura:if>
                                   
                                </aura:iteration>
                                <aura:if isTrue="{!v.isModalOpen}">
                                    <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open slds-modal_medium">
                                        <div class="slds-modal__container">
                                            <header class="slds-modal__header">
                                                <lightning:buttonIcon iconName="utility:close" onclick="{!c.closeModel }" alternativeText="close" variant="bare-inverse" class="slds-modal__close"/>
                                                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Modal/PopUp Box</h2>
                                            </header>
                                            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                                <span><center style="font-size:20px;">Are you sure want to clone this record?</center></span>
                                            </div>
                                            <footer class="slds-modal__footer">
                                                <lightning:button variant="neutral" label="No" title="Cancel" onclick="{!c.closeModel}"/>
                                                <lightning:button variant="brand" label="Yes" title="Clone" onclick="{!c.submitDetails}"/>
                                                
                                            </footer>
                                        </div>
                                    </section>
                                    <div class="slds-backdrop slds-backdrop_open"></div>
                                </aura:if> 
                                
                            </tbody>
                           
                        </table><br/>
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                            <div style="flex: 1;" align="center">
                                <aura:if isTrue="{!v.nameEditable}">
                                    <lightning:button variant="Neutral" label="Cancel" title="" onclick="{!c.cancelRetarName}" />
                                    <lightning:button variant="brand" label="Save" title="" onclick="{!c.saveRetarName}" />
                                </aura:if>
                            </div>
                            <div style="" align="right">
                                {!v.startIndex2}-{!v.endIndex2} of {!v.totalRecs2}&nbsp;
                                <lightning:buttonIcon  iconName="utility:jump_to_left" variant="bare"  onclick="{!c.onFirstDraft}" disabled="{! v.currentPageNumber1 == 1}" alternativeText="First" size="large"/>
                                <lightning:buttonIcon  iconName="utility:chevronleft"  disabled="{!v.currentPageNumber1 == 1}"  onclick="{!c.handlePreviousForDraft}" variant="bare" name="previous" alternativeText="Previous" size="medium"/>
                                
                                <lightning:buttonIcon iconName="utility:chevronright"  disabled="{!v.currentPageNumber1 == v.totalPages1}"  onclick="{!c.handleNextForDraft}" variant="bare"  name="next" alternativeText="Next" size="medium"/>
                                <lightning:buttonIcon iconName="utility:jump_to_right" variant="bare"  onclick="{!c.onLastDraft}" disabled="{!v.currentPageNumber1 == v.totalPages1}" alternativeText="Last" size="large"/>
                            </div>
                        </div>
                    </div>
                    
                    <!--<div class="slds-size_1-of-3">-->
                    <div style="margin-top: 12px;">
                        <span style="font-size:20px;font-weight: 600;color:#2D2D2D;">Annual Target History</span><br/><br/>
                        <table style="padding:12px;border-radius:45px;">
                            <thead>
                                <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:40px;background-color:#ebe0f9;">
                                    <th style="text-align:center;"><p style="font-weight: 600;color:#2d2d2d;">S No</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Number</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Target Values Name</p></th>
                                    <th style="padding-left:10px;"><p style="font-weight: 600;color:#2d2d2d;">Last Modified Date&amp;Time</p></th>
                                    <th style="padding-left:10px;text-align:left;padding-right:10px;"><p style="font-weight: 600;color:#2d2d2d;">Approval Status</p></th>
                                    <th style="padding-left:10px;text-align:center;padding-right:10px;"><p style="font-weight: 600;color:#2d2d2d;">Actions</p></th>
                                </tr>
                            </thead>
                            <tbody>
                                <aura:iteration items="{!v.pagedLineItemsHistory}" var="allRecs">
                                    <tr style="border: 1px ridge lightgrey;height:40px;width:25%;background-color:white;border-radius:30px;">
                                        <td style="width:4%;text-align:center;">{!allRecs.sno}</td>
                                        <td style="padding-left:10px;width: 18%;"> 
                                            <a onclick="{!c.handleAllRecordClick}" data-allrecsid = "{!allRecs.Id}">{!allRecs.Target_Number__c}</a>
                                        </td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:35%;">{!allRecs.Name}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:20%;">{!allRecs.LastModifiedDate}</td>
                                        <td style="padding-left:10px;padding-right:10px;text-align:left;width:14%;">
                                            {!allRecs.Approval_Status__c}
                                        </td>
                                        
                                        <td style="text-align:center;">
                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="Edit" disabled="true"/>
                                            <lightning:buttonIcon iconName="utility:copy" variant="bare" value="{!allRecs.Id}" onclick="{!c.cloneRecord}" disabled="{!v.cloneDisable}" alternativeText="Clone"/>
                                            <lightning:buttonIcon iconName="utility:delete" variant="bare" alternativeText="Delete" disabled="true"/>
                                        </td>
                                        
                                    </tr>
                                </aura:iteration>
                            </tbody>
                        </table><br/>
                        <div align="right"> 
                            {!v.startIndex3}-{!v.endIndex3} of {!v.totalRecs3}&nbsp;
                            <lightning:buttonIcon  iconName="utility:jump_to_left" variant="bare"  onclick="{!c.onFirstHistory}" disabled="{! v.currentPageNumber2 == 1}" alternativeText="First" size="large"/>
                            <lightning:buttonIcon  iconName="utility:chevronleft"  disabled="{!v.currentPageNumber2 == 1}"  onclick="{!c.handlePreviousForHistory}" variant="bare" name="previous" alternativeText="Previous" size="medium"/>
                            
                            <lightning:buttonIcon iconName="utility:chevronright"  disabled="{!v.currentPageNumber2 == v.totalPages2}"  onclick="{!c.handleNextForHistory}" variant="bare"  name="next" alternativeText="Next" size="medium"/>
                            <lightning:buttonIcon iconName="utility:jump_to_right" variant="bare"  onclick="{!c.onLastHistory}" disabled="{!v.currentPageNumber2 == v.totalPages2}" alternativeText="Last" size="large"/>
                        </div>  
                    </div>
                    
                    
                </div>
            </div>
            <aura:if isTrue="{!v.isSpinnerLoad}">
                <center>
                    <section role="dialog" aura:id="modalBlockUI" tabindex="-1" aria-labelledby="modal-heading-01"
                             aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">  
                        <div class="slds-modal__container" style="background-Color: transparent; border: 0;">  
                            <div class="slds-modal__content slds-p-around_medium modalShadowRemove" style="background-Color: transparent; border: 0;">  
                                <img src="{!$Resource.LoadingProgress}" />  
                            </div>  
                        </div>  
                    </section>   
                    <div class="slds-backdrop slds-backdrop-open" aura:id="customModal-Back"></div>
                </center>
            </aura:if> 
        </div>
        <aura:set attribute="else">
            
            <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                
                <div class="slds-box" style="padding:50px;background-color:#F6F7FB;">
                    
                    <aura:if isTrue="{!v.afterSubmitHideTrName}">
                        <div class="slds-grid" style="margin-bottom:25px;">
                            <div class="slds-size_2-of-12">
                                <p style="font-weight:600; color:#2D2D2D; font-size:20px;">{!v.targetApprovalObj.Financial_Year__c}&nbsp;{!v.targetApprovalObj.Name}</p>
                            </div>
                            <div class="slds-size_10-of-12" style="text-align:right;">
                                <div style="display:inline-block;"><p style="font-weight:bold;font-size:16px;color:#2D2D2D;">Approval Status:</p></div>&nbsp;&nbsp;
                                <div style="display:inline-block;margin-right: -8px;"><p style="font-weight:500;margin-top: 4px">Initiator</p></div>&nbsp;&nbsp;
                                <span style="margin-left:6px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Not Initiated'}">
                                        <lightning:icon class="AshIcon" iconName="utility:record" variant="bare"  size="small" />
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                                                <lightning:icon class="blueIcon" iconName="utility:record" variant="bare" size="small"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Completed'}">
                                                        
                                                        <lightning:icon class="greenIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </span>
                                <div class="horizontal-line" style="margin:2px;width:80px;display:inline-block;margin-left:5px;"></div>&nbsp;&nbsp; 
                                <div style="display:inline-block;"><p style="font-weight:500;margin-top: 4px">RSM Head</p></div>
                                <span style="margin-left:6px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Not Initiated'}">
                                        <lightning:icon class="AshIcon" iconName="utility:record" variant="bare"  size="small" />
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                                <lightning:icon class="blueIcon" iconName="utility:record" variant="bare" size="small"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Completed'}">
                                                        <lightning:icon class="greenIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                        <aura:set attribute="else"> 
                                                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'RSM Head Rejected'}">
                                                                <lightning:icon class="redIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                            </aura:if>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </span>
                                <div class="horizontal-line" style="margin:2px;width:80px;display:inline-block;margin-left:5px;"></div>&nbsp;&nbsp; 
                                <div style="display:inline-block;"><p style="font-weight:500;margin-top: 4px">SRx Head</p></div>
                                <span style="margin-left:6px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Not Initiated'}">
                                        <lightning:icon class="AshIcon" iconName="utility:record" variant="bare"  size="small"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                                <lightning:icon class="blueIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Completed'}">
                                                        <lightning:icon class="greenIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                        <aura:set attribute="else"> 
                                                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'SRx Head Rejected'}">
                                                                <lightning:icon class="redIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                            </aura:if>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </span>
                                <div class="horizontal-line" style="margin:2px;width:80px;display:inline-block;margin-left:5px;"></div>&nbsp;&nbsp; 
                                <div style="display:inline-block;"><p style="font-weight:500;margin-top: 4px">Marketing Head</p></div>
                                <span style="margin-left:6px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Not Initiated'}">
                                        <lightning:icon class="AshIcon" iconName="utility:record" variant="bare"  size="small"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                                <lightning:icon class="blueIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Completed'}">
                                                        <lightning:icon class="greenIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                        <aura:set attribute="else"> 
                                                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Marketing Head Rejected'}">
                                                                <lightning:icon class="redIcon" iconName="utility:record" variant="bare"  size="small"/>
                                                            </aura:if>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </span>
                            </div>
                        </div>
                    </aura:if>
                    <br></br> 
                    
                    
                    
                    <aura:if isTrue="{!v.targetSubmitted}">
                        <div style="background-color:white;">
                            <div class="slds-page-header">
                                <div class="slds-page-header__row">
                                    <div class="slds-page-header__col-title">
                                        
                                        <div class="slds-media__body">
                                            <a onclick="{!c.goToNewScn}" style="padding-left: 15px;">All Target</a>  > {!v.targetApprovalObj.Name}
                                        </div>
                                        <div class="slds-media">
                                            <div class="slds-media__body" style="padding-top: 10px;">
                                                
                                                <lightning:icon class="docIcon" iconName="utility:contract_doc" size="large"/>
                                                
                                                <div class="slds-page-header__name">
                                                    <div class="slds-page-header__name-title">
                                                        <h1>
                                                            <span style="font-size:20px;font-weight: 600;color:gray;">Target Values</span><br/><br/>
                                                            <span style="font-size:20px;font-weight: 600;color:#2D2D2D;">{!v.targetApprovalObj.Name}</span>
                                                        </h1>
                                                    </div>
                                                    
                                                </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/><br/>
                        <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                            <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Draft</span><br/>
                        </aura:if>
                        <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                            <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">RSM Head</span><br/>
                           
                        </aura:if>
                        <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                            <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">SRx Head</span><br/>
                        </aura:if>
                        <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                            <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Marketing Head</span><br/>
                        </aura:if>
                        <aura:if isTrue="{!and(and(v.targetApprovalObj.SRx_Head_Status__c == 'Completed',v.targetApprovalObj.RSM_Head_Status__c == 'Completed'),and (v.targetApprovalObj.Marketing_Head_Status__c == 'Completed', v.targetApprovalObj.Initiator_Status__c == 'Completed'))}">
                            <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Accepted</span><br/>
                        </aura:if>
                        <br/>                    
                        <lightning:layout>
                            <h2><span>Initiator</span></h2>&nbsp;&nbsp; 
                            <div style="height:20px;width:20px;">
                                <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Not Initiated'}">
                                    <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                    <aura:set attribute="else">
                                        <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Completed'}">
                                                    
                                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                    </aura:set>
                                </aura:if>
                            </div>&nbsp;&nbsp;
                            <hr class="line" style="width:20%;"></hr><span style="">RSM Head</span>&nbsp;&nbsp;
                            <div style="height:20px;width:20px;">
                                <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Not Initiated'}">
                                    <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                    <aura:set attribute="else">
                                        <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Completed'}">
                                                    
                                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                    <aura:set attribute="else">
                                                        <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                    </aura:set>
                                </aura:if>
                            </div>&nbsp;&nbsp;
                            <hr class="line" style="width:35%;"></hr><span style="">SRx Head</span>&nbsp;&nbsp;
                            <div style="height:20px;width:20px;">
                                <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Not Initiated'}">
                                    <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                    <aura:set attribute="else">
                                        <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Completed'}">
                                                    
                                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                    <aura:set attribute="else">
                                                        <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                    </aura:set>
                                </aura:if>                       
                            </div>&nbsp;&nbsp;<hr class="line" style="width:35%;"></hr><h2><span>Marketing Head</span></h2>&nbsp;&nbsp;
                            <div style="height:20px;width:20px;">
                                <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Not Initiated'}">
                                    <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                    <aura:set attribute="else">
                                        <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Completed'}">
                                                    
                                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                    <aura:set attribute="else">
                                                        <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                    </aura:set>
                                </aura:if>                        
                            </div>&nbsp;
                        </lightning:layout><br/><br/>
                        
                        <table style="padding:12px;border-radius:50px;">
                            <thead>
                                <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:60px;background-color:#F5F5F5;">
                                    <th class="" scope="col" style="width:5%;color: #2d2d2d;font-weight: 600;">
                                        <div class="slds-truncate" title="Step" style="padding-left:10px;font-size:14px;">S.No</div>
                                    </th>
                                    <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                        <div class="slds-truncate" title="Step Name" style="font-size:14px;">Submission Status</div>
                                    </th>
                                    <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                        <div class="slds-truncate" title="Approver" style="font-size:14px;">Approver</div>
                                    </th>
                                    <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                        <div class="slds-truncate" title="Approval Sent Time" style="font-size:14px;">Approval Sent Time</div>
                                    </th>
                                    <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                        <div class="slds-truncate" title="Approval Completed Time" style="font-size:14px;">Approval Completed Time
                                        </div>
                                    </th>
                                    <th class="" scope="col" >
                                        <div class="slds-truncate" title="Comments" style="font-size:14px;color: #2d2d2d;font-weight: 600;">Comments</div>
                                    </th>
                                </tr>
                            </thead>
                            <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                <td style="padding-left:25px;">1</td>
                                <td><div style="display:inline-block;height:10px; width:15px;">
                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}" style="margin-bottom: 4px;"/>
                                    </div>
                                    <span style="display:inline-block;padding-left:2px;padding-bottom:3px;">Initial Submission</span></td>
                                <td>
                                    <!-- <lightning:buttonIcon class="approverIcon greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/> -->
                                    <span style="padding-top:4px;">{!v.targetApprovalObj.Intial_Approver__c}</span>
                                </td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.Initiator_Approval_Sent_Time_String__c}</td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.Initiator_Approval_Completed_Time_String__c}</td>
                                <td class="ellipsis">{!v.targetApprovalObj.Initiator_Head_Comments__c}</td>
                            </tr>
                            <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                <td style="padding-left:25px;">2</td>
                                <td><div style="display:inline-block;height:10px; width:15px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>   
                                    </div> <span style="display:inline-block;padding-left:2px;padding-bottom:3px;padding-top:4px;">RSM Head</span></td>
                                <td>
                                    <!-- <lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/> 
                                    <span style="padding-top:4px;">Dave Smith</span>-->
                                </td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.RSM_Head_Approval_Sent_Time_String__c}</td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.RSM_Head_Approval_Completed_Time_String__c}</td>
                                <td class="ellipsis">{!v.targetApprovalObj.RSM_Head_Comments__c}</td>
                            </tr>
                            <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                <td style="padding-left:25px;">3</td>
                                <td><div style="display:inline-block;height:10px; width:15px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>   
                                    </div> <span style="display:inline-block;padding-left:2px;padding-bottom:3px;padding-top:4px;">SRx Head</span></td>
                                <td>
                                    <!-- <lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/> -->
                                    <span style="padding-top:4px;">Automatic BRIGHT</span></td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.SRx_Head_Approval_Sent_Time_String__c}</td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.SRx_Head_Approval_Completed_Time_String__c}</td>
                                <td class="ellipsis">{!v.targetApprovalObj.SRx_Head_Comments__c}</td>
                            </tr>
                            <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:#F5F5F5;border-radius:30px;"> <!-- Highlight the row which is in progress not 3rd row -->
                                <td style="padding-left:25px;">4</td>
                                <td><div style="display:inline-block;height:10px; width:15px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                    </div><span style="display:inline-block;padding-left:2px;padding-bottom:3px;">Marketing Head</span></td>
                                <td><span style="padding-bottom:5px;">
                                    <!-- <lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/>-->
                                    </span> 
                                    <span style="padding-top:4px;">Milan Kalawadia</span>
                                </td>
                                <!-- <td><span style="padding-bottom:5px;"><lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/></span><span style="padding-top:4px;">{!v.targetApprovalObj.Marketing_Approver__c}</span></td>-->
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.Marketing_Head_Approval_Sent_Time_String__c}</td>
                                <td class="slds-cell-wrap">{!v.targetApprovalObj.Marketing_Head_Approval_Completed_Str__c}</td>
                                
                                <td class="ellipsis">{!v.targetApprovalObj.Marketing_Head_Comments__c}</td>
                                
                            </tr>
                            <tbody>
                                
                            </tbody>
                        </table>
                        
                        
                    </aura:if><br/>
                    
                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                        <div align = "right"> 
                            <aura:if isTrue="{!v.loggedInUserEmail == v.rsmApprover}">
                                
                                <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectRSM }" />
                                <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveRSM }" />
                                <aura:set attribute="else">
                                    <lightning:button variant="Neutral" label="Reject" title="Only RSM head can reject the target at RSM Head Stage" onclick="{! c.openRejectRSM }" disabled="true"/>
                                    <lightning:button variant="brand" label="Approve" title="Only RSM head can approve the target at RSM Head Stage" onclick="{! c.openapproveRSM }" disabled="true" />
                                    
                                </aura:set>
                            </aura:if>
                        </div> 
                    </aura:if>
                    
                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                        <div align = "right"> 
                            <aura:if isTrue="{!v.loggedInUserEmail == v.srxApprover}">
                                
                                <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectSRx }" />
                                <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveSRx }" />
                                <aura:set attribute="else">
                                    <lightning:button variant="Neutral" label="Reject" title="Only SRx head can reject the target at SRx Head Stage" onclick="{! c.openRejectSRx }" disabled="true"/>
                                    <lightning:button variant="brand" label="Approve" title="Only SRx head can approve the target at SRx Head Stage" onclick="{! c.openapproveSRx }" disabled="true" />
                                    
                                </aura:set>
                            </aura:if>
                        </div> 
                    </aura:if>
                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                        <div align = "right">
                            <aura:if isTrue="{!v.loggedInUserEmail == v.marketingApprover}">
                                
                                <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectMarketing }" />
                                <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveMarketing }" />
                                <aura:set attribute="else">
                                    <lightning:button variant="Neutral" label="Reject" title="Only Marketing head can reject the target at Marketing Head Stage" onclick="{! c.openRejectMarketing }" disabled="true"/>
                                    <lightning:button variant="brand" label="Approve" title="Only Marketing head can approve the target at Marketing Head Stage" onclick="{! c.openRejectMarketing }" disabled="true" />
                                    
                                </aura:set>
                            </aura:if> </div>  
                    </aura:if><br/>
                    <div class="slds-grid slds-gutters">
                        <div class="slds-size_5-of-12">
                        </div>
                        <div class="slds-size_2-of-12">
                            <div  class="slds-box" style="text-align:center;background-color:#A9C77D;height:180px;border-radius: 8px;">
                                <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">SRx HEAD'S TARGET</p>
                                <p style="font-weight:600;text-align:center;font-style:italic;font-size:16px;color: #2d2d2d;"></p><br/>
                                <div class="slds-grid">
                                    <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                        <aura:if isTrue="{!v.OverrideHeadSales == false}">
                                            <div style="margin-left:50px;font-weight:bold;">
                                                <aura:if isTrue="{!or(v.targetApprovalObj.headTargetStr == null,v.targetApprovalObj.headTargetStr=='')}">
                                                    <b>-</b>
                                                    <aura:set attribute="else"> {!v.targetApprovalObj.headTargetStr}</aura:set>
                                                </aura:if>    
                                            </div>
                                            <aura:set attribute="else">
                                                
                                                <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                aura:id="headSales"
                                                                blur="{!c.closeheadTarget}"
                                                                change="{!c.onHeadTargetChange}"                                                      
                                                                value="{!v.targetApprovalObj.Head_Target__c}"
                                                                
                                                                />
                                            </aura:set>
                                        </aura:if>
                                    </div>
                                    <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:60px">
                                        <div style="align:top;text-align:center;">
                                            <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                <lightning:buttonIcon iconName="utility:edit" class="slds-truncate" variant="bare" alternativeText="edit" onclick="{! c.inlineEditHeadTarget }" disabled="{!v.disableHeadIcon}"/>
                                                
                                                <aura:set attribute="else">
                                                    <lightning:buttonIcon iconName="utility:edit" class="slds-truncate" variant="bare" alternativeText="edit" onclick="{! c.inlineEditHeadTarget }" disabled="{!v.disableHeadIcon}"/>
                                                    
                                                </aura:set>
                                            </aura:if>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                        <div class="slds-size_5-of-12">
                        </div>
                    </div>
                    <div class="slds-grid slds-gutters">
                        <div class="slds-size_2-of-12">
                        </div>
                        <div class="slds-size_2-of-12">
                            <div  class="slds-box" style="border:none;align:center;background-color:#FCEDDA;height:180px;border-radius: 8px;">
                                <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">EAST REGION TARGET</p>
                                <p style="font-weight:600;text-align:center;font-style:italic;font-size:16px;color: #2d2d2d;">({!v.ericSutherland})</p><br/>
                                <div class="slds-grid">
                                    <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                        <aura:if isTrue="{!v.OverrideEastSales == false}">
                                            <div style="margin-left:50px;font-size: 24px;font-weight: bold;">
                                                <aura:if isTrue="{!or(v.targetApprovalObj.eastTargetStr == null,v.targetApprovalObj.eastTargetStr == '')}">
                                                    <b>-</b>  
                                                    <aura:set attribute="else">{!v.targetApprovalObj.eastTargetStr}</aura:set>
                                                </aura:if>     
                                            </div>
                                            
                                            <aura:set attribute="else">
                                                <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                aura:id="eastSales"
                                                                blur="{!c.closeEastTarget}"
                                                                change="{!c.onEastTargetChange}"                                                      
                                                                value="{!v.targetApprovalObj.East_Region_Target__c}"
                                                                
                                                                />
                                            </aura:set>
                                        </aura:if>
                                    </div>
                                    <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:50px;">
                                        <div align="center">
                                            
                                            <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditEastTarget }" disabled="{!v.disableIcon}"/>
                                                
                                                <aura:set attribute="else">
                                                    <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditEastTarget }" disabled="{!v.disableIcon}"/>
                                                    
                                                </aura:set>
                                            </aura:if>
                                        </div>
                                    </div>
                                </div>   
                            </div>
                        </div>
                        <div class="slds-size_4-of-12">
                            
                        </div>
                        <div class="slds-size_2-of-12">
                            <div  class="slds-box" style="border:none;align:center;background-color:#FCEDDA;height:180px;border-radius: 8px;">
                                <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">WEST REGION TARGET</p>
                                <p style="font-weight:600;text-align:center;font-style:italic;font-size: 16px; color: #2d2d2d;">({!v.daveSmith})</p><br/>
                                <div class="slds-grid">
                                    <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                        <aura:if isTrue="{!v.OverrideWestSales == false}">
                                            <div style="margin-left:50px;font-weight:bold;font-size: 24px;">
                                                <aura:if isTrue="{!v.targetApprovalObj.westtargetStr != null}">
                                                    {!v.targetApprovalObj.westtargetStr}
                                                    <aura:set attribute="else"><b>-</b></aura:set>
                                                </aura:if>    
                                            </div>
                                            
                                            <aura:set attribute="else">
                                                <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                aura:id="WestSales"
                                                                blur="{!c.closeWestTarget}"
                                                                change="{!c.onWestTargetChange}"                                                      
                                                                value="{!v.targetApprovalObj.West_Region_Target__c}"
                                                                
                                                                />
                                            </aura:set>
                                        </aura:if>
                                    </div>
                                    <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:50px;">
                                        <div align="center">
                                            <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditWestTarget }" disabled="{!v.disableIcon}"/>
                                                
                                                <aura:set attribute="else">
                                                    <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditWestTarget }" disabled="{!v.disableIcon}"/>
                                                    
                                                </aura:set>
                                            </aura:if>
                                        </div>
                                    </div>
                                </div>   
                            </div>
                        </div>
                        <div class="slds-size_2-of-12">
                        </div>
                        
                    </div><br/><br/>
                    <div class="" style="display:flex">
                        
                        <div class="" style="width:50%;padding-right:10px;padding-left:20px;">
                            <p style="font-weight:600;font-size:18px;color:#2D2D2D;">{!v.westHeader}</p><br/>
                            <table id="rows" style="border-collapse: collapse;padding:12px;border-radius:10px;">
                                <thead style="height:40px;">
                                    <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:35px;background-color:#F5F5F5;" >
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:10%;">S.No</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;width:15%;">Name</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 1</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 2</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 3</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 4</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Annual</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Actions</th>
                                        <!--<th style="border-bottom: 0px solid;color:grey;padding:2px;text-align:center;width:13%;">Actions</th>-->
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    
                                    <aura:iteration items="{!v.westSalesData}" var="item" indexVar="index">
                                        
                                        <c:Target_Approval_West_Child_Cmp  singlerec="{!item}" indexVal="{!index}" targetApprovalObj="{!v.targetApprovalObj}" disableIconWestChild="{!v.disableIconWestChild}"  />
                                    </aura:iteration>
                                </tbody>
                                
                            </table>
                        </div>
                        
                        <div class="" style="width:50%;padding-left:10px;padding-right:20px;">
                            <p style="font-weight:600;font-size:18px;color:#2D2D2D;">{!v.eastHeader}</p><br/>
                            <table style="border-collapse:collapse;padding:12px;">
                                <thead style="height:40px;">
                                    <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;background-color:#F5F5F5;" >
                                        <th style="border-bottom: 0px solid; color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:10%;">S.No</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;width:15%;">Name</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 1</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 2</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 3</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 4</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Annual</th>
                                        <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Actions</th>
                                        <!--<th style="border-bottom: 0px solid;color: grey;padding:2px;text-align:center;width:13%;">Actions</th>-->
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    <aura:iteration items="{!v.eastSalesData}" var="item" indexVar="index">
                                        <c:Target_Approval_East_Child_Cmp  singlerec="{!item}"  indexVal="{!index}" targetApprovalObj="{!v.targetApprovalObj}" disableIconEastChild="{!v.disableIconEastChild}" />
                                    </aura:iteration>
                                </tbody>
                            </table>
                        </div>
                        
                        
                    </div>
                    <br/>
                    <div style="text-align: right;">
                        <aura:if isTrue="{!v.allTargetBackBtn}">
                            <div style="display: inline-block; padding-right: 10px;">
                                <lightning:button variant="Neutral" name='Back' label='Back' onclick='{!c.intiatorBackBtn}'/>
                            </div>
                        </aura:if>
                        
                        <aura:if isTrue="{!v.inProcessBackBtn}">
                            <div style="display: inline-block;">
                                <lightning:button variant="brand" label="Submit For Approval" title="Submit the record for approval" onclick="{!c.openSubmitPopup}" />
                            </div>
                        </aura:if>
                    </div>
                    <aura:if isTrue="{! v.approveRSMScreen }">
                        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <!-- Modal/Popup Box Header Starts here-->
                                <header class="slds-modal__header">
                                    <p style="font-size:20px;">
                                        <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                            Please provide comments for your approval
                                        </aura:if>
                                        <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                            Please provide comments for your rejection
                                        </aura:if>
                                    </p>
                                    
                                    <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.RSM_Head_Comments__c}"/><br></br>
                                    <!-- <lightning:button variant="Neutral" label="Cancel" onclick="{! c.cancelApprove }" />-->
                                    <lightning:button variant="Neutral" label="Close" onclick="{! c.closeRSMpopup }" />
                                    
                                    <aura:if isTrue="{!v.approveOrReject == 'Approve'}"> <lightning:button variant="brand" label="Approve" onclick="{! c.approveRSM }" />
                                    </aura:if>
                                    <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                        <lightning:button variant="brand" label="Reject" onclick="{! c.rejectRSM }" /> </aura:if>
                                </header>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>         
                    
                    <aura:if isTrue="{! v.approveSRxScreen }">
                        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <!-- Modal/Popup Box Header Starts here-->
                                <header class="slds-modal__header">
                                    <p style="font-size:20px;">
                                        <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                            Please provide comments for your approval
                                        </aura:if>
                                        <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                            Please provide comments for your rejection
                                        </aura:if>
                                    </p>
                                    <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.SRx_Head_Comments__c}"/><br></br>
                                    <!-- <lightning:button variant="Neutral" label="Cancel" onclick="{! c.cancelApprove }" />-->
                                    <lightning:button variant="Neutral" label="Close" onclick="{! c.closeSrxPopup }" />
                                    
                                    <aura:if isTrue="{!v.approveOrReject == 'Approve'}"> <lightning:button variant="brand" label="Approve" onclick="{! c.approveSRx }" />
                                    </aura:if>
                                    <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                        <lightning:button variant="brand" label="Reject" onclick="{! c.rejectSRx }" /> </aura:if>
                                </header>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>
                    <aura:if isTrue="{! v.approveMarketingScreen }">
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                                 aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_small">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <p style="font-size:20px;">
                                        <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                            Please provide comments for your approval
                                        </aura:if>
                                        <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                            Please provide comments for your rejection
                                        </aura:if>
                                    </p>
                                    <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.Marketing_Head_Comments__c}"/><br></br>
                                    <lightning:button variant="Neutral" label="Close" onclick="{! c.closeMktgPopup }" />
                                    <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                        <lightning:button variant="brand" label="Approve" onclick="{! c.approveMarketing }" />
                                        
                                    </aura:if>
                                    <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                        <lightning:button variant="brand" label="Reject" onclick="{! c.rejectMarketing }" />
                                    </aura:if>
                                </header>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </aura:if>
                    
                    <aura:if isTrue="{! v.submitPopup }">
                        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open slds-modal_medium">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <h1 class="">Please provide comments for your submissions</h1>
                                </header>
                                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                    <lightning:input class="my-input-field-class" name="input1" label="" value="{!v.targetApprovalObj.Initiator_Head_Comments__c}"/><br></br>
                                </div>
                                <footer class="slds-modal__footer">
                                    <lightning:button name='Close' label='Close' onclick='{!c.closeSubmitPopup}'/>
                                    <lightning:button variant="brand" name='Approve' label='Submit' onclick='{!c.submitTarget}'/>
                                </footer>
                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div> 
                    </aura:if>
                    
                    
                </div>  
                
                <!-- Dummy -->
                <aura:set attribute="else">
                    <aura:if isTrue="{!v.targetSubmitted}">
                        
                        <div style="background-color:white;">
                            <div class="slds-page-header" style="padding-left: 2.3%;">
                                <div class="slds-page-header__row">
                                    <div class="slds-page-header__col-title">
                                        
                                        <div class="slds-media__body">
                                            <a onclick="{!c.goToNewScn}" style="padding-left: 15px;">All Target</a>  > {!v.targetApprovalObj.Name}
                                        </div>
                                        <div class="slds-media">
                                            <div class="slds-media__body" style="padding-top: 10px;">
                                                
                                                <lightning:icon class="docIcon" iconName="utility:contract_doc" size="large"/>
                                                
                                                <div class="slds-page-header__name">
                                                    <div class="slds-page-header__name-title">
                                                        <h1>
                                                            <span style="font-size:20px;font-weight: 600;color:gray;">Target Values</span><br/><br/>
                                                            <span style="font-size:20px;font-weight: 600;color:#2D2D2D;">{!v.targetApprovalObj.Name}</span>
                                                        </h1>
                                                    </div>
                                                    
                                                </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/><br/>
                        <div class="slds-box" style="padding:50px;background-color:#F6F7FB;">
                            
                            <div class="slds-grid" style="display:flex;justify-content: space-between;"> 
                                <div class="slds-size_3-of-12">
                                    <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                                        <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Draft</span><br/>
                                    </aura:if>
                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                        <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">RSM Head</span><br/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'RSM Head Rejected'}">
                                                <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">RSM Head Rejected</span><br/>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                        <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">SRx Head</span><br/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'SRx Head Rejected'}">
                                                <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">SRx Head Rejected</span><br/>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                        <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Marketing Head</span><br/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Marketing Head Rejected'}">
                                                <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Marketing Head Rejected</span><br/>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                    <aura:if isTrue="{!and(and(v.targetApprovalObj.SRx_Head_Status__c == 'Completed',v.targetApprovalObj.RSM_Head_Status__c == 'Completed'),and (v.targetApprovalObj.Marketing_Head_Status__c == 'Completed', v.targetApprovalObj.Initiator_Status__c == 'Completed'))}">
                                        <span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Approval Status:</span>&nbsp;<span style="font-size:16px;color:#2D2D2D;font-weight: 600;">Accepted</span><br/>
                                    </aura:if>
                                </div>
                                <div class="slds-size_9-of-12"  style="text-align: right;">
                                    
                                    <img src="{!$Resource.SRx_Approval_Icons_Approve}" style="height: 20px;padding-right: 10px;padding-bottom: 2px"/> <span style="font-weight:600;padding-right: 10px;">Approved </span>
                                    <img src="{!$Resource.SRxAndMarketingRejectionIcon}" style="height: 20px;padding-right: 10px;padding-bottom: 2px"/> <span style="font-weight:600;padding-right: 10px;" >Rejected</span>
                                  
                                    <img src="{!$Resource.SRx_Approval_Icons_Edit}" style="height: 20px;padding-right: 10px;padding-bottom: 2px"/> <span style="font-weight:600;padding-right: 10px;" > In Progress</span>
                                    
                                    <img src="{!$Resource.SRx_Approval_Icons_Pending}" style="height: 20px;padding-right: 10px;padding-bottom: 2px"/> <span style="font-weight:600;">N/A</span>
                                    
                                </div>
                            </div>
                            <br/>                    
                            <lightning:layout>
                                <h2><span>Initiator</span></h2>&nbsp;&nbsp; 
                                <div style="height:20px;width:20px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.Initiator_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </div>&nbsp;&nbsp;
                                <hr class="line" style="width:20%;"></hr><span style="">RSM Head</span>&nbsp;&nbsp;
                                <div style="height:20px;width:20px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>
                                </div>&nbsp;&nbsp;
                                <hr class="line" style="width:20%;"></hr><span style="">SRx Head</span>&nbsp;&nbsp;
                                <div style="height:20px;width:20px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>                       
                                </div>&nbsp;&nbsp;
                                <hr class="line" style="width:20%;"></hr><h2><span>Marketing Head</span></h2>&nbsp;&nbsp;
                                <div style="height:20px;width:20px;">
                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Not Initiated'}">
                                        <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                        <aura:set attribute="else">
                                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                                <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                <aura:set attribute="else">
                                                    <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Completed'}">
                                                        
                                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                        <aura:set attribute="else">
                                                            <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                        </aura:set>
                                                    </aura:if>
                                                </aura:set>
                                            </aura:if>
                                        </aura:set>
                                    </aura:if>                        
                                </div>&nbsp;
                            </lightning:layout><br/><br/>
                            
                            <table style="padding:12px;border-radius:50px;">
                                <thead>
                                    <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:60px;background-color:#F5F5F5;">
                                        <th class="" scope="col" style="width:5%;color: #2d2d2d;font-weight: 600;">
                                            <div class="slds-truncate" title="Step" style="padding-left:10px;font-size:14px;">S.No</div>
                                        </th>
                                        <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                            <div class="slds-truncate" title="Step Name" style="font-size:14px;">Submission Status</div>
                                        </th>
                                        <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                            <div class="slds-truncate" title="Approver" style="font-size:14px;">Approver</div>
                                        </th>
                                        <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                            <div class="slds-truncate" title="Approval Sent Time" style="font-size:14px;">Approval Sent Time</div>
                                        </th>
                                        <th class="" scope="col" style="width:15%;color: #2d2d2d;font-weight: 600;">
                                            <div class="slds-truncate" title="Approval Completed Time" style="font-size:14px;">Approval Completed Time
                                            </div>
                                        </th>
                                        <th class="" scope="col" >
                                            <div class="slds-truncate" title="Comments" style="font-size:14px;color: #2d2d2d;font-weight: 600;">Comments</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                    <td style="padding-left:25px;">1</td>
                                    <td><div style="display:inline-block;height:10px; width:15px;">
                                        <img src="{!$Resource.SRx_Approval_Icons_Approve}" style="margin-bottom: 4px;"/>
                                        </div>
                                        <span style="display:inline-block;padding-left:2px;padding-bottom:3px;">Initial Submission</span></td>
                                    <td>
                                        <aura:if isTrue="{!v.ericActivity || v.daveActivity}">
                                            <lightning:buttonIcon class="greenIcon" iconName="utility:record" title="Online" variant="bare" alternativeText="record" size="medium"/>
                                            <span style="padding-top:4px;">{!v.targetApprovalObj.Intial_Approver__c}</span>
                                            <aura:set attribute="else">
                                                <span data-value="{!v.targetApprovalObj.Intial_Approver__c}" onmouseover="{!c.showLastLoggedIn}"><lightning:buttonIcon class="gryIcon" iconName="utility:record" variant="bare" title="{!v.lastloginHoverMsg}" alternativeText="" size="medium"/></span>
                                                <span style="padding-top:4px;">{!v.targetApprovalObj.Intial_Approver__c}</span>
                                            </aura:set>
                                        </aura:if>
                                    </td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.Initiator_Approval_Sent_Time_String__c}</td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.Initiator_Approval_Completed_Time_String__c}</td>
                                    <td class="ellipsis">{!v.targetApprovalObj.Initiator_Head_Comments__c}</td>
                                </tr>
                                <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                    <td style="padding-left:25px;">2</td>
                                    <td><div style="display:inline-block;height:10px; width:15px;">
                                        <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Not Initiated'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                                    <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'Completed'}">
                                                            
                                                            <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                            <aura:set attribute="else">
                                                                <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                            </aura:set>
                                                        </aura:if>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>   
                                        </div> 
                                        <span style="display:inline-block;padding-left:2px;padding-bottom:3px;padding-top:4px;">RSM Head</span></td>
                                    <td> 
                                        <aura:if isTrue="{!v.ericActivity || v.daveActivity}">
                                            <lightning:buttonIcon class="greenIcon" iconName="utility:record" title="Online" variant="bare" alternativeText="record" size="medium"/>
                                            <span style="padding-top:4px;">{!v.targetApprovalObj.RSM_Approver__c}</span>
                                            <aura:set attribute="else">
                                                <span data-value="{!v.targetApprovalObj.RSM_Approver__c}" onmouseover="{!c.showLastLoggedIn}"><lightning:buttonIcon class="gryIcon" iconName="utility:record" variant="bare" title="{!v.lastloginHoverMsg}" alternativeText="" size="medium"/></span>
                                                <span style="padding-top:4px;">{!v.targetApprovalObj.RSM_Approver__c}</span>
                                            </aura:set>
                                        </aura:if> 
                                        <!-- <span style="padding-top:4px;">{!v.targetApprovalObj.RSM_Approver__c}</span> -->
                                    </td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.RSM_Head_Approval_Sent_Time_String__c}</td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.RSM_Head_Approval_Completed_Time_String__c}</td>
                                    <td class="ellipsis">{!v.targetApprovalObj.RSM_Head_Comments__c}</td>
                                </tr>
                                <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;">
                                    <td style="padding-left:25px;">3</td>
                                    <td><div style="display:inline-block;height:10px; width:15px;">
                                        <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Not Initiated'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                                    <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'Completed'}">
                                                            
                                                            <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                            <aura:set attribute="else">
                                                                <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                            </aura:set>
                                                        </aura:if>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>   
                                        </div> <span style="display:inline-block;padding-left:2px;padding-bottom:3px;padding-top:4px;">SRx Head</span></td>
                                    <td>
                                        <aura:if isTrue="{!v.srxActivity}">
                                            <lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" alternativeText="record" size="medium"/>
                                            <span style="padding-top:4px;">Automatic BRIGHT</span>
                                            <aura:set attribute="else">
                                                <span data-value="{!v.targetApprovalObj.SRx_Approver__c}" onmouseover="{!c.showLastLoggedIn}"><lightning:buttonIcon class="gryIcon" iconName="utility:record" variant="bare" title="{!v.lastloginHoverMsg}" alternativeText="" size="medium"/></span>
                                                <span style="padding-top:4px;">Automatic BRIGHT</span>
                                            </aura:set>
                                        </aura:if>  
                                        <!--   <span style="padding-top:4px;">Automatic BRIGHT</span>-->
                                        
                                    </td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.SRx_Head_Approval_Sent_Time_String__c}</td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.SRx_Head_Approval_Completed_Time_String__c}</td>
                                    <td class="ellipsis">{!v.targetApprovalObj.SRx_Head_Comments__c}</td>
                                </tr>
                                <tr style="border: 1px ridge lightgrey;height:60px;width:25%;background-color:white;border-radius:30px;"> 
                                    <td style="padding-left:25px;">4</td>
                                    <td><div style="display:inline-block;height:10px; width:15px;">
                                        <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Not Initiated'}">
                                            <img src="{!$Resource.SRx_Approval_Icons_Pending}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                                    <img src="{!$Resource.SRx_Approval_Icons_Edit}"/>
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'Completed'}">
                                                            
                                                            <img src="{!$Resource.SRx_Approval_Icons_Approve}"/>
                                                            <aura:set attribute="else">
                                                                <img src="{!$Resource.SRxAndMarketingRejectionIcon}"/>
                                                            </aura:set>
                                                        </aura:if>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                        </div><span style="display:inline-block;padding-left:2px;padding-bottom:3px;">Marketing Head</span></td>
                                    <td>
                                        <aura:if isTrue="{!v.milanActivity}">
                                             <lightning:buttonIcon class="greenIcon" iconName="utility:record" variant="bare" title="Online" size="medium"/>
                                            <span style="padding-top:4px;">Milan Kalawadia</span>
                                            <aura:set attribute="else">
                                                
                                                <span data-value="{!v.targetApprovalObj.Marketing_Approver__c}" onmouseover="{!c.showLastLoggedIn}"><lightning:buttonIcon class="gryIcon" iconName="utility:record" variant="bare" title="{!v.lastloginHoverMsg}" alternativeText="" size="medium"/></span>
                                                <span style="padding-top:4px;">Milan Kalawadia</span>
                                            </aura:set>
                                        </aura:if> 
                                         <!-- <span style="padding-top:4px;">Milan Kalawadia</span> -->
                                    </td>
                                    
                                    
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.Marketing_Head_Approval_Sent_Time_String__c}</td>
                                    <td class="slds-cell-wrap">{!v.targetApprovalObj.Marketing_Head_Approval_Completed_Str__c}</td>
                                    
                                    <td class="ellipsis">{!v.targetApprovalObj.Marketing_Head_Comments__c}</td>
                                    
                                </tr>
                                <tbody>
                                    
                                </tbody>
                            </table>
                            
                            
                            <br/>
                            <aura:if isTrue="{!v.targetApprovalObj.RSM_Head_Status__c == 'In Process'}">
                                <div align = "right"> 
                                    <aura:if isTrue="{!v.loggedInUserEmail == v.rsmApprover}">
                                        
                                        <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectRSM }" />
                                        <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveRSM }" />
                                        <aura:set attribute="else">
                                            <lightning:button variant="Neutral" label="Reject" title="Only RSM head can reject the target at RSM Head Stage" onclick="{! c.openRejectRSM }" disabled="true"/>
                                            <lightning:button variant="brand" label="Approve" title="Only RSM head can approve the target at RSM Head Stage" onclick="{! c.openapproveRSM }" disabled="true" />
                                            
                                        </aura:set>
                                    </aura:if>
                                </div> 
                            </aura:if>
                            <aura:if isTrue="{!v.targetApprovalObj.SRx_Head_Status__c == 'In Process'}">
                                <div align = "right"> 
                                    <aura:if isTrue="{!v.loggedInUserEmail == v.srxApprover}">
                                        
                                        <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectSRx }" />
                                        <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveSRx }" />
                                        <aura:set attribute="else">
                                            <lightning:button variant="Neutral" label="Reject" title="Only SRx head can reject the target at SRx Head Stage" onclick="{! c.openRejectSRx }" disabled="true"/>
                                            <lightning:button variant="brand" label="Approve" title="Only SRx head can approve the target at SRx Head Stage" onclick="{! c.openapproveSRx }" disabled="true" />
                                            
                                        </aura:set>
                                    </aura:if>
                                </div> 
                            </aura:if>
                            <aura:if isTrue="{!v.targetApprovalObj.Marketing_Head_Status__c == 'In Process'}">
                                <div align = "right">
                                    <aura:if isTrue="{!v.loggedInUserEmail == v.marketingApprover}">
                                        
                                        <lightning:button variant="Neutral" label="Reject" title="Brand action" onclick="{! c.openRejectMarketing }" />
                                        <lightning:button variant="brand" label="Approve" title="Brand action" onclick="{! c.openapproveMarketing }" />
                                        <aura:set attribute="else">
                                            <lightning:button variant="Neutral" label="Reject" title="Only Marketing head can reject the target at Marketing Head Stage" onclick="{! c.openRejectMarketing }" disabled="true"/>
                                            <lightning:button variant="brand" label="Approve" title="Only Marketing head can approve the target at Marketing Head Stage" onclick="{! c.openRejectMarketing }" disabled="true" />
                                            
                                        </aura:set>
                                    </aura:if> </div>  
                            </aura:if><br/>
                            <div class="slds-grid slds-gutters">
                                <div class="slds-size_5-of-12">
                                </div>
                                <div class="slds-size_2-of-12">
                                    <div  class="slds-box" style="text-align:center;background-color:#A9C77D;height:180px;border-radius: 8px;">
                                        <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">SRx HEAD'S TARGET</p>
                                        <p style="font-weight:600;text-align:center;font-style:italic;font-size:16px;color: #2d2d2d;"></p><br/>
                                        <div class="slds-grid">
                                            <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                                <aura:if isTrue="{!v.OverrideHeadSales == false}">
                                                    <div style="margin-left:50px;font-weight:bold;">
                                                        <aura:if isTrue="{!or(v.targetApprovalObj.headTargetStr == null,v.targetApprovalObj.headTargetStr=='')}">
                                                            <b>-</b>
                                                            <aura:set attribute="else"> {!v.targetApprovalObj.headTargetStr}</aura:set>
                                                        </aura:if>    
                                                    </div>
                                                    <aura:set attribute="else">
                                                        
                                                        <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                        labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                        aura:id="headSales"
                                                                        blur="{!c.closeheadTarget}"
                                                                        change="{!c.onHeadTargetChange}"                                                      
                                                                        value="{!v.targetApprovalObj.Head_Target__c}"
                                                                        
                                                                        />
                                                    </aura:set>
                                                </aura:if>
                                            </div>
                                            <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:60px">
                                                <div style="align:top;text-align:center;">
                                                    <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                        <lightning:buttonIcon iconName="utility:edit" class="slds-truncate" variant="bare" alternativeText="edit" onclick="{! c.inlineEditHeadTarget }" disabled="{!v.disableHeadIcon}"/>
                                                        
                                                        <aura:set attribute="else">
                                                            <lightning:buttonIcon iconName="utility:edit" class="slds-truncate" variant="bare" alternativeText="edit" onclick="{! c.inlineEditHeadTarget }" disabled="{!v.disableHeadIcon}"/>
                                                            
                                                        </aura:set>
                                                    </aura:if>
                                                </div>
                                            </div>
                                        </div> 
                                    </div>
                                </div>
                                <div class="slds-size_5-of-12">
                                </div>
                            </div>
                            <div class="slds-grid slds-gutters">
                                <div class="slds-size_2-of-12">
                                </div>
                                <div class="slds-size_2-of-12">
                                    <div  class="slds-box" style="border:none;align:center;background-color:#FCEDDA;height:180px;border-radius: 8px;">
                                        <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">EAST REGION TARGET</p>
                                        <p style="font-weight:600;text-align:center;font-style:italic;font-size:16px;color: #2d2d2d;">({!v.ericSutherland})</p><br/>
                                        <div class="slds-grid">
                                            <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                                <aura:if isTrue="{!v.OverrideEastSales == false}">
                                                    <div style="margin-left:50px;font-size: 24px;font-weight: bold;">
                                                        <aura:if isTrue="{!or(v.targetApprovalObj.eastTargetStr == null,v.targetApprovalObj.eastTargetStr == '')}">
                                                            <b>-</b>  
                                                            <aura:set attribute="else">{!v.targetApprovalObj.eastTargetStr}</aura:set>
                                                        </aura:if>     
                                                    </div>
                                                    
                                                    <aura:set attribute="else">
                                                        <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                        labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                        aura:id="eastSales"
                                                                        blur="{!c.closeEastTarget}"
                                                                        change="{!c.onEastTargetChange}"                                                      
                                                                        value="{!v.targetApprovalObj.East_Region_Target__c}"
                                                                        
                                                                        />
                                                    </aura:set>
                                                </aura:if>
                                            </div>
                                            <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:50px;">
                                                <div align="center">
                                                    
                                                    <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                        <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditEastTarget }" disabled="{!v.disableIcon}"/>
                                                        
                                                        <aura:set attribute="else">
                                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditEastTarget }" disabled="{!v.disableIcon}"/>
                                                            
                                                        </aura:set>
                                                    </aura:if>
                                                </div>
                                            </div>
                                        </div>   
                                    </div>
                                </div>
                                <div class="slds-size_4-of-12">
                                    
                                </div>
                                <div class="slds-size_2-of-12">
                                    <div  class="slds-box" style="border:none;align:center;background-color:#FCEDDA;height:180px;border-radius: 8px;">
                                        <p style="font-weight:600;text-align:center;font-size: 16px;color: #2d2d2d;">WEST REGION TARGET</p>
                                        <p style="font-weight:600;text-align:center;font-style:italic;font-size: 16px; color: #2d2d2d;">({!v.daveSmith})</p><br/>
                                        <div class="slds-grid">
                                            <div class="slds-size_10-of-12" style = "padding-right:20px;text-align:center;font-size: 24px;" align="center">
                                                <aura:if isTrue="{!v.OverrideWestSales == false}">
                                                    <div style="margin-left:50px;font-weight:bold;font-size: 24px;">
                                                        <aura:if isTrue="{!v.targetApprovalObj.westtargetStr != null}">
                                                            {!v.targetApprovalObj.westtargetStr}
                                                            <aura:set attribute="else"><b>-</b></aura:set>
                                                        </aura:if>    
                                                    </div>
                                                    
                                                    <aura:set attribute="else">
                                                        <ui:inputNumber class="slds-input inputWidth centerCss"
                                                                        labelClass="slds-form-element__label slds-form-element__label_edit slds-no-flex"
                                                                        aura:id="WestSales"
                                                                        blur="{!c.closeWestTarget}"
                                                                        change="{!c.onWestTargetChange}"                                                      
                                                                        value="{!v.targetApprovalObj.West_Region_Target__c}"
                                                                        
                                                                        />
                                                    </aura:set>
                                                </aura:if>
                                            </div>
                                            <div class="slds-size_2-of-12 slds-box slds-box_xx-small" style="background-color:white;border-radius: 6px;margin-top:50px;">
                                                <div align="center">
                                                    <aura:if isTrue="{!or(v.loggedInUserEmail == v.initialWestApprover,v.loggedInUserEmail == v.initialEastApprover)}">
                                                        <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditWestTarget }" disabled="{!v.disableIcon}"/>
                                                        
                                                        <aura:set attribute="else">
                                                            <lightning:buttonIcon iconName="utility:edit" variant="bare" alternativeText="edit" onclick="{! c.inlineEditWestTarget }" disabled="{!v.disableIcon}"/>
                                                            
                                                        </aura:set>
                                                    </aura:if>
                                                </div>
                                            </div>
                                        </div>   
                                    </div>
                                </div>
                                <div class="slds-size_2-of-12">
                                </div>
                                
                            </div><br/><br/>
                            <div class="" style="display:flex">
                                <div class="" style="width:50%;padding-right:10px;padding-left:20px;">
                                    <p style="font-weight:600;font-size:18px;color:#2D2D2D;">{!v.westHeader}</p><br/>
                                    <table id="rows" style="border-collapse: collapse;padding:12px;border-radius:10px;">
                                        <thead style="height:40px;">
                                            <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;height:35px;background-color:#F5F5F5;" >
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:10%;">S.No</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;width:15%;">Name</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 1</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 2</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 3</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 4</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Annual</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Actions</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                            
                                            <aura:iteration items="{!v.westSalesData}" var="item" indexVar="index">
                                                
                                                <c:Target_Approval_West_Child_Cmp  singlerec="{!item}" indexVal="{!index}" targetApprovalObj="{!v.targetApprovalObj}" disableIconWestChild="{!v.disableIconWestChild}"  />
                                            </aura:iteration>
                                        </tbody>
                                        
                                    </table>
                                </div>
                                
                                <div class="" style="width:50%;padding-left:10px;padding-right:20px;">
                                    <p style="font-weight:600;font-size:18px;color:#2D2D2D;">{!v.eastHeader}</p><br/>
                                    <table style="border-collapse:collapse;padding:12px;">
                                        <thead style="height:40px;">
                                            <tr style="padding:2px;text-align:center;border: 1px solid lightgrey;background-color:#F5F5F5;" >
                                                <th style="border-bottom: 0px solid; color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:10%;">S.No</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;width:15%;">Name</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 1</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 2</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 3</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%">Quarter 4</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Annual</th>
                                                <th style="border-bottom: 0px solid;color: #2d2d2d;font-weight: 600;padding:2px;text-align:center;width:13%;">Actions</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                            <aura:iteration items="{!v.eastSalesData}" var="item" indexVar="index">
                                                <c:Target_Approval_East_Child_Cmp  singlerec="{!item}"  indexVal="{!index}" targetApprovalObj="{!v.targetApprovalObj}" disableIconEastChild="{!v.disableIconEastChild}" />
                                            </aura:iteration>
                                        </tbody>
                                    </table>
                                </div>
                                
                            </div><br/>
                            <aura:if isTrue="{! v.approveRSMScreen }">
                                <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
                                    <div class="slds-modal__container">
                                        <header class="slds-modal__header">
                                            <p style="font-size:20px;">
                                                <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                                    Please provide comments for your approval
                                                </aura:if>
                                                <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                    Please provide comments for your rejection
                                                </aura:if>
                                            </p>
                                            <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.RSM_Head_Comments__c}"/><br></br>
                                            <lightning:button variant="Neutral" label="Close" onclick="{! c.closeRSMpopup }" />
                                            
                                            <aura:if isTrue="{!v.approveOrReject == 'Approve'}"> 
                                                <lightning:button variant="brand" label="Approve" onclick="{! c.approveRSM }" />
                                            </aura:if>
                                            <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                <lightning:button variant="brand" label="Reject" onclick="{! c.rejectRSM }" />
                                            </aura:if>
                                        </header>
                                    </div>
                                </section>
                                <div class="slds-backdrop slds-backdrop_open"></div>
                            </aura:if>                                    
                            
                            <aura:if isTrue="{! v.approveSRxScreen }">
                                <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
                                    <div class="slds-modal__container">
                                        <header class="slds-modal__header">
                                            <p style="font-size:20px;">
                                                <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                                    Please provide comments for your approval
                                                </aura:if>
                                                <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                    Please provide comments for your rejection
                                                </aura:if>
                                            </p>
                                            <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.SRx_Head_Comments__c}"/><br></br>
                                            <lightning:button variant="Neutral" label="Close" onclick="{! c.closeSrxPopup }" />
                                            
                                            <aura:if isTrue="{!v.approveOrReject == 'Approve'}"> <lightning:button variant="brand" label="Approve" onclick="{! c.approveSRx }" />
                                            </aura:if>
                                            <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                <lightning:button variant="brand" label="Reject" onclick="{! c.rejectSRx }" /> </aura:if>
                                        </header>
                                    </div>
                                </section>
                                <div class="slds-backdrop slds-backdrop_open"></div>
                            </aura:if>
                            <aura:if isTrue="{! v.approveMarketingScreen }">
                                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                                         aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_small">
                                    <div class="slds-modal__container">
                                        <header class="slds-modal__header">
                                            <p style="font-size:20px;">
                                                <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                                    Please provide comments for your approval
                                                </aura:if>
                                                <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                    Please provide comments for your rejection
                                                </aura:if>
                                            </p>
                                            <lightning:input class="my-input-field-class" style="height:100px !important;" name="input1" label="" value="{!v.targetApprovalObj.Marketing_Head_Comments__c}"/><br></br>
                                            <lightning:button variant="Neutral" label="Close" onclick="{! c.closeMktgPopup }" />
                                            <aura:if isTrue="{!v.approveOrReject == 'Approve'}">
                                                <lightning:button variant="brand" label="Approve" onclick="{! c.approveMarketing }" />
                                                
                                            </aura:if>
                                            <aura:if isTrue="{!v.approveOrReject == 'Reject'}">
                                                <lightning:button variant="brand" label="Reject" onclick="{! c.rejectMarketing }" />
                                            </aura:if>
                                        </header>
                                    </div>
                                </section>
                                <div class="slds-backdrop slds-backdrop_open"></div>
                            </aura:if>
                            
                            
                            <div align="right">
                                <aura:if isTrue="{!v.allTargetBackBtn}">
                                    <div style="padding-right:10px;">
                                        <lightning:button variant="Neutral" name='Back' label='Back' onclick='{!c.intiatorBackBtn}'/>
                                    </div>
                                </aura:if>
                                
                                <aura:if isTrue="{!v.inProcessBackBtn}">
                                    
                                    <!-- <lightning:button variant="neutral" label="Back" title="Go back to target setting screen" onclick="{! c.intiatorBackBtn }"/>  -->
                                    <lightning:button variant="brand" label="Submit For Approval" title="Submit the record for approval" onclick="{! c.openSubmitPopup }" />
                                    
                                </aura:if>
                            </div>
                            <!-- <aura:if isTrue="{!v.srxBackBtn}">
                                <div align = "right" style="padding-right:10px;">
                                    <lightning:button variant="neutral" label="Back" title="Go back" onclick="{! c.srxtBackBtn}"/>
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!v.marketingBackBtn}">
                                <div align = "right" style="padding-right:10px;">
                                    <lightning:button variant="neutral" label="Back" title="Go back to target setting screen" onclick="{! c.mrktBackBtn}"/>
                                </div>
                            </aura:if> -->
                            <aura:if isTrue="{! v.submitPopup }">
                                <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open slds-modal_medium">
                                    <div class="slds-modal__container">
                                        <header class="slds-modal__header">
                                            <h1 class="">Please provide comments for your submissions</h1>
                                        </header>
                                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                            <lightning:input class="my-input-field-class" name="input1" label="" value="{!v.targetApprovalObj.Initiator_Head_Comments__c}"/><br></br>
                                        </div>
                                        <footer class="slds-modal__footer">
                                            <lightning:button name='Close' label='Close' onclick='{!c.closeSubmitPopup}'/>
                                            <lightning:button variant="brand" name='Approve' label='Submit' onclick='{!c.submitTarget}'/>
                                        </footer>
                                    </div>
                                </section>
                                
                                
                                <div class="slds-backdrop slds-backdrop_open"></div> 
                                
                            </aura:if>
                            
                        </div>
                    </aura:if>
                </aura:set>                
            </aura:if>
        </aura:set>
        
    </aura:if>
    
</aura:component>