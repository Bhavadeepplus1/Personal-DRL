<aura:component controller="Phoenix_RejectedStatusCls" implements="flexipage:availableForAllPageTypes,force:hasRecordId,force:appHostable,lightning:isUrlAddressable" access="global">   
    <aura:attribute name="recordId" type="Id" />
    <aura:handler name="init" value="{!this}" action="{!c.initRecords}"/>
    <aura:handler name="change" value="{!v.pageReference}" action="{!c.initRecords}"/>
    <aura:attribute name="BidLineItemListAll" type="Phoenix_Bid_Line_Item__c[]"/>
    <aura:attribute name="isSpinnerLoad" type="boolean" default="false" />
    <aura:attribute name="objectAPIName" type="string" default=""/>
    
    <aura:attribute name="bidNumber" type="string"  />
    <aura:attribute name="bidName" type="string"  />
    <aura:attribute name="BidTypeVal" type="string"  />
    
    <aura:attribute name="isReBid" type="boolean" default="false" />
    <aura:attribute name="tableRef" type="String" default=""/>
    <aura:method name="rejectedStatusRefresh" action="{!c.initRecords}" />
    <aura:handler name="oSelectedRecordEvent" event="c:selectedsObjectRecordsEvent" action="{!c.handleComponentEvent}"/>
    <aura:attribute name="Message" type="String" default=""/>
    
    <aura:handler name="PDSelectedRecordEvent" event="c:ProductDirectorSearchEvent" action="{!c.handleComponentEventProdDir}"/>
    <aura:attribute name="MessagePD" type="String" default=""/>
    <lightning:navigation aura:id="navigationService" />
    <aura:handler name="lightningEvent" event="c:RefreshBidLineItemCmpEvt" action="{!c.handleEvent}"/>
    <lightning:card iconName="custom:custom90" title="{!(v.bidNumber+'-'+v.bidName)}">
        <aura:set attribute="actions">
            <lightning:buttonGroup>
                <aura:if isTrue="{!(v.BidLineItemListAll.length > 0 )}">
                    <div style="margin-right:8px;">  <lightning:button label="Export" onclick="{!c.downloadCsv}"/></div>
                </aura:if>
                <div><lightning:button variant="neutral" label="Back" title="Back" onclick="{! c.backToBid }"/>
                </div>
            </lightning:buttonGroup>
        </aura:set>
        <aura:if isTrue="{!(v.BidLineItemListAll.length > 0 )}">
            
            <div aura:id="mainDiv" style="height:400px;overflow:auto;margin-top:10px;" class=" slds-m-right_small slds-m-left_small">
                <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                    <table aura:id="LineTable"  class="maintable slds-table slds-no-row-hover slds-table_cell-buffer slds-table_bordered slds-table_col-bordered">
                        <thead>
                            <tr> 
                                <th></th>
                                <th class="slds-truncate slds-cell-wrap">NDC</th>
                                <th class="slds-truncate slds-cell-wrap">SAP Number</th>
                                <th class="slds-truncate slds-cell-wrap zindexPrd" aura:id="zvaluePrd">Product Family</th>
                                <th class="slds-truncate slds-cell-wrap zindexPkg" aura:id="zvaluePkg">Pkg Size</th>
                                <th class="slds-truncate slds-cell-wrap zindex" aura:id="zvalue">
                                    Product Name  
                                </th>
                                <!-- logic for Re-Bid functionality- starts-->
                                <aura:if isTrue="{!v.isReBid}" >
                                    <th class="slds-truncate slds-cell-wrap">Previous Bid</th>
                                    <th class="slds-truncate slds-cell-wrap">Previous Bid Line Item</th>
                                </aura:if>
                                <!-- logic for Re-Bid functionality- ends-->
                                
                                <th class="slds-truncate slds-cell-wrap">Case Pack</th>
                                <th class="slds-truncate slds-cell-wrap">MOQ</th>                                       
                                <th class="slds-truncate slds-cell-wrap">Compare To (Brand Name)</th>
                                <th class="slds-truncate slds-cell-wrap">Product Director</th>
                                <th class="slds-truncate slds-cell-wrap">Orange Book Rating</th>
                                <th class="slds-truncate slds-cell-wrap">Throughput Cost</th>
                                <th class="slds-truncate slds-cell-wrap">WAC</th>
                                <th class="slds-truncate slds-cell-wrap">REMS Program</th>
                                <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Current CVS/Cardinal/Major Postion</th> 
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Proposed CVS/Cardinal/Major Position</th>
                                <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">3 Months Annualized CVS Direct Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">3 Months Annualized CVS Indirect Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">3 Months Annualized Cardinal Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">3 Months Annualized Major Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Total 3 Months Annualized Selling Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Actual 12 Months CVS Direct Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Actual 12 Months  CVS Indirect Selling Unit</th>  
                                    <th class="slds-truncate slds-cell-wrap">Actual 12 Months  Cardinal Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Actual 12 Months  Major Selling Unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Actual 12 Months Total  Sales Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Override CVS Direct  Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Override CVS Indirect  Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Override Cardinal  Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Override Major  Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Override Total Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Doses</th>
                                </aura:if>
                                <aura:if isTrue="{!and(v.BidTypeVal !='Price Change',and(v.BidTypeVal !='Sales Out Rebate',v.BidTypeVal !='Customer Rebate Change'))}">
                                    <aura:if isTrue="{!or(or(v.BidTypeVal =='RFP Bids',v.BidTypeVal =='Volume Review Only'),v.BidTypeVal =='Product Addition')}">
                                        <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed CVS Direct Units(Current + Increment)</th>
                                        <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed CVS Indirect Units(Current + Increment)</th>
                                        <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed Cardinal Units(Current + Increment)</th>
                                        <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed Major Units(Current + Increment)</th>
                                        <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed Total Selling Units(Current + Increment)</th>
                                        <aura:set attribute="else">
                                            <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed CVS Direct Units</th>
                                            <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed CVS Indirect Units</th>
                                            <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed Cardinal Units</th>
                                            <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;">Proposed Major Units</th>
                                            <th class="slds-truncate slds-cell-wrap" style="background-color:#e6ccff !important;" >Proposed Total Selling Units</th>  
                                        </aura:set>
                                    </aura:if>
                                    
                                    <th class="slds-truncate slds-cell-wrap">Final Direct Selling Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Final Indirect Selling Units</th>
                                    <th class="slds-truncate slds-cell-wrap">Final Total Selling Units</th>
                                    <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved CVS Direct Units</th>
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved CVS Indirect Units</th>
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved Cardinal Units</th>
                                        <th class="slds-truncate slds-cell-wrap">SCM Approved Major Units</th>
                                        <th class="slds-truncate slds-cell-wrap">Total SCM Approved Qty</th>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Current CVS Direct Contract Price</th>
                                    <th class="slds-truncate slds-cell-wrap">CVS Cash Terms</th>                                          
                                    <th class="slds-truncate slds-cell-wrap">CVS Fees</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Cardinal Contract Price</th>
                                    <th class="slds-truncate slds-cell-wrap">Cardinal Cash Terms</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Cardinal Rebates %</th>
                                    <th class="slds-truncate slds-cell-wrap">Cardinal Rebates</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Major Contract Price</th>                                       
                                    <th class="slds-truncate slds-cell-wrap">Major Cash Terms</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Major Rebates %</th>
                                    <th class="slds-truncate slds-cell-wrap">Major Rebates</th>
                                    <th class="slds-truncate slds-cell-wrap">Current CVS Direct Acquisition Costs</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Cardinal Acquisition Costs</th>
                                    <th class="slds-truncate slds-cell-wrap">Current Major Acquisition Costs</th>
                                    <th class="slds-truncate slds-cell-wrap">Current CVS Indirect Contract Price</th>
                                </aura:if>
                                <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">  
                                    <th class="slds-truncate slds-cell-wrap">Guidance Price/Acquisition costs</th>
                                    <th class="slds-truncate slds-cell-wrap">Proposed Sales CVS/Cardinal/Major Acquisition Costs/CVS Deadnet</th>
                                </aura:if>
                                <aura:if isTrue="{!and(v.BidTypeVal !='New Product Launch',and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate'))}">
                                    <th class="slds-truncate slds-cell-wrap">% Reduction for Acquisition Costs</th>
                                </aura:if>
                                <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Brand WAC</th>
                                    <th class="slds-truncate slds-cell-wrap">% Brand WAC for CVS</th>
                                    <th class="slds-truncate slds-cell-wrap">% Brand WAC for Cardinal</th>
                                    <th class="slds-truncate slds-cell-wrap">% Brand WAC for Major</th>
                                </aura:if>
                                <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                    <th class="slds-truncate slds-cell-wrap">Proposed Marketing CVS/Cardinal/Major Acquisition Costs/CVS Deadnet</th>
                                    <th class="slds-truncate slds-cell-wrap">Proposed CVS Direct  Contract Price</th>
                                    <th class="slds-truncate slds-cell-wrap">Proposed CVS Indirect Contract Price</th>
                                    <th class="slds-truncate slds-cell-wrap"> Proposed Cardinal Contract Price </th>  
                                    <th class="slds-truncate slds-cell-wrap">Preferred Cardinal Rebate %</th>
                                    <th class="slds-truncate slds-cell-wrap">Proposed Major Contract Price</th>
                                    <th class="slds-truncate slds-cell-wrap">Preferred Major Rebate %</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Cash Discount</th>
                                <th class="slds-truncate slds-cell-wrap">Service Fee (1.5%)</th>

                                <th class="slds-truncate slds-cell-wrap">Internal CVS Direct Dead Net</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Direct TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Direct TPT %</th>
                                <th class="slds-truncate slds-cell-wrap">ZITD</th>
                                <th class="slds-truncate slds-cell-wrap">CD</th>
                                <th class="slds-truncate slds-cell-wrap">RDC Fees</th>                                     
                                <th class="slds-truncate slds-cell-wrap">CM Fees</th>
                                <th class="slds-truncate slds-cell-wrap">Internal CVS Indirect Dead Net</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Indirect TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Indirect TPT %</th>
                                <th class="slds-truncate slds-cell-wrap">Cash Discount on WAC</th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal Preferred Rebate $</th>
                                <th class="slds-truncate slds-cell-wrap">NLC Fees</th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal additional Rebate $</th>
                                <th class="slds-truncate slds-cell-wrap">Wholesaler Controlled Substance Fee$</th>
                                <th class="slds-truncate slds-cell-wrap">Internal Cardinal Dead Net </th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal TPT %</th>
                                <th class="slds-truncate slds-cell-wrap">Major Preferred Rebate $</th>
                                <th class="slds-truncate slds-cell-wrap">Major Additional Rebate $</th>
                                <th class="slds-truncate slds-cell-wrap">Internal Major Dead Net </th>
                                <th class="slds-truncate slds-cell-wrap">Major TPT $ </th>
                                <th class="slds-truncate slds-cell-wrap">Major TPT % </th>                                
                                <aura:if isTrue="{!or(v.BidTypeVal =='New Product Launch',or(v.BidTypeVal =='RFP Bids',v.BidTypeVal =='Product Addition'))}">
                                    <th class="slds-truncate slds-cell-wrap">Cardinal IOD per unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Major IOD per unit</th>
                                    <th class="slds-truncate slds-cell-wrap">Cardinal IOD overall amount $</th>
                                    <th class="slds-truncate slds-cell-wrap">Major IOD Overall amount $</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Medicaid &amp; Returns  per unit</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Direct Net Sales</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Indirect Net Sales</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Total Net Sales </th>
                                <th class="slds-truncate slds-cell-wrap">CVS Direct TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Indirect TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Total  TPT $ </th>
                                <th class="slds-truncate slds-cell-wrap">CVS Direct TPT %</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Indirect TPT %</th>
                                <th class="slds-truncate slds-cell-wrap">CVS Total  TPT % </th>
                                <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Opening Order for CVS</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order Net Sales for CVS</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT $ for CVS</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT % for CVS</th>
                                </aura:if>
                                
                                <th class="slds-truncate slds-cell-wrap">Cardinal Net Sales </th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal TPT $ </th>
                                <th class="slds-truncate slds-cell-wrap">Cardinal TPT % </th>
                                <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Opening Order for Cardinal</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order Net Sales for Cardinal</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT $ for Cardinal</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT % for Cardinal</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Major Net Sales </th>
                                <th class="slds-truncate slds-cell-wrap">Major TPT $</th>
                                <th class="slds-truncate slds-cell-wrap">Major TPT %</th>
                                <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Opening Order for Major</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order Net Sales for Major</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT $ for Major</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order TPT % for Major</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Total RedOak Net Sales </th>
                                <th class="slds-truncate slds-cell-wrap">Total RedOak TPT $ </th>
                                <th class="slds-truncate slds-cell-wrap">Total RedOak TPT % </th>
                                <th class="slds-truncate slds-cell-wrap">Budgeted ASP</th>
                                <th class="slds-truncate slds-cell-wrap">Proposed as % of Budget</th>
                                <th class="slds-truncate slds-cell-wrap">Latest Estimate ASP</th>
                                <th class="slds-truncate slds-cell-wrap">Proposed as % of Latest Estimate</th>
                                <th class="slds-truncate slds-cell-wrap">Lowest Price / SKU</th>
                                <th class="slds-truncate slds-cell-wrap">Approved Lowest Price /SKU</th>
                                
                                <aura:if isTrue="{!and(and(v.BidTypeVal!='Price Change',v.BidTypeVal!='New Product Launch'),and(v.BidTypeVal!='Sales Out Rebate',v.BidTypeVal!='Customer Rebate Change'))}">
                                    <th class="slds-truncate slds-cell-wrap">Initial Stocking Order Volume</th>
                                    <th class="slds-truncate slds-cell-wrap">Initial Stocking Order Comments</th>
                                    <th class="slds-truncate slds-cell-wrap">SCM Approval (Y/N)</th>
                                    <th class="slds-truncate slds-cell-wrap">SCM Rejection Reason</th>
                                    <th class="slds-truncate slds-cell-wrap">Revisit Date</th>
                                    <th class="slds-truncate slds-cell-wrap">Estimated Lead Time</th>
                                    <th class="slds-truncate slds-cell-wrap">SCM Comments</th>
                                </aura:if>
                                <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                    <th class="slds-truncate slds-cell-wrap">Estimated Lead Time</th>
                                    <th class="slds-truncate slds-cell-wrap">Opening Order Comments</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Sales Notes</th>
                                <aura:if isTrue="{!v.BidTypeVal !='Volume Review Only'}">
                                    <th class="slds-truncate slds-cell-wrap">Marketing Approval</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Marketing Notes</th>
                                <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                    <th class="slds-truncate slds-cell-wrap">Marketing Lead Rx</th>
                                    <th class="slds-truncate slds-cell-wrap">Marketing Lead SRx</th>
                                    <th class="slds-truncate slds-cell-wrap">Marketing Lead OTC</th>
                                    <th class="slds-truncate slds-cell-wrap">Marketing Lead Comments</th>
                                    <th class="slds-truncate slds-cell-wrap">Marketing Head Approval</th>
                                    <th class="slds-truncate slds-cell-wrap">Marketing Head Comments</th>
                                </aura:if>
                                <aura:if isTrue="{!v.BidTypeVal !='Volume Review Only'}">
                                    <th class="slds-truncate slds-cell-wrap">Finance Approval</th>
                                    <th class="slds-truncate slds-cell-wrap">Finance Comments</th>
                                </aura:if>
                                <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                    <th class="slds-truncate slds-cell-wrap">Sr Director / VP Finance Approval</th>
                                    <th class="slds-truncate slds-cell-wrap">Sr Director / VP Finance Comments</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Contract Status</th>
                                <th class="slds-truncate slds-cell-wrap">Contract Comments</th>
                                <th class="slds-truncate slds-cell-wrap">WAC Check</th>
                                <aura:if isTrue="{!or(v.BidTypeVal =='New Product Launch',or(v.BidTypeVal =='RFP Bids',v.BidTypeVal =='Product Addition'))}">
                                    <th class="slds-truncate slds-cell-wrap">IOD Quantity (Runded to MOQ)</th>
                                </aura:if>
                                <th class="slds-truncate slds-cell-wrap">Bid Status</th>
                                <th class="slds-truncate slds-cell-wrap">Customer Decline Reasons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <aura:iteration items="{!v.BidLineItemListAll}" var="singleRec" indexVar="sNo">
                                <tr>
                                    <th scope="row" class="{! v.showErrorClass == true ? 'slds-cell-edit slds-has-error' : 'slds-cell-edit'}">
                                        
                                    </th>
                                    <th scope="row" class="{! v.showErrorClass == true ? 'slds-cell-edit slds-has-error' : 'slds-cell-edit'}">
                                        <span class="slds-grid slds-grid_align-spread">
                                            <span class="" title="NDC">{!singleRec.Phoenix_NDC__c}</span>
                                        </span>
                                    </th>
                                    <th scope="row" >{!singleRec.Phoenix_Product_Code1__c}</th>
                                    
                                    <th scope="row" >
                                        <span class="slds-grid slds-grid_align-spread">
                                            <span class="" title="Product Family">
                                                <lightning:formattedUrl value="{!'/' + singleRec.Product_Family__c}"  label="{!singleRec.Product_Family__r.Name}" target="_self" />  
                                            </span>
                                        </span>
                                        <!--{!singleRec.Phoenix_Product_Family__c}-->
                                    </th>
                                    
                                    <th scope="row" >
                                        <lightning:formattedNumber value="{!singleRec.Phoenix_Pkg_Size__c}"/>
                                    </th>
                                    <th scope="row" >
                                        <span class="slds-grid slds-grid_align-spread">
                                            <span class="" title="Product">
                                                <lightning:formattedUrl value="{!'/' + singleRec.Phoenix_Product__r.Id}"  label="{!singleRec.Phoenix_Product__r.Name}" target="_self" />  
                                            </span>
                                        </span>
                                    </th>
                                    
                                    <!-- logic for Re-Bid functionality- starts-->
                                    <aura:if isTrue="{!v.isReBid}">
                                        <td>  <a href="{!'/'+singleRec.Phoenix_Previous_Bid__c}" target="_blank">{!singleRec.Phoenix_Previous_Bid__r.Name}</a></td>
                                        <td> <a onclick="{!c.showSelectedproducts}">{!singleRec.Phoenix_Previous_LineItem__r.Name}</a></td>
                                    </aura:if>
                                    <!-- logic for Re-Bid functionality- ends-->
                                    
                                    <td><lightning:formattedNumber value="{!singleRec.Phoenix_Case_Pack__c}"/></td>
                                    <td><lightning:formattedNumber value="{!singleRec.Phoenix_MOQ1__c}" maximumFractionDigits="2"/></td>
                                    <td>{!singleRec.Phoenix_Compare_To_Brand_Name1__c}</td>
                                    <td>{!singleRec.Phoenix_Product_Director__c}</td>
                                    <td>{!singleRec.Phoenix_Orange_Book_Rating1__c}</td>
                                    
                                    <td class="slds-text-align--right">
                                        <lightning:formattedNumber value="{!singleRec.Phoenix_Throughput_cost__c}" style="currency" currencyCode="USD" maximumFractionDigits="2"/>
                                    </td>
                                    <td class="slds-text-align--right">
                                        <lightning:formattedNumber value="{!singleRec.Phoenix_WAC__c}" style="currency" currencyCode="USD" maximumFractionDigits="2"/>
                                    </td>           
                                    <!-- <td>{!singleRec.Phoenix_IMS_Market_Share__c}</td> -->
                                    <aura:if isTrue="{!singleRec.Phoenix_REMS__c}" >
                                        <td style="color:red">Yes</td>
                                        <aura:set attribute="else">
                                            <td>No</td>
                                        </aura:set>
                                    </aura:if>
                                    <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                        <td>	
                                            <div class="slds-grid">	
                                                <div class="slds-grid slds-has-flexi-truncate">	
                                                    <p class="slds-truncate" title="{!singleRec.Phoenix_Current_Position__c}">{!singleRec.Phoenix_Current_Position__c}</p>	
                                                </div>	
                                            </div>
                                        </td>
                                    </aura:if> 
                                    <td class="" >
                                        {!singleRec.Phoenix_Proposed_Position__c}
                                    </td>
                                    <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">  
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Current_Retail_Direct_Units__c}"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Current_Retail_Indirect_Units__c}"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Current_Wholesaler_Units__c}"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_3MonAnnualMajorSellingUnits__c}"/></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!(singleRec.Phoenix_Current_Retail_Direct_Units__c != null ? singleRec.Phoenix_Current_Retail_Direct_Units__c : 0)+
                                                                              (singleRec.Phoenix_Current_Retail_Indirect_Units__c != null ? singleRec.Phoenix_Current_Retail_Indirect_Units__c : 0)+
                                                                              (singleRec.Phoenix_Current_Wholesaler_Units__c != null ? singleRec.Phoenix_Current_Wholesaler_Units__c : 0)+
                                                                              (singleRec.BidLineItemsExtn__r[0].Phoenix_3MonAnnualMajorSellingUnits__c != null ? singleRec.BidLineItemsExtn__r[0].Phoenix_3MonAnnualMajorSellingUnits__c : 0)}" 
                                                                       maximumFractionDigits="0"
                                                                       minimumFractionDigits="0"/>
                                        </td>
                                        <!-- <td class="slds-text-align__right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Total3MonAnnualSellingUnits__c}"/></td> -->
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_12_Months_Actual_Sales__c}"/></td> 
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_12_Months_IndirectSaleUnit__c}"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonCardinalSelUnits__c}"/></td> 
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonMajorSelUnit__c}"/></td> 
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!(singleRec.Phoenix_12_Months_Actual_Sales__c != null ? singleRec.Phoenix_12_Months_Actual_Sales__c : 0)+
                                                                              (singleRec.Phoenix_12_Months_IndirectSaleUnit__c != null ? singleRec.Phoenix_12_Months_IndirectSaleUnit__c : 0)+
                                                                              (singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonCardinalSelUnits__c != null ? singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonCardinalSelUnits__c : 0)+
                                                                              (singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonMajorSelUnit__c != null ? singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonMajorSelUnit__c : 0)}" 
                                                                       maximumFractionDigits="0"
                                                                       minimumFractionDigits="0"/>
                                        </td>
                                        <!-- <td class="slds-text-align__right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Actual12MonTotalSaleUnits__c}"/></td> -->
                                        
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Override_Current_Direct_Units__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Override_Current_Indirect_Units__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Override_Current_Units__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_OverrideMajorUnits__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Override_Total_units__c}"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Doses__c}"/></td>
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.BidTypeVal !='Price Change',and(v.BidTypeVal !='Customer Rebate Change',v.BidTypeVal !='Sales Out Rebate'))}">   
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_CVS_DirSellingUnits__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_CVS_IndirSellingUnits__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_Cardinal_Units__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_Major_Units__c}" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!(singleRec.Phoenix_Proposed_Direct_Selling_Unit__c != null ? singleRec.Phoenix_Proposed_Direct_Selling_Unit__c : 0)+
                                                                                                             (singleRec.Phoenix_Proposed_Indirect_Selling_Unit__c != null ? singleRec.Phoenix_Proposed_Indirect_Selling_Unit__c : 0)}" 
                                                                                                      maximumFractionDigits="0"
                                                                                                      minimumFractionDigits="0"/></td>
                                        
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_Direct_Selling_Unit__c}" maximumFractionDigits="0"
                                                                                                      minimumFractionDigits="0"/></td>
                                        
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_Indirect_Selling_Unit__c}" maximumFractionDigits="0"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!(singleRec.Phoenix_Proposed_Direct_Selling_Unit__c != null ? singleRec.Phoenix_Proposed_Direct_Selling_Unit__c : 0)+
                                                                                                             (singleRec.Phoenix_Proposed_Indirect_Selling_Unit__c != null ? singleRec.Phoenix_Proposed_Indirect_Selling_Unit__c : 0)}" 
                                                                                                      maximumFractionDigits="0"
                                                                                                      minimumFractionDigits="0"/></td>
                                        <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                            <td class="slds-text-align--right">
                                                <aura:if isTrue="{!and(and(singleRec.Phoenix_SCM_Approval_Y_N__c!='N- Not Approved',singleRec.Phoenix_SCM_Final_Approval__c==true),not(empty(singleRec.Phoenix_SCM_Approval_Y_N__c)))}">
                                                    <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Anda_Units__c}"
                                                                               maximumFractionDigits="0"
                                                                               minimumFractionDigits="0"/>
                                                </aura:if>
                                            </td> 
                                            <td class="slds-text-align--right">
                                                <aura:if isTrue="{!and(and(singleRec.Phoenix_SCM_Approval_Y_N__c!='N- Not Approved',singleRec.Phoenix_SCM_Final_Approval__c==true),not(empty(singleRec.Phoenix_SCM_Approval_Y_N__c)))}">
                                                    <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Indirect_Gaint_EagleUnit__c}"
                                                                               maximumFractionDigits="0"
                                                                               minimumFractionDigits="0"/>
                                                </aura:if>
                                            </td> 
                                            <td class="slds-text-align--right">
                                                <aura:if isTrue="{!and(and(singleRec.Phoenix_SCM_Approval_Y_N__c!='N- Not Approved',singleRec.Phoenix_SCM_Final_Approval__c==true),not(empty(singleRec.Phoenix_SCM_Approval_Y_N__c)))}">
                                                    <lightning:formattedNumber value="{!singleRec.Phoenix_ProposedIndirectAholdDelhaizeUni__c}"
                                                                               maximumFractionDigits="0"
                                                                               minimumFractionDigits="0"/>
                                                </aura:if>
                                            </td> 
                                            <td class="slds-text-align--right">
                                                <aura:if isTrue="{!and(and(singleRec.Phoenix_SCM_Approval_Y_N__c!='N- Not Approved',singleRec.Phoenix_SCM_Final_Approval__c==true),not(empty(singleRec.Phoenix_SCM_Approval_Y_N__c)))}">
                                                    <lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_IndirectGaintEagleUnits__c}"
                                                                               maximumFractionDigits="0"
                                                                               minimumFractionDigits="0"/>
                                                </aura:if>
                                            </td> 
                                            
                                            <td class="slds-text-align--right">
                                                <aura:if isTrue="{!and(and(singleRec.Phoenix_SCM_Approval_Y_N__c!='N- Not Approved',singleRec.Phoenix_SCM_Final_Approval__c==true),not(empty(singleRec.Phoenix_SCM_Approval_Y_N__c)))}">
                                                    <div style="{!lessthan(singleRec.Phoenix_Total_SCM_Approved_Qty__c,singleRec.Phoenix_Final_Total_Selling_Unit__c)?'color:red':''}">
                                                        <lightning:formattedNumber value="{!singleRec.Phoenix_Total_SCM_Approved_Qty__c}"  maximumFractionDigits="0" minimumFractionDigits="0"/>
                                                    </div>
                                                </aura:if>
                                            </td>
                                        </aura:if>
                                    </aura:if>  
                                    <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Direct_Price__c}" style="currency" 
                                                                       currencyCode="USD" maximumFractionDigits="2"/>
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Cash_Terms__c}" maximumFractionDigits="2"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Fees__c}" maximumFractionDigits="2"/></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Wholesaler_Price__c}" style="currency" 
                                                                       currencyCode="USD" maximumFractionDigits="2" />
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_Cash_Terms__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Rebate__c}" 
                                                                       style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/>
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_Rebates__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Current_Major_Contract_Price__c}" style="currency"
                                                                       currencyCode="USD" maximumFractionDigits="2" />
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Cash_Terms__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_Current_Rebate__c}" 
                                                                       style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/>
                                        </td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Rebates__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Current_Anda_Acquisition_Costs__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Anda_Old_Acqusition_Costs__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Current_Major_Acquisition_Costs__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Current_Indirect_Price__c}" style="currency"
                                                                       currencyCode="USD" maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal  !='Sales Out Rebate')}">            
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Guidance_Price__c}" style="currency" currencyCode="USD"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_ProposedContract_Bid_Price_Sales__c}" style="currency" currencyCode="USD"/>
                                        </td>
                                    </aura:if>
                                    <aura:if isTrue="{!v.BidTypeVal !='New Product Launch'}">
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Reduction__c}" style="percent-fixed" maximumFractionDigits="2"/></td>
                                    </aura:if>
                                    <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                        <td class="slds-text-align_right"> <lightning:formattedNumber value="{!singleRec.Brand_WAC__c}"
                                                                                                      style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Brand_WAC_Perc__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Brand_WAC_Per__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Brand_WAC_Per__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_PropMarktCvsCardinalAcquisitCost__c}" style="currency" currencyCode="USD"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <div style="{!lessthan(v.dirDeadnet,singleRec.Phoenix_Lowest_Price_SKU__c)?'color:red':''}">
                                                <lightning:formattedNumber title="{!lessthan(v.dirDeadnet,singleRec.Phoenix_Lowest_Price_SKU__c)?'Internal CVS Direct Deadnet Price is less than Lowest Price/SKU':''}" 
                                                                           value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_CvsDirectContractPrice__c}" 
                                                                           style="currency" 
                                                                           currencyCode="USD"/>
                                            </div>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <div style="{!lessthan(v.indDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'color:red':''}">
                                                <lightning:formattedNumber title="{!lessthan(v.indDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'Internal CVS Indirect Deadnet Price is lessthan Lowest Price/SKU':''}" 
                                                                           value="{!singleRec.Phoenix_ProposedContractBidPriceMktng__c}" style="currency" currencyCode="USD"/>
                                            </div>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <div style="{!lessthan(v.cardDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'color:red':''}">
                                                <lightning:formattedNumber title="{!lessthan(v.cardDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'Cardinal Deadnet Price is lessthan Lowest Price/SKU':''}" 
                                                                           value="{!singleRec.Phoenix_Wholesaler_Diff_Price_Indirect__c}" 
                                                                           style="currency" currencyCode="USD" 
                                                                           maximumFractionDigits="2"/>
                                            </div>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Preferred_Cardinal_Rebate_per__c}" style="percent-fixed" maximumFractionDigits="2"/>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <div style="{!lessthan(v.majorDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'color:red':''}">
                                                <lightning:formattedNumber title="{!lessthan(v.majorDeadNet,singleRec.Phoenix_Lowest_Price_SKU__c)?'Major Deadnet Price is lessthan Lowest Price/SKU':''}" 
                                                                           value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Proposed_Major_Contract_Price__c}" 
                                                                           style="currency" 
                                                                           currencyCode="USD" minimumFractionDigits="2"/>
                                            </div>
                                        </td>
                                        <td class="slds-text-align--right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Rebate_per__c}" style="percent-fixed" maximumFractionDigits="2"/>
                                        </td>
                                        
                                    </aura:if>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Direct_CD__c}" style="currency" currencyCode="USD" minimumFractionDigits="2"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Service_Fee__c}" style="currency" currencyCode="USD" minimumFractionDigits="2"/></td>
                                    <td class="slds-text-align--right">
                                        <div style="{!v.isAccpetable ?'color:green':!v.isNotAccpetable ?'color:red': ''}">
                                            <lightning:formattedNumber title="{!v.isAccpetable ?'Internal CVS Direct Dead Net is greater than LE+10% (LE) or BASP+10% (BASP)':!v.isNotAccpetable ?'Internal CVS Direct Dead Net is less than LE-10% (LE) or BASP-10% (BASP)': ''}" 
                                                                       value="{!singleRec.Phoenix_Direct_Dead_Net__c}" style="currency" 
                                                                       currencyCode="USD" maximumFractionDigits="2" />
                                        </div>
                                    </td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Direct_TP_In__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Direct_TP__c}" style="percent-fixed" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_ZITD__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_INDIRECT_CD__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_RDC_NLC__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Contract_Mngmnt_Fee_Wholesaler__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right">
                                        <div style="{!v.isAccpetable1 ?'color:green':!v.isNotAccpetable1 ?'color:red': ''}">
                                            <lightning:formattedNumber title="{!v.isAccpetable1 ?'Internal CVS Indirect Dead Net is greater than LE+10% (LE) or BASP+10% (BASP)':!v.isNotAccpetable1 ?'Internal CVS Indirect Dead Net is less than LE-10% (LE) or BASP-10% (BASP)': ''}" 
                                                                       value="{!singleRec.Phoenix_Indirect_Dead_Net__c}" style="currency"
                                                                       currencyCode="USD" maximumFractionDigits="2" />
                                        </div>
                                    </td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Indirect_TP__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Indirect_TP__c}"  style="percent-fixed" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_INDIRECT_CD__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Net_Price_after_Rebates_Terms__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_NLC__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CardinalAdditionalRebate__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right">
                                        <lightning:formattedNumber  value="{!v.singleRec.Phoenix_Whlsr_Controlled_Substance_Fee__c}" style="currency" currencyCode="USD" minimumFractionDigits="2" maximumFractionDigits="2"/>
                                    </td>
                                    <td class="slds-text-align--right">
                                        <div style="{!v.isAccpetable2 ?'color:green':!v.isNotAccpetable2 ?'color:red': ''}">
                                            <lightning:formattedNumber title="{!v.isAccpetable2 ?'Internal Cardinal Dead Net is greater than LE+10% (LE) or BASP+10% (BASP)':!v.isNotAccpetable2 ?'Internal Cardinal Dead Net is less than LE-10% (LE) or BASP-10% (BASP)': ''}" 
                                                                       value="{!singleRec.Phoenix_Customer_Dead_Net1__c}" 
                                                                       style="currency" currencyCode="USD"
                                                                       maximumFractionDigits="2" />
                                        </div>
                                    </td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_TPT_perUnit__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_TPT_Per_perUnit__c}" style="percent-fixed" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Net_Price_after_RebatesbeforeVIP__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Additional_Rebate__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right">
                                        <div style="{!v.isAccpetable3 ?'color:green':!v.isNotAccpetable3 ?'color:red': ''}">
                                            <lightning:formattedNumber title="{!v.isAccpetable3 ?'Internal Major Dead Net is greater than LE+10% (LE) or BASP+10% (BASP)':!v.isNotAccpetable3 ?'Internal Major Dead Net is less than LE-10% (LE) or BASP-10% (BASP)': ''}" 
                                                                       value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Internal_Major_Dead_Net__c}" 
                                                                       style="currency" currencyCode="USD" maximumFractionDigits="2" />
                                        </div>
                                    </td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_TPT_perUnit__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_TPT_Per_perUnit__c}" style="percent-fixed" maximumFractionDigits="2" /></td>
                                    <aura:if isTrue="{!or(v.BidTypeVal =='New Product Launch',or(v.BidTypeVal =='RFP Bids',v.BidTypeVal =='Product Addition'))}">
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Retail_IOD_per_unit__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Wholesaler_IOD_per_unit__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_IOD_Total_Amount__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                        <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Wholesaler_IOD_overall_amount__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    </aura:if>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Medicaid_Returns_Per_Unit_in__c}" style="currency" currencyCode="USD" maximumFractionDigits="2" /></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Proposed_Net_Sales_Direct__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Proposed_Net_Sales_Indirect__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Total_Net_Sales__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Direct_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Indirect_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Total_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Direct_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Indirect_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_CVS_Total_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                        <td>{!singleRec.BidLineItemsExtn__r[0].Opening_Order_CVS__c}
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Opening_Order_Net_Sales_for_CVS__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Opening_Order_TPT_for_CVS__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Opening_Order_TPT_Perc_for_CVS__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Wholesaler_Net_Sales__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Cardinal_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                        <td>{!singleRec.Phoenix_Opening_Order__c}
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Opening_Order_Net_sales__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Opening_Order_TPT__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Opening_Order_TPT_Per__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_Net_Sales__c}" 
                                                                                                  style="currency" currencyCode="USD" 
                                                                                                  minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Major_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                        <td>{!singleRec.BidLineItemsExtn__r[0].Phoenix_Opening_Order_Major__c}
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Opening_Order_Major_Net_sales__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Opening_Order_Major_TPT__c}" 
                                                                       style="currency" currencyCode="USD" 
                                                                       minimumFractionDigits="0" maximumFractionDigits="0"/>
                                        </td>
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Opening_Order_Major_TPT_Per__c}" 
                                                                       style="percent-fixed"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Net_Sales_Internal__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Total_RedOak_TPT__c}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.BidLineItemsExtn__r[0].Phoenix_Total_RedOak_TPT_Per__c}" style="percent-fixed" minimumFractionDigits="2" maximumFractionDigits="2"/></td>
                                    <td class="slds-text-align--right"><lightning:formattedNumber value="{!singleRec.Phoenix_Budgeted_ASP1__c}" style="currency" currencyCode="USD" maximumFractionDigits="2"/></td>
                                    <td class="slds-text-align_right"><lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_to_Budget__c}" style="percent-fixed"  maximumFractionDigits="2"/></td>
                                    <td class="slds-text-align_right"><lightning:formattedNumber value="{!singleRec.Phoenix_Latest_Estimate__c}" style="currency" currencyCode="USD" maximumFractionDigits="2"/></td>
                                    
                                    <td class="slds-text-align_right"><lightning:formattedNumber value="{!singleRec.Phoenix_Proposed_as_of_Latest_Estimate__c}" style="percent-fixed"  maximumFractionDigits="2"/></td>
                                    
                                    <td class="slds-text-align--right">
                                        <lightning:formattedNumber value="{!singleRec.Phoenix_Lowest_Price_SKU__c}" style="currency" 
                                                                   currencyCode="USD" maximumFractionDigits="2"/>
                                    </td>
                                    <td class="slds-text-align_right"><lightning:formattedNumber value="{!singleRec.Phoenix_Approved_Lowest_Price_SKU__c}" style="currency" currencyCode="USD" maximumFractionDigits="2"/></td>
                                    <aura:if isTrue="{!and(and(v.BidTypeVal!='Price Change',v.BidTypeVal!='New Product Launch'),and(v.BidTypeVal!='Sales Out Rebate',v.BidTypeVal!='Customer Rebate Change'))}">
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_Initial_Stocking_Order_Volume__c}"/>
                                        </td>
                                        <td>
                                            {!singleRec.Phoenix_Initial_Stocking_Order_Comments__c}
                                        </td>
                                        <td>{!singleRec.Phoenix_SCM_Approval_Y_N__c}</td>
                                        <td>{!singleRec.Phoenix_SCM_Rejection_Reason1__c}</td>
                                        <td>
                                            <span><lightning:formattedDateTime value="{!singleRec.Phoenix_Revisited_Date__c}" year="numeric" month="numeric" day="numeric" timeZone="UTC"></lightning:formattedDateTime></span>
                                        </td>
                                        <td>{!singleRec.Phoenix_Estimated_Lead_Time_Days__c}</td>
                                        <td>{!singleRec.Phoenix_SCM_Notes__c}</td>
                                    </aura:if>
                                    <aura:if isTrue="{!v.BidTypeVal =='New Product Launch'}">
                                        <td>{!singleRec.Phoenix_Estimated_Lead_Time_Days__c}</td>
                                        <td>
                                            {!singleRec.Phoenix_Initial_Stocking_Order_Comments__c}
                                        </td>
                                    </aura:if>
                                    <td>{!singleRec.Phoenix_Sales_Notes__c}</td>
                                    <aura:if isTrue="{!v.BidTypeVal!='Volume Review Only'}">
                                        <td>{!singleRec.Phoenix_Marketing_Approval__c}</td>
                                    </aura:if>
                                    <td>{!singleRec.Phoenix_Marketing_Notes__c}</td>
                                    <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                        
                                        <td >{!singleRec.Phoenix_Marketing_Lead_Rx__c}</td>
                                        <td >{!singleRec.Phoenix_Marketing_Lead_SRx__c}</td>
                                        <td >{!singleRec.Phoenix_Marketing_Lead_OTC__c}</td>
                                        <td >{!singleRec.Phoenix_Business_Head_Comments__c}</td>
                                        <td>{!singleRec.Phoenix_Approval__c}</td>
                                        <td>{!singleRec.Phoenix_Comments__c}</td>
                                    </aura:if>
                                    <aura:if isTrue="{!v.BidTypeVal!='Volume Review Only'}">
                                        <td>{!singleRec.Phoenix_Finance_Approval__c}</td>
                                        <td>{!singleRec.Phoenix_Finance_Comments__c}</td>
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.BidTypeVal !='Volume Review Only',v.BidTypeVal !='Sales Out Rebate')}">
                                        
                                        <td>{!singleRec.Phoenix_Sr_Director_VP_Finance_Approval__c}</td>
                                        <td>{!singleRec.Phoenix_Sr_Director_VP_Finance_Comments__c}</td>
                                    </aura:if>
                                    <td>{!singleRec.Phoenix_Contract_Approval__c}</td>
                                    <td>{!singleRec.Phoenix_Contract_Comments__c}</td>
                                    <td>{!singleRec.Phoenix_WAC_Check__c}</td>
                                    
                                    <aura:if isTrue="{!or(v.BidTypeVal =='New Product Launch',or(v.BidTypeVal =='RFP Bids',v.BidTypeVal =='Product Addition'))}">
                                        <td class="slds-text-align_right">
                                            <lightning:formattedNumber value="{!singleRec.Phoenix_IOD_Qty__c}" style="decimal"
                                                                       maximumFractionDigits="2" />
                                        </td>
                                    </aura:if>
                                    <td>{!singleRec.Phoenix_Bid_Status__c}</td>
                                    <td>{!singleRec.Phoenix_Customer_Decline_Reasons__c}</td>
                                </tr>    
                                
                            </aura:iteration>
                        </tbody>
                    </table>
                </div> 
            </div>
            <br/>
            <aura:set attribute="else">
                <lightning:card >
                    <center>
                        <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;">
                            <span class="slds-icon_container slds-m-right_x-small" title="Please add line items to view the table">
                                <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                            </span>
                            <h2>There are no line items for this bid</h2>
                        </div>
                    </center>
                </lightning:card>
            </aura:set>
        </aura:if> 
    </lightning:card> 
</aura:component>