<aura:component controller = "Vision_Home_Page_Class" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction,lightning:isUrlAddressable" access="global" >
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute name="responseObj" type="Object" />
    <lightning:navigation aura:id="navigationService"/>
    <div class="slds-grid">
        
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Recent Market Share Expanision Moves</b>
                <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.Recent_Market_Share_Expanision_Moves}" label="View All " target="_blank" />
                    </span></div>
                <aura:if isTrue="{!v.responseObj.marketExpansionList.length > 0}">
                       <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">
                             <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Product Description</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer</th>                                    
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Status</th>                                    
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.marketExpansionList}" var="singlerec" indexVar="sNo">
                                        <tr>
                                            <td>    <lightning:button variant="base" name="{!singlerec.Vision_Customer__c}" label="{!singlerec.Vision_Product__r.Name}" title="Base action" onclick="{! c.handleClick }"/></td>
                                            <td><a href="{!'/' + singlerec.Vision_Customer__c}" target="_blank">{!singlerec.Vision_Customer__r.Name}</a></td>
                                            
                                            <td>{!singlerec.Task_Status__c}</td>
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Bids - Upcoming Due</b>
                 <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.UpcomingDue}" label="View All  " target="_blank" />
                    </span>
                </div>
                <aura:if isTrue="{!v.responseObj.bidsList.length > 0}">
                      <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">         
                                <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid No.</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer</th>                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid Description</th> <!-- Updated Bid Description by Rama-->
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Internal Date</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer Date</th>                                  
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Status</th>                                    
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.bidsList}" var="singlerec" >
                                        <tr>
                                            <td><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Name}</a></td>
                                            <td><a href="{!'/' + singlerec.Phoenix_Customer__c}" target="_blank">{!singlerec.Phoenix_Customer__r.Name}</a></td>                                           
                                            <td>{!singlerec.Phoenix_Bid_Name__c}</td><!-- Updated Bid Name by Rama-->
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Internal_Target_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Bid_Deadline_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <td>{!singlerec.Phoenix_Approval_Status__c}</td>
                                            
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
    </div>
    <div class="slds-grid">
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Bids - Past Due</b> 
                  <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.BidsPastDue}" label="View All " target="_blank" />
                    </span></div>
                <aura:if isTrue="{!v.responseObj.bidsPastList.length > 0}">
                     <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">          
                                <thead>
                                    
                                    <tr>
                                       
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid No.</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer</th>                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid Description</th> <!-- Updated Bid Description by Rama-->
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Internal Date</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer Date</th>                                  
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Status</th>                                    
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.bidsPastList}" var="singlerec" >
                                        <tr>
                                            <td><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Name}</a></td>
                                            <td><a href="{!'/' + singlerec.Phoenix_Customer__c}" target="_blank">{!singlerec.Phoenix_Customer__r.Name}</a></td>
                                            <td>{!singlerec.Phoenix_Bid_Name__c}</td> <!-- Updated Bid Name by Rama-->
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Internal_Target_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Bid_Deadline_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <td>{!singlerec.Phoenix_Approval_Status__c}</td>
                                            
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;" >
                <div  Style="font-size:16px;" ><b>Bids - Awaiting Customer Response </b> 
                    <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.AwaitingCustomerResponse}" label="View All  " target="_blank" />
    			</span>
                    </div>
                
                <aura:if isTrue="{!v.responseObj.bidsCustomerUpdate.length > 0}">
                      <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">                                <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid No.</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer</th>                                         
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid Description</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Bid Sent to Customer Date</th>                                                                            
                                   <!-- <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Internal Date</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Customer Date</th> -->                                  
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Status</th>                                    
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.bidsCustomerUpdate}" var="singlerec" >
                                        <tr>
                                            <td><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Name}</a></td>
                                            <td><a href="{!'/' + singlerec.Phoenix_Customer__c}" target="_blank">{!singlerec.Phoenix_Customer__r.Name}</a></td>                                           
                                            <td>{!singlerec.Phoenix_Bid_Name__c}</td>
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Sent_to_Customer_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <!--<td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Internal_Target_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            <td> <p><lightning:formattedDateTime value="{!singlerec.Phoenix_Bid_Deadline_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>-->
                                            <td>{!singlerec.Phoenix_Approval_Status__c}</td>
                                            
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
       
        
    </div>
    <div class="slds-grid">
        
       <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Vision Reminders</b>
                <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.VisionAlerts}" label="View All " target="_blank" />
                    </span></div>
                <aura:if isTrue="{!v.responseObj.alertList.length > 0}">
                    
                  <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">
                                <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Name</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Type</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Due Date</th>                                  
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.alertList}" var="singlerec" >
                                        <tr>
                                            <td><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Name}</a></td>
                                            <td>{!singlerec.Vision_Alert_Type__c}</td>
                                            
                                            <td>  <p><lightning:formattedDateTime value="{!singlerec.Vision_Notification_Due_Date__c}" year="numeric" month="numeric" day="numeric"/></p></td>  
                                            
                                            
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Events Scheduled</b>
                <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.Events_Scheduled}" label="View All " target="_blank" />
                    </span></div>
                <aura:if isTrue="{!v.responseObj.eventList.length > 0}">
                      <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">
                                <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Task</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Type</th>
                                        <th class="slds-truncate slds-cell-wrap"   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Description</th>                                                                  
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Due Date</th>                                  
                                        
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.eventList}" var="singlerec" >
                                        <tr>
                                            <td><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Subject}</a></td>
                                            <td>{!singlerec.Type}</td>
                                            <td>{!singlerec.Description}</td>  
                                            <td><p><lightning:formattedDateTime value="{!singlerec.ActivityDate}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>
       
    </div>
        <div class="slds-grid">
        <div class="slds-col slds-size_6-of-12 ">
            <div style="padding-left:10px;padding-right:10px;">
                <div Style="font-size:16px;"><b>Recent Opportunities</b>
                <span style=" margin:2px; padding:2px;overflow: auto;float: right;">
                   <lightning:formattedUrl value="{!$Label.c.Opportunity_Viewall}" label="View All " target="_blank" />
                    </span></div>
                <aura:if isTrue="{!v.responseObj.oppList.length > 0}">
                       <div aura:id="mainDiv" style="max-height:430px;overflow:auto;margin-top:10px;border-radius: 0.25rem;border: 1px solid #cfcfcf;">
                    <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                        <table aura:id="LineTable" class="maintable fixedtable slds-table slds-no-row-hover slds-table_bordered slds-table_col-bordered slds-table--header-fixed slds-scrollable_y">
                             <thead>
                                    
                                    <tr>
                                        
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Opportunity Name</th>
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Account Name</th>                                    
                                        <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Stage</th>                                    
                                         <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Date of creation </th>                                    
                                         <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Closed Date</th>                                    
                                         <th class=""   style="font-weight:Bold;text-align:left;background-color:#6900EF;color:white;padding:5px;">Amount</th>                                    
                                    </tr> 
                                </thead>
                                <tbody>
                                    <aura:iteration items="{!v.responseObj.oppList}" var="singlerec" indexVar="sNo">
                                        <tr>
                                            <td style="text-align:left;padding-left:5px;"><a href="{!'/' + singlerec.Id}" target="_blank">{!singlerec.Name}</a></td>
                                            <td style="text-align:left;padding-left:5px;"><a href="{!'/' + singlerec.Account}" target="_blank">{!singlerec.Account.Name}</a></td>
                                            
                                            <td style="text-align:left;padding-left:5px;">{!singlerec.StageName}</td>
                                            <td style="text-align:right;padding-left:5px;"> <p><lightning:formattedDateTime value="{!singlerec.CreatedDate}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            
                                            <td style="text-align:right;padding-left:5px;"> <p><lightning:formattedDateTime value="{!singlerec.CloseDate}" year="numeric" month="numeric" day="numeric"/></p></td>
                                            
                                            <td style="text-align:right;padding-left:5px;"><lightning:formattedNumber value="{!singlerec.Vision_Opportunity_Value__c}" style="currency" currencyCode="USD"  minimumFractionDigits="0" maximumFractionDigits="0"></lightning:formattedNumber></td>
                                            
                                        </tr>
                                        
                                    </aura:iteration>
                                </tbody>
                            </table></div></div>
                    <aura:set attribute="else">
                        <lightning:card >
                            <center>
                                <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;background-color:light-grey;">
                                    <span class="slds-icon_container slds-m-right_x-small">
                                        <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                    </span>
                                    <h2>No records to display </h2>
                                </div>
                            </center>
                        </lightning:card>
                    </aura:set>
                </aura:if>
            </div>
        </div>    
    </div>
</aura:component>