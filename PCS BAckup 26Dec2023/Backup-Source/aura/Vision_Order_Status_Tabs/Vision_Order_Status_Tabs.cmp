<aura:component controller = "Vision_Order_Status" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,lightning:availableForFlowScreens" access="global" >
    <aura:attribute name="recordId" type = "Id"/>
    <aura:attribute name="isJobRunning" type="boolean" />
    <aura:handler name = "init" value ="{!this}" action = "{!c.doInit}"/>
    
    <aura:if isTrue="{!v.isJobRunning}">
        <div style="background: white; padding: 8px;">
            <b><center>The Data Update Job for Order Status is in Process. Please check after sometime for accurate results.</center></b>
        </div>
        <aura:set attribute="else">
            <div style="background: white; padding: 8px;">
                <lightning:tabset selectedTabId="one">
                    <lightning:tab label="Order Analysis" id="one">
                        <c:Vision_Order_Status_Cmp recordId="{!v.recordId}"/>
                    </lightning:tab>
                    <lightning:tab label="Delayed Orders" id="two">
                        <c:Vision_DelayedOrderStatusCmp recordId="{!v.recordId}"/>
                    </lightning:tab>
                    <!--<lightning:tab label="Initial Order Status" id="three">
                <c:Vision_InitialOrderStatusCmp recordId="{!v.recordId}"/>
            </lightning:tab>-->
                    <lightning:tab label="OTIF Orders" id="three">
                        <c:Vision_OTIFOrderCmp recordId="{!v.recordId}"/>
                    </lightning:tab>
                    <lightning:tab label="Cancelled Orders" id="four">
                        <c:Vision_CancelledOrdersCmp recordId="{!v.recordId}"/>
                    </lightning:tab>
                </lightning:tabset>    
            </div>
        </aura:set>
    </aura:if>
</aura:component>