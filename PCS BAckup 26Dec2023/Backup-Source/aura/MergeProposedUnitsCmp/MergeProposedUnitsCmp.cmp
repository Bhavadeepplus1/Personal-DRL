<aura:component controller="Vision_OpportunityCreator" implements="flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="dupList" type="List"/>
    <aura:attribute name="calcList" type="List"/>
    <aura:attribute name="isMergeComplete" type="boolean"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="AccTemplate" type="string"/>
    <aura:attribute name="isShowDirectUnits" type="boolean"/>
    <aura:attribute name="isShowInDirectUnits" type="boolean"/>
    <aura:attribute name="showMergePopup" type="boolean"/>
    <aura:attribute name="refreshScreen" type="boolean"/>
    <aura:attribute name="disableSaveButton" type="boolean" default="true"/>
    <aura:attribute name="showUploadedCols" type="boolean" default="true"/>
    
    <aura:attribute Name="VisionProposedVolume" type="String" default="0"/>
    <aura:attribute Name="ProposedDirectSellingUnits" type="String" default="0"/>
    <aura:attribute Name="ProposedIndirectSellingUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedOSUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedRADUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedWMTUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedBASEUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDSHUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedAutoSubUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedSmithDrugUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedAndaUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectAholdDelhaizeUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectGaintEagleUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedTotalRetailIndirectUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectESIUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectESIUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectKrogerUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectKrogerUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectRxOutreachUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectRxOutreachUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectSupervaluUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectSupervaluUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectCignaUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectCignaUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectCordantUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedDirectAccerodoUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectAccerodoUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedIndirectCordantUnits" type="String" default="0"/>
    <aura:attribute Name="VisionTotalProposedUnitsEU" type="String" default="0"/>
    <aura:attribute Name="VisionProposedValueEA" type="String" default="0"/>
    <aura:attribute Name="VisionProposedCVSDirectUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedCVSIndirectUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedCardinalUnits" type="String" default="0"/>
    <aura:attribute Name="VisionProposedMajorUnits" type="String" default="0"/>
    <aura:attribute Name="totalProposedUnits" type="String" default="0"/>
    
    
    <div style="padding:10px;padding-bottom:0px;">
        <table class="customtable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered slds-border_left slds-border_right" role="grid">
            <thead>
                <tr>
                    <th>
                        <aura:if isTrue="{!!v.showUploadedCols}">
                            <lightning:icon class="showBlack" size="x-small" iconName="utility:chevronright" 
                                            title="Show Uploaded Columns" onclick="{!c.showHideUploaded}" style="cursor:pointer;"/>
                            <aura:set attribute="else">
                                <lightning:icon class="showBlack" size="x-small" iconName="utility:chevronleft" 
                                                title="Hide Uploaded Columns" onclick="{!c.showHideUploaded}" style="cursor:pointer;"/>
                            </aura:set>
                        </aura:if>
                    </th>
                    <aura:if isTrue="{!v.showUploadedCols}">
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="NDC">NDC</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="SKU">SKU</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="GCN">GCN</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="GPI">GPI</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="GSN">GSN</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="Pack Size">PACK SIZE</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate slds-cell-wrap" title="Pack Size">STRENGTH</div>
                        </th>
                        <th scope="col" style="background-color: #6c3483;color: white">
                            <div class="slds-truncate" title="Product Description">PRODUCT DESCRIPTION
                            </div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate=='OTC Customer'}">
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed OS Units">PROPOSED SELLING UNITS</div>
                        </th>
                    </aura:if>
                    
                    <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed OS Units">PROPOSED OS UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed RAD Units">PROPOSED RAD UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed WMT Units">PROPOSED WMT UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT ESI UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT ESI UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT KROGER UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT KROGER UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT RX OUTREACH UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT RX OUTREACH UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT SUPERVALU UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT SUPERVALU UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT CIGNA UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT CIGNA UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT CORDANT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT CORDANT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT ACCERODO UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED INDIRECT ACCERODO UNITS</div>
                        </th>
                        
                        <th scope="col">
                            <div class="slds-truncate" title="OTHER DIRECT UNITS">OTHER DIRECT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="OTHER INDIRECT UNITS">OTHER INDIRECT UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED SMITH DRUG UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED ANDA UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT AHOLD/DELHAIZE UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DIRECT GAINT EAGLE UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED TOTAL RETAIL INDIRECT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Other DIRECT Units">OTHER DIRECT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Other INDIRECT Units">OTHER INDIRECT UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED BASE UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED DSH UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED AUTOSUB UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED CVS DIRECT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED CVS INDIRECT UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED CARDINAL UNITS</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate">PROPOSED MAJOR UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.isShowDirectUnits}">
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                        </th>
                    </aura:if>
                    <aura:if isTrue="{!v.isShowInDirectUnits}">
                        <th scope="col">
                            <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                        </th>
                    </aura:if>
                </tr>
            </thead>
            <tbody>
                <aura:iteration items="{!v.calcList}" var="prd" indexVar="ind">
                    <tr>
                        <td>
                            <lightning:input type="checkbox"  checked="{!prd.isSelected}"
                                             onchange="{!c.checkBoxChangeHandler}" variant="label-hidden"/>
                        </td>
                        <aura:if isTrue="{!v.showUploadedCols}">
                            <aura:if isTrue="{!prd.Vision_Is_NDC_Provided__c}">
                                <td><div class="slds-truncate" title="{!prd.NDC_11__c}">{!prd.NDC_11__c}</div> </td>
                                <aura:set attribute="else">
                                    <td></td> 
                                </aura:set> 
                            </aura:if>
                            <aura:if isTrue="{!prd.Vision_Is_SKU_Provided__c}">
                                <td><div class="slds-truncate" title="{!prd.SKU_Number__c}">{!prd.SKU_Number__c}</div></td>
                                <aura:set attribute="else"> 
                                    <td></td>
                                </aura:set>
                            </aura:if>
                            <aura:if isTrue="{!prd.Vision_Is_GCN_Provided__c}">
                                <td><div class="slds-truncate" title="{!prd.GCN_Generic_Code_Number__c}">{!prd.GCN_Generic_Code_Number__c}</div></td>
                                <aura:set attribute="else"> 
                                    <td></td>  
                                </aura:set>  
                            </aura:if>
                            <aura:if isTrue="{!prd.Vision_Is_GPI_Provided__c}">
                                <td><div class="slds-truncate" title="{!prd.GPI_Generic_Product_Identifier__c}">{!prd.GPI_Generic_Product_Identifier__c}</div></td>
                                <aura:set attribute="else">
                                    <td></td>  
                                </aura:set>
                            </aura:if>
                            <aura:if isTrue="{!prd.Vision_Is_GSN_Provided__c}">
                                <td><div class="slds-truncate" title="{!prd.GSN__c}">{!prd.GSN__c}</div></td>
                                <aura:set attribute="else">
                                    <td></td>  
                                </aura:set>
                            </aura:if>
                            <aura:if isTrue="{!prd.Vision_Is_Pack_Size_Provided__c	}">
                                <td><div class="slds-truncate" title="{!prd.Vision_Disc_Pkg_Size__c}"> {!prd.Vision_Disc_Pkg_Size__c}</div>   </td>
                                <aura:set attribute="else">
                                    <td></td>  
                                </aura:set>
                            </aura:if>
                            <aura:if isTrue="{!prd.Strength__c}">
                                <td><div class="slds-truncate" title="{!prd.Strength__c}"> {!prd.Strength__c}</div>   </td>
                                <aura:set attribute="else">
                                    <td></td>  
                                </aura:set>
                            </aura:if> 
                            <td>
                                <div class="slds-truncate" title="{!prd.Product_Description__c}">{!prd.Product_Description__c}</div>
                            </td> 
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_OS_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_OS_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_RAD_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_RAD_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_WMT_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_WMT_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_BASE_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DSH_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_AutoSub_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Smith_Drug_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Anda_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DirectAholdDelhaizeUnits__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Gaint_Eagle_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_TotalRetailIndirectUnits__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_ESI_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_ESI_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Kroger_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Kroger_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Rx_Outreach_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_IndirectRxOutreach_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Supervalu_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Supervalu_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Cigna_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Cigna_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Cordant_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Cordant_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Accerodo_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Accerodo_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Direct_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Indirect_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Cardinal_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Cardinal_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Major_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Major_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.isShowDirectUnits}">
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                        <aura:if isTrue="{!v.isShowInDirectUnits}">
                            <td>
                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                </div>
                            </td>
                        </aura:if>
                    </tr>
                </aura:iteration>
                <tr>
                    <td style="font-weight:bold;">Total Proposed Units</td>
                    <aura:if isTrue="{!v.showUploadedCols}"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedVolume}" minimumFractionDigits ="0" maximumFractionDigits ="0"/>
                            </div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedOSUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedRADUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedWMTUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedBASEUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDSHUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedAutoSubUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedSmithDrugUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedAndaUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectAholdDelhaizeUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectGaintEagleUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedTotalRetailIndirectUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedDirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedIndirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectESIUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectESIUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectKrogerUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectKrogerUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectRxOutreachUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectRxOutreachUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectSupervaluUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectSupervaluUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectCignaUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectCignaUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectCordantUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectCordantUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedDirectAccerodoUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedIndirectAccerodoUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedDirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedIndirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedCVSDirectUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedCVSIndirectUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedCardinalUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.VisionProposedMajorUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.isShowDirectUnits}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedDirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                    <aura:if isTrue="{!v.isShowInDirectUnits}">
                        <td>
                            <div class="slds-truncate slds-text-align_right">
                                <lightning:formattedNumber value="{!v.ProposedIndirectSellingUnits}" minimumFractionDigits ="0" maximumFractionDigits ="0"/></div>
                        </td>
                    </aura:if>
                </tr>
            </tbody>
        </table>
    </div>
    <div style="text-align:right;margin-top:10px;">
        <lightning:button label="Save and Match" onclick="{!c.saveAndMOveToMatch}" variant="brand" disabled="{!v.disableSaveButton}"/>
        <lightning:button label="Close" onclick="{!c.closePopup}" variant="neutral"/>
    </div>
</aura:component>