<!--
  @description       : 
  @author            : Surender Patel (Dhruvsoft)
  @group             : 
  @last modified on  : 29-05-2021
  @last modified by  : Surender Patel (Dhruvsoft)
  Modifications Log 
  Ver   Date         Author                       Modification
  1.0   29-05-2021   Surender Patel (Dhruvsoft)   Initial Version
-->
<aura:component controller="BidCloneExt"
    implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickActionWithOutHeader"
    access="global">

    <aura:attribute name="recordId" type="string" />
    <aura:attribute name="record" type="Object" />
    <aura:attribute name="simpleRecord" type="Object" />
    <aura:attribute name="recordError" type="Object" />
    <aura:attribute name="sObjectName" type="Object" />

    <aura:attribute name="isPopup" type="Boolean" default="false" />
    <aura:attribute name="errorMessage" type="string" />

    <aura:attribute name="DeadlineTimeZone" type="string" />
    <aura:attribute name="DeadlineTime" type="string" />

    <aura:attribute name="timeZoneMap" type="Map" />
    <aura:attribute name="deadLineTimeMap" type="Map" />


    <aura:attribute name="bidName" type="string" />
    <aura:attribute name="interTargetD" type="string" />
    <aura:attribute name="deadLineDate" type="string" />
    <aura:attribute name="deadLineTZone" type="string" />
    <aura:attribute name="deadLineTim" type="string" />
    <aura:attribute name="bidType" type="string" default="" />



    <aura:attribute name="wrap" type="Object" description="To hold all objects" />
    <aura:attribute name="selectedProductsIds" type="list" description="Selected Product details" default="[]" />

    <aura:attribute name="QLlist" type="list" description="All Product details" default="[]" />
    <aura:attribute name="QLlist1" type="list" description="All Product details" default="[]" />
    <aura:attribute name="modalProductList" type="Object[]"
        description="used to store the selected products to display in Modal popup" />
    <aura:attribute name="ProductList" type="Object[]"
        description="used to store the product list to display in table" />
    <aura:attribute name="ProductCopyList" type="Object[]"
        description="used to store the product list to display in table" />

    <aura:attribute name="Allproduct" type="Object[]"
        description="used to store the product list to display in table" />
    <aura:attribute name="allData" type="List" description="used to store the product list" />
    <aura:attribute name="searchText" type="String" />
    <aura:attribute name="currencyCode" type="String" default="$" />
    <aura:attribute name="searchFamily" type="String" />
    <aura:attribute name="selectedCount" type="integer" default="0" description="selected Records Count" />
    <aura:attribute name="showbutton" type="Boolean" default="true"
        description="disable the button when no records selected" />
    <aura:attribute name="search" type="Boolean" default="true" description="use for display search records" />
    <aura:attribute name="currentPageNumber" type="Integer" default="1" />
    <aura:attribute name="pageSize" type="Integer" default="100" />
    <aura:attribute name="totalPages" type="Integer" default="0" />
    <aura:attribute name="pageList" type="List" />
    <aura:attribute name="totalRecordsCount" type="Integer" default="0"
        description="display the total number of records" />
    <aura:attribute name="showProducts" type="Boolean" default="false" />
    <aura:attribute name="isQLlistempty" type="Boolean" default="false" />
    <aura:attribute name="noProducts" type="Boolean" default="false" />
    <aura:attribute name="noData" type="Boolean" default="false" />
    <aura:attribute name="isModalOpen" type="Boolean" default="false" />
    <aura:attribute name="showSelectedProducts" type="Boolean" default="false" />
    <aura:attribute name="showSpinnerSelProds" type="Boolean" default="false" />
     <aura:attribute name="showSpinnerSelProds1" type="Boolean" default="false" />
    <aura:attribute name="selectAll" type="Boolean" default="false" />
    <aura:attribute name="selectAllSCM" type="Boolean" default="false" />
    <aura:attribute name="arrowDirection" type="string" default="arrowup"
        description="Use for change arrow sign direction on header based on click" />
    <aura:attribute name="isAsc" type="boolean" default="true"
        description="boolean flag for pass sorting condition to apex class" />
    <aura:attribute name="selectedTabsoft" type="string" default="ProductName"
        description="Use for show/hide arraow sign on header based on conditions" />
    <aura:attribute name="RxSrxList" type="List" />
    <aura:attribute name="isRxChecked" type="boolean" default="false" />
    <aura:attribute name="isSRxChecked" type="boolean" default="false" />
    <aura:attribute name="isOtcChecked" type="boolean" default="false" />
    <aura:attribute name="lstSelectedPDRecords" type="sObject[]" default="[]"
        description="Use,for store SELECTED sObject Records" />
    <aura:attribute name="listOfSearchPDRecords" type="List"
        description="Use,for store the list of search records which returns from apex class" />
    <aura:attribute name="defaultlistOfProductDirectors" type="List" />
    <aura:attribute name="MessagePD" type="String" default="" />
    <aura:attribute name="selectedProductsCount" type="integer" default="0"
        description="Already selected Product Records Count" />
    <aura:attribute name="lstDisablePDRecords" type="sObject[]" default="[]"
        description="Use,for store SELECTED sObject Records to avoid duplicates" />
    <aura:attribute name="SearchKeyWordPD" type="string" />


    <aura:handler name="PDSelectedRecordEvent" event="c:Phoenix_AddProductDirectorSearchEvt"
        action="{!c.handleComponentEventProdDir}" />

    <lightning:navigation aura:id="navigationService" />

    <aura:html tag="style">

        .slds-button slds-button_brand{
        padding: initial; !important;
        }
        .slds-modal__content
        {
        overflow-x:auto;
        background-color: white !important;
        box-shadow: none !important;
        }
        .slds-modal__close {
        display:none !important;
        }
        .slds-button__icon slds-button__icon_left{
        margin-left: 6px; !important;
        }

        .slds-modal__content slds-p-around_large{
        width:100%; !important;
        }

        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }
        .slds-modal__content{
        //overflow-y:hidden !important;
        height:unset !important;
        max-height:unset !important;
        }

        .slds-modal__container{
        // overflow-y:scroll !important;
        max-width: 95rem !important;
        width:95% !important;
        }
    </aura:html>


    <force:recordData aura:id="record" layoutType="FULL"
        fields="Phoenix_Approval_Status__c,Phoenix_Customer_Bid_Deadline_Time_zone__c,Phoenix_Customer_Bid_Deadline_Time__c,Phoenix_Bid_Deadline_Date__c,Phoenix_Customer__c,Phoenix_Customer_Type__c,Phoenix_Comments__c,Phoenix_Reference_Contracts__c"
        recordId="{!v.recordId}" targetError="{!v.recordError}" targetRecord="{!v.record}"
        targetFields="{!v.simpleRecord}" mode="EDIT" recordUpdated="{!c.doInit}" />


    <!--Modal Header-->
    <div class="modal-header slds-modal__header slds-size_1-of-1" style="position: fixed;z-index: 1;">
        <h4 class="title slds-text-heading--medium">Bid Clone
            <span style="float:right">
                <lightning:buttonIcon iconName="utility:close" alternativeText="Close" class="customCloseIcon"
                    onclick="{!c.closeModal}" />
            </span>
        </h4>
    </div>
    <!--End Modal Header-->

    <!--Modal Body-->
    <div
        class="slds-modal__content slds-p-around--x-small slds-align_absolute-center slds-size_1-of-1 slds-is-relative">
        <form class="slds-form--stacked">
            <aura:if isTrue="{!v.isPopup}">

                <aura:if isTrue="{!v.showSpinnerSelProds}">
                    <lightning:spinner variant="brand" class="spinColor" size="large" />
                </aura:if>

                <aura:if isTrue="{!v.showProducts}">

                    <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="BidDetails">
                        <lightning:accordionSection name="BidDetails" label="Bid Details" class="slds-card">
                            <lightning:layout multipleRows="true">
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12"
                                    largeDeviceSize="6" padding="around-small">
                                    <lightning:input aura:id="RebidName" value="{!v.simpleRecord.Phoenix_Bid_Name__c}"
                                        label="Rebid Name" required="true" />
                                </lightning:layoutItem>
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12"
                                    largeDeviceSize="6" padding="around-small">
                                    <lightning:input type="date" aura:id="interTargetDate" name="interTargetDate"
                                        label="Internal Target Date"
                                        value="{!v.simpleRecord.Phoenix_Internal_Target_Date__c}" required="true" />
                                </lightning:layoutItem>
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12"
                                    largeDeviceSize="4" padding="around-small">
                                    <lightning:input type="date" aura:id="CBDLD" name="customerBidDeadLine"
                                        label="Customer Bid Deadline Date"
                                        value="{!v.simpleRecord.Phoenix_Bid_Deadline_Date__c }" />
                                </lightning:layoutItem>
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12"
                                    largeDeviceSize="4" padding="around-small">
                                    <lightning:select aura:id="DeadLineTZ"
                                        value="{!v.simpleRecord.Phoenix_Customer_Bid_Deadline_Time_zone__c}"
                                        name="DeadlineTimeZone" label="Customer Bid Deadline Time Zone">
                                        <aura:iteration items="{!v.timeZoneMap}" var="tz" indexVar="key">
                                            <option text="{!tz.value}" value="{!tz.key}" />
                                        </aura:iteration>
                                    </lightning:select>
                                </lightning:layoutItem>
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12"
                                    largeDeviceSize="4" padding="around-small">
                                    <lightning:select aura:id="DeadLineTime" name="DeadlineTime"
                                        label="Customer Bid Deadline Time"
                                        value="{!v.simpleRecord.Phoenix_Customer_Bid_Deadline_Time__c}">
                                        <aura:iteration items="{!v.deadLineTimeMap}" var="dt" indexVar="key">
                                            <option text="{!dt.value}" value="{!dt.key}" />
                                        </aura:iteration>
                                    </lightning:select>
                                </lightning:layoutItem>
                            </lightning:layout>
                        </lightning:accordionSection>
                    </lightning:accordion>
                    <br />
                    <aura:if isTrue="{!v.isModalOpen}">
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">

                            <div class="slds-modal__container" style="width:60% ! important;">

                                <!-- Modal/Popup Box Header Starts here-->
                                <header class="slds-modal__header">
                                    <lightning:buttonIcon iconName="utility:close" onclick="{!c.closePopup}"
                                        alternativeText="close" variant="bare-inverse" class="slds-modal__close" />
                                    <aura:if isTrue="{! not(empty(v.modalProductList))}">
                                        <h2 class="slds-text-heading_medium slds-hyphenate"><b>Selected Line Items</b>
                                        </h2>
                                    </aura:if>
                                </header>
                                <!--Modal/Popup Box Body Starts here-->
                                <!--div class="slds-scrollable" style="height: 100rem; width: 46rem"-->
                                <div class="slds-modal__content slds-p-around_medium">

                                    <aura:if isTrue="{! not(empty(v.modalProductList))}">
                                        <table
                                            class="slds-table slds-table_cell_buffered slds-max-medium-table_stacked-horizontal slds-table_bordered"
                                            style="border:1px solid #eaeaea;">
                                            <thead>

                                                <tr class="slds-text-title">

                                                    <th scope="col" class="slds-cell-wrap " onclick="{!c.sortProductNameSelected}">
                                                        <div class="slds-truncate" title="Product Name">
                                                            <a href="javascript:void(0);"
                                                               class="slds-th__action slds-text-link--reset">
                                                                <span
                                                                      class="slds-assistive-text">Sort</span>
                                                                <span class="slds-truncate" title="Product Name">
                                                                    Product Name
                                                                </span>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductName') }">
                                                                    &nbsp; &#9660; </aura:if>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductName') }">
                                                                    &nbsp; &#9650; </aura:if>
                                                            </a>
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-cell-wrap " onclick="{!c.sortProductCodeSelected}">
                                                        <div class="slds-truncate" title="Product Code">
                                                            <a href="javascript:void(0);"
                                                               class="slds-th__action slds-text-link--reset">
                                                                <span
                                                                      class="slds-assistive-text">Sort</span>
                                                                <span class="slds-truncate" title="Product Code">
                                                                    Product Code
                                                                </span>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductCode') }">
                                                                    &nbsp; &#9660; </aura:if>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductCode') }">
                                                                    &nbsp; &#9650; </aura:if>
                                                            </a>
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-cell-wrap " onclick="{!c.sortNDC11Selected}">
                                                        <div class="slds-truncate" title=" NDC - 11 ">
                                                            <a href="javascript:void(0);"
                                                               class="slds-th__action slds-text-link--reset">
                                                                <span
                                                                      class="slds-assistive-text">Sort</span>
                                                                <span class="slds-truncate" title="NDC - 11">
                                                                    NDC - 11
                                                                </span>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'NDC11') }">
                                                                    &nbsp; &#9660; </aura:if>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'NDC11') }">
                                                                    &nbsp; &#9650; </aura:if>
                                                            </a>
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-cell-wrap " onclick="{!c.sortProductFamilySelected}">
                                                        <div class="slds-truncate" title="Product Name">
                                                            <a href="javascript:void(0);"
                                                               class="slds-th__action slds-text-link--reset">
                                                                <span
                                                                      class="slds-assistive-text">Sort</span>
                                                                <span class="slds-truncate"
                                                                      title="Name">Product Family</span>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductFamily') }">
                                                                    &nbsp; &#9660; </aura:if>
                                                                <aura:if
                                                                         isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductFamily') }">
                                                                    &nbsp; &#9650; </aura:if>
                                                            </a>
                                                        </div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <aura:iteration items="{!v.modalProductList}" var="prodItem"
                                                    indexVar="itemIndex">
                                                    <tr>

                                                        <td class="slds-cell-wrap" scope="col">
                                                            <a href="{!'/'+prodItem.qlItem.Phoenix_Product__c}"
                                                                target="_blank">{!prodItem.qlItem.Phoenix_Product__r.Name}</a>
                                                        </td>
                                                        <td class="slds-cell-wrap " scope="col">
                                                            {!prodItem.qlItem.Phoenix_Product_Code1__c}
                                                        </td>
                                                        <td class="slds-cell-wrap " scope="col">
                                                            {!prodItem.qlItem.Phoenix_NDC__c}
                                                        </td>
                                                        <td class="slds-cell-wrap " scope="col">
                                                            <a href="{!'/'+prodItem.qlItem.Product_Family__c}"
                                                                target="_blank">{!prodItem.qlItem.Product_Family__r.Name}</a>
                                                        </td>
                                                    </tr>
                                                </aura:iteration>
                                            </tbody>
                                        </table>
                                        <aura:set attribute="else">
                                            <p style="text-align:center">No products to display</p>
                                        </aura:set>
                                    </aura:if>
                                </div>

                                <footer class="slds-modal__footer">
                                    <lightning:button variant="neutral" label="Cancel" title="Cancel"
                                        onclick="{! c.closePopup }" />

                                </footer>
                            </div>

                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>

                    </aura:if>

                    <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="BLI">
                        <lightning:accordionSection name="BLI" label="Bid Line Items" class="slds-card">

                            <div class="slds-modal__container"
                                style="width:100% !important;padding-bottom:0px;padding-top: 0px;padding-left:0px;padding-right:0px;">


                                <div class="slds-grid slds-wrap">
                                    <div class="slds-col  slds-grid slds-size_1-of-1 slds-m-left_small">


                                        <div class="slds-col slds-size_7-of-12 slds-m-top_large">
                                            <span onkeypress="{!c.keyCheck}">
                                                <lightning:input value="{!v.searchText}" type="search"
                                                    variant="label-hidden"
                                                    placeholder="Search Products with Name,Product Code,Product Family,NDC,NDC with dashes,Brand Name,UPC.."
                                                    aura:id="SearchBox" label="Product Name" onchange="{!c.onsearch}" />
                                                </span>
                                        </div>


                                        <div class="slds-col slds-size_3-of-12 slds-m-top_large sapdata"
                                            style="padding-left:10px;">

                                            <div onmouseleave="{!c.onblurProDir}" aura:id="searchResPD"
                                                class="slds-form-element slds-lookup slds-is-close">
                                                <div class="slds-form-element__control">
                                                    <div class="slds-input-has-icon slds-input-has-icon--right">
                                                        <div aura:id="lookup-pill-PD" class="slds-pill-container">
                                                            <div aura:id="lookupFieldPD"
                                                                class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                                                                style="width: 100%;">

                                                                <!-- <span onkeypress="{!c.keyCheck}" >-->
                                                                <lightning:input value="{!v.SearchKeyWordPD}"
                                                                    type="search" variant="label-hidden"
                                                                    placeholder="Search Product Directors .."
                                                                    label="Product Family"
                                                                    onchange="{!c.keyPressControllerProdDir}" />
                                                                <!--</span>-->

                                                            </div>
                                                            <aura:iteration items="{!v.lstSelectedPDRecords}" var="sr">
                                                                <lightning:pill class="slds-m-around_xx-small"
                                                                    label="{!sr}" name="{!sr}"
                                                                    onremove="{! c.clearProdDir }">
                                                                </lightning:pill>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ul style="min-height:30px;margin-top:0px !important"
                                                    class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid slds-lookup__menu slds"
                                                    role="listbox">
                                                    <lightning:spinner class="slds-hide" variant="brand" size="small"
                                                        aura:id="mySpinner" />
                                                    <center> {!v.MessagePD}</center>
                                                    <aura:iteration items="{!v.listOfSearchPDRecords}" var="singleRec">
                                                        <c:Phoenix_AddProductDirectorSearchCmp oRecord="{!singleRec}" />
                                                    </aura:iteration>
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="slds-col slds-size_1-of-12 slds-m-top_large slds-m-left_small"
                                            style="width: 7rem !important;">
                                            <span>
                                                <lightning:button onclick="{!c.onsearchFamily}" variant="brand"
                                                    label="Search" iconName="utility:search" />
                                            </span>

                                        </div>
                                    </div>
                                </div>

                                <div class="slds-grid slds-wrap">
                                    <div class="slds-col  slds-grid slds-size_1-of-1 slds-m-left_small">
                                        <div class="slds-col slds-size_2-of-12 slds-m-top_medium sapdata"
                                            style="margin-bottom: 2px">
                                            <span class="slds-badge slds-badge_lightest slds-m-bottom_xx-small"
                                                style="display:inline-block;">
                                                Selected Products : {!v.selectedCount}
                                            </span>
                                        </div>

                                        <div class="slds-col slds-size_3-of-12 slds-m-top_medium sapdata"
                                            style="margin-bottom: 2px">
                                            <a onclick="{!c.showSelectedproducts}"><b>View Selected Products</b></a>
                                        </div>

                                        <div class="slds-col slds-size_1-of-12 slds-m-top_medium">
                                            <lightning:input aura:id="RX" type="checkbox" label="Rx"
                                                onchange="{!c.searchSrxRxOttc}" checked="{!v.isRxChecked}" />
                                        </div>
                                        <div class="slds-col slds-size_1-of-12 slds-m-top_medium">
                                            <lightning:input aura:id="SRX" type="checkbox" label="SRx"
                                                onchange="{!c.searchSrxRxOttc}" checked="{!v.isSRxChecked}" />
                                        </div>
                                        <div class="slds-col slds-size_1-of-12 slds-m-top_medium">
                                            <lightning:input aura:id="OTC" type="checkbox" label="OTC"
                                                onchange="{!c.searchSrxRxOttc}" checked="{!v.isOtcChecked}" />
                                        </div>

                                    </div>
                                </div>

                                <aura:if isTrue="{!v.noProducts}">
                                    <div class="matchPanelError" tabindex="0" role="alert"
                                        style="color:#c23934;text-align:center;">
                                        <span>No items to display</span>
                                    </div>
                                </aura:if>

                                <aura:if isTrue="{!v.showProducts}">
                                    <div id="myDIV"
                                        class="modal-body scrollable slds-modal__content slds-p-around--medium"
                                        data-scoped-scroll="true" style="background-color:#f3f2f2;padding:0px;">
                                        <div>
                                            <!--  <aura:if isTrue="{!v.showSpinnerSelProds}">
                                                <lightning:spinner variant="brand" class="spinColor" size="large" />
                                            </aura:if>-->

                                            <div class="slds-col  slds-size_1-of-1 slds-medium-size_6-of-6 slds-large-size_12-of-12 slds-p-top_large"
                                                style="padding:0px;">

                                                <aura:if isTrue="{!v.noData}">
                                                    <div class="matchPanelError" tabindex="0" role="alert"
                                                        style="color:#c23934;text-align:center;">
                                                        <span>No search results found</span>
                                                    </div>
                                                </aura:if>



                                                <aura:if isTrue="{!not(empty(v.ProductList))}">
                                                    <div id="productDiv"
                                                        class="{! 'slds-m-right_small slds-m-left_small' + ' ' +  (v.ProductList.length>5 ? 'heightClass' : 'noheightClass' )}">
                                                        <table
                                                            class=" maintable slds-table slds-table_cell_buffered slds-max-medium-table_stacked-horizontal slds-table_bordered"
                                                            style="border:1px solid #eaeaea;padding-left: 0px">
                                                            <thead>

                                                                <tr class="slds-text-title">
                                                                    <th scope="row" style="height: 29px;width: 57px;">
                                                                        <lightning:input type="checkbox"
                                                                            class="slds-checkbox" name=""
                                                                            checked="{!v.selectAll}" aura:id="checkbox"
                                                                            onchange="{!c.selectAllCheckbox}"
                                                                            style="margin-left: 8px;padding-bottom:6px;" />
                                                                    </th>

                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortProductName}">

                                                                        <div class="slds-truncate" title="Product Name">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">Product Name</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductName') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductName') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>
                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortProductCode}">
                                                                        <div class="slds-truncate" title="Product Code">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">Product Code</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductCode') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductCode') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>

                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortNDC11}">
                                                                        <div class="slds-truncate" title=" NDC - 11 ">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name"> NDC - 11</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'NDC11') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'NDC11') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>
                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortProductFamily}">
                                                                        <div class="slds-truncate"
                                                                            title="Product Family">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">Product Family</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductFamily') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductFamily') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>

                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortPackSize}">
                                                                        <div class="slds-truncate" title="Pack Size">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">Pack Size</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'PackSize') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'PackSize') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>
                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortWAC}">
                                                                        <div class="slds-truncate" title="WAC">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">WAC</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'WAC') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'WAC') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>
                                                                    <th scope="row" class="slds-cell-wrap "
                                                                        onclick="{!c.sortProductDirector}">
                                                                        <div class="slds-truncate"
                                                                            title="Product Director">
                                                                            <a href="javascript:void(0);"
                                                                                class="slds-th__action slds-text-link--reset">
                                                                                <span
                                                                                    class="slds-assistive-text">Sort</span>
                                                                                <span class="slds-truncate"
                                                                                    title="Name">Product Director</span>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection == 'arrowdown', v.selectedTabsoft == 'ProductDirector') }">
                                                                                    &nbsp; &#9660; </aura:if>
                                                                                <aura:if
                                                                                    isTrue="{! and(v.arrowDirection != 'arrowdown', v.selectedTabsoft == 'ProductDirector') }">
                                                                                    &nbsp; &#9650; </aura:if>
                                                                            </a>
                                                                        </div>
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <aura:iteration items="{!v.ProductList}" var="prodItem"
                                                                    indexVar="itemIndex">
                                                                    <tr class="slds-text-title">
                                                                        <td class="slds-cell-wrap" scope="row"
                                                                            style="margin-left: 5px;">
                                                                            <lightning:input type="checkbox"
                                                                                class="slds-checkbox"
                                                                                name="{!prodItem.qlItem.Id}"
                                                                                checked="{!prodItem.isSelected}"
                                                                                aura:id="checkbox"
                                                                                onchange="{!c.checkBoxChangeHandler}" />
                                                                        </td>

                                                                        <td class="slds-cell-wrap" scope="row">
                                                                            <a href="{!'/'+prodItem.qlItem.Phoenix_Product__c}"
                                                                                target="_blank">{!prodItem.qlItem.Phoenix_Product__r.Name}</a>
                                                                        </td>
                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            {!prodItem.qlItem.Phoenix_Product_Code1__c}
                                                                        </td>
                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            {!prodItem.qlItem.Phoenix_NDC__c}
                                                                        </td>
                                                                        <!--<td class="slds-cell-wrap " scope="row">
                                                        {!prodItem.prdlist.Phoenix_UPC_Universal_Product_Code__c}
                                                    </td>
                                                    <td class="slds-cell-wrap " scope="row">
                                                        {!prodItem.prdlist.Phoenix_GPI_Generic_Product_Identifier__c}
                                                    </td>
                                                    <td class="slds-cell-wrap " scope="row">
                                                        {!prodItem.prdlist.Phoenix_GCN_Generic_Code_Number__c}
                                                    </td>-->
                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            <a href="{!'/'+prodItem.qlItem.Product_Family__c}"
                                                                                target="_blank">{!prodItem.qlItem.Product_Family__r.Name}</a>
                                                                        </td>
                                                                        <!--<td class="slds-cell-wrap " scope="row">
                                                        {!prodItem.prdlist.Phoenix_Strength__c}
                                                    </td>-->
                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            {!prodItem.qlItem.Phoenix_Pkg_Size1__c}
                                                                        </td>
                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            <lightning:formattedNumber
                                                                                value="{!prodItem.qlItem.Phoenix_WAC1__c}"
                                                                                style="currency" currencyCode="USD">
                                                                            </lightning:formattedNumber>

                                                                        </td>

                                                                        <td class="slds-cell-wrap " scope="row">
                                                                            {!prodItem.qlItem.Phoenix_Product_Director1__c}
                                                                        </td>
                                                                        <!-- <td class="slds-cell-wrap " scope="row">
                                                        {!prodItem.prdlist.Phoenix_Compare_to_Brand_Name__c}
                                                    </td>
                                                    <td class="slds-cell-wrap " scope="row">
                                                        <lightning:formattedDateTime value="{!prodItem.prdlist.Phoenix_Date_of_Discontinuation__c}"/>
                                                        
                                                    </td>-->

                                                                    </tr>
                                                                </aura:iteration>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!v.noData==false}">
                                                            <div class="matchPanelError" tabindex="0" role="alert"
                                                                style="color:#c23934;text-align:center;">
                                                                <span>No Products to display</span>
                                                            </div>
                                                        </aura:if>
                                                    </aura:set>
                                                </aura:if>
                                            </div>
                                        </div>
                                    </div>


                                </aura:if>
                            </div>
                        </lightning:accordionSection>
                    </lightning:accordion>

                    <!--<aura:set attribute="else">
                        <aura:if isTrue="{!v.showSelectedProducts==false}">
                            <div><br/>
                                <center><h2 style="font-weight:bold;font-size:18px;">There are no Line Items</h2></center> <br/>
                            </div> 
                            
                        </aura:if>
                    </aura:set>-->
                </aura:if>



                <aura:if isTrue="{!v.showSelectedProducts}">
                  

                    <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="SelectedBIDLI">
                        <lightning:accordionSection name="SelectedBIDLI" label="Selected Bid Line Items"
                            class="slds-card accrodincls">
                            <br />
                            <div class="slds-modal__container"
                                style="max-width: 100rem !important;width: 100% !important;padding-top: 10px;padding: 0% 0%;">

                                <div id="MainDiv1"
                                    class="modal-body scrollable slds-modal__content slds-p-around--medium"
                                    data-scoped-scroll="true" style="background-color:#f3f2f2;padding:0px;">


                                    <!--<div class="slds-col  slds-size_1-of-1 slds-medium-size_6-of-6 slds-large-size_12-of-12 slds-p-top_large" style="padding-top:3px;width:100%">-->
                                    <aura:if isTrue="{!not(empty(v.QLlist))}">
                                          <aura:if isTrue="{!v.showSpinnerSelProds1}">
                    <lightning:spinner variant="brand" class="spinColor" size="large" />
                </aura:if>
                                        <div style="height:275px;">
                                            <table
                                                class="customtable slds-table slds-table_cell_buffered slds-max-medium-table_stacked-horizontal slds-table_bordered"
                                                style="border:1px solid #eaeaea;padding-left: 0px">
                                                <thead>

                                                    <tr class="slds-text-title">

                                                        <aura:if
                                                            isTrue="{! or(v.bidType=='RFP Bids',v.bidType=='Product Addition')}">

                                                            <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                                <div class="slds-truncate" title="SCM Review">

                                                                    <ui:inputCheckbox class="myCheckbox"
                                                                        label="SCM Review" labelClass="checkBoxLabel"
                                                                        value="{!v.selectAllSCM}" aura:id="SCMcheckbox"
                                                                        change="{!c.selectAllSCMCheckbox}" />



                                                                </div>
                                                            </th>
                                                        </aura:if>
                                                            <aura:if
                                                            isTrue="{! or(v.bidType=='Good Dated OTB',v.bidType=='Short Dated OTB')}">

                                                            <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                                <div class="slds-truncate" title="SCM Review">

                                                                    <ui:inputCheckbox class="myCheckbox"
                                                                        label="SCM Review" labelClass="checkBoxLabel"
                                                                        value="{!v.selectAllSCM}" aura:id="SCMcheckbox"
                                                                        change="{!c.selectAllSCMCheckbox}" />



                                                                </div>
                                                            </th>
                                                        </aura:if>

                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="Product Name">
                                                                Product Name
                                                            </div>
                                                        </th>
                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="Product Code">
                                                                Product Code
                                                            </div>
                                                        </th>

                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="NDC - 11">
                                                                NDC - 11
                                                            </div>
                                                        </th>
                                                        <!--<th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="UPC">
                                            UPC
                                        </div>
                                    </th>
                                    <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="GPI">
                                            GPI
                                        </div>
                                    </th>
                                    <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="GCN">
                                            GCN
                                        </div>
                                    </th>-->

                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="Product Family">
                                                                Product Family
                                                            </div>
                                                        </th>
                                                        <!--<th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="Strength">
                                            Strength
                                        </div>
                                    </th>-->

                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="Pack Size">
                                                                Pack Size
                                                            </div>
                                                        </th>

                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="WAC">
                                                                WAC
                                                            </div>
                                                        </th>
                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="Product Director">
                                                                Product Director
                                                            </div>
                                                        </th>

                                                        <!--<th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="Brand Name (Compare To)">
                                            Brand Name
                                        </div>	
                                    </th>
                                    <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                        <div class="slds-truncate" title="Date of Discontinuation">
                                            Date of Discontinuation 
                                        </div>	
                                    </th>-->
                                                        <th scope="col" class="slds-cell-wrap slds-text-align_left">
                                                            <div class="slds-truncate" title="delete">

                                                            </div>
                                                        </th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.QLlist}" var="prodItem"
                                                        indexVar="itemIndex">
                                                        <tr class="slds-text-title">

                                                            <aura:if
                                                                isTrue="{! or(v.bidType=='RFP Bids',v.bidType=='Product Addition')}">
                                                                <td class="slds-cell-wrap " scope="row">

                                                                    <ui:inputCheckbox
                                                                        value="{!prodItem.qlItem.Phoenix_SCM_Review__c}"
                                                                        change="{!c.checkSCMReview}" />
                                                                    <!-- <lightning:input type="checkbox" name="{!prodItem.qlItem.Id}" value="{!prodItem.qlItem.Phoenix_SCM_Review__c}"  onchange="{!c.checkSCMReview}" />-->

                                                                </td>
                                                            </aura:if>
                                                              <aura:if
                                                            isTrue="{! or(v.bidType=='Good Dated OTB',v.bidType=='Short Dated OTB')}">

                                                                <td class="slds-cell-wrap " scope="row">

                                                                    <ui:inputCheckbox
                                                                        value="{!prodItem.qlItem.Phoenix_SCM_Review__c}"
                                                                        change="{!c.checkSCMReview}" />
                                                                    <!-- <lightning:input type="checkbox" name="{!prodItem.qlItem.Id}" value="{!prodItem.qlItem.Phoenix_SCM_Review__c}"  onchange="{!c.checkSCMReview}" />-->

                                                                </td>
                                                            </aura:if>


                                                            <td class="slds-cell-wrap" scope="row">
                                                                <a href="{!'/'+prodItem.qlItem.Phoenix_Product__c}"
                                                                    target="_blank">{!prodItem.qlItem.Phoenix_Product__r.Name}</a>
                                                            </td>
                                                            <td class="slds-cell-wrap " scope="row">
                                                                {!prodItem.qlItem.Phoenix_Product_Code1__c}
                                                            </td>
                                                            <td class="slds-cell-wrap " scope="row">
                                                                {!prodItem.qlItem.Phoenix_NDC__c}
                                                            </td>
                                                            <!--<td class="slds-cell-wrap " scope="row">
                                            {!prodItem.prdlist.Phoenix_UPC_Universal_Product_Code__c}
                                        </td>
                                        <td class="slds-cell-wrap " scope="row">
                                            {!prodItem.prdlist.Phoenix_GPI_Generic_Product_Identifier__c}
                                        </td>
                                        <td class="slds-cell-wrap " scope="row">
                                            {!prodItem.prdlist.Phoenix_GCN_Generic_Code_Number__c}
                                        </td>-->
                                                            <td class="slds-cell-wrap " scope="row">
                                                                <a href="{!'/'+prodItem.qlItem.Product_Family__c}"
                                                                   target="_blank">{!prodItem.qlItem.Product_Family__r.Name}</a>
                                                            </td>
                                                            <!-- <td class="slds-cell-wrap " scope="row">
                                            {!prodItem.qlItem.Phoenix_Strength__c}
                                        </td>-->
                                                            <td class="slds-cell-wrap " scope="row">
                                                                {!prodItem.qlItem.Phoenix_Pkg_Size1__c}
                                                            </td>
                                                            <td class="slds-cell-wrap " scope="row">
                                                                <lightning:formattedNumber
                                                                    value="{!prodItem.qlItem.Phoenix_WAC1__c}"
                                                                    style="currency" currencyCode="USD">
                                                                </lightning:formattedNumber>
                                                            </td>

                                                            <td class="slds-cell-wrap " scope="row">
                                                                {!prodItem.qlItem.Phoenix_Product_Director1__c}
                                                            </td>
                                                            <!--<td class="slds-cell-wrap " scope="row">
                                            {!prodItem.prdlist.Phoenix_Compare_to_Brand_Name__c}
                                        </td>
                                        <td class="slds-cell-wrap " scope="row">
                                            {!prodItem.prdlist.Phoenix_Date_of_Discontinuation__c}
                                        </td>-->

                                                            <td class="slds-cell-wrap" scope="row"
                                                                title="Delete Line Item"
                                                                style="padding-left: 0px;padding-right: 0px;">



                                                                <lightning:button class="customBIcon"
                                                                    iconName="action:delete" iconPosition="left"
                                                                    onclick="{!c.removeDeletedRow }"
                                                                    name="{!prodItem.qlItem.Id}" />

                                                            </td>



                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                        </div>
                                    </aura:if>
                                    <aura:if isTrue="{!v.isQLlistempty}">
                                        <div style="text-align:center;font-size:14px;"><b>Please Add Products</b></div>
                                    </aura:if>

                                </div>


                            </div>
                        </lightning:accordionSection>
                    </lightning:accordion>

                </aura:if>

                <aura:set attribute="else">
                    <br />

                    <center>
                        <h3 style="color:red;font-weight:bold;font-size:18px;">{!v.errorMessage}</h3>
                    </center>
                    <br />

                </aura:set>

            </aura:if>
        </form>
    </div>
    <!--End of Modal Body-->


    <!--Modal Footer
<div class="modal-footer slds-modal__footer slds-size_1-of-1">

-->
    <div class="modal-footer slds-modal__footer slds-size_1-of-1">


        <aura:if isTrue="{!v.showProducts}">
            <aura:if isTrue="{!not(empty(v.ProductList))}">
                <lightning:layout multipleRows="true" class="slds-grid slds-gutters">
                    <lightning:layoutItem flexibility="auto"></lightning:layoutItem>
                    <lightning:layoutItem flexibility="auto">
                        <div class="slds-float_right">
                            <lightning:button label="First" iconName="utility:left" iconPosition="left"
                                onclick="{!c.onFirst}" disabled="{! v.currentPageNumber == 1}" />
                            <lightning:button iconName="utility:chevronleft" iconPosition="left" onclick="{!c.onPrev}"
                                disabled="{! v.currentPageNumber == 1}" />
                            <span class="slds-p-horizontal_x-small">
                                <a onclick="{!c.processMe}" name="1"
                                    class="{! (v.currentPageNumber == 1) ? 'selected' : ''}">1</a>
                            </span>
                            <span class="slds-p-horizontal_xxx-small">
                                <a>...</a>
                            </span>
                            <aura:iteration items="{!v.pageList}" var="item">
                                <span class="slds-p-horizontal_x-small">
                                    <a onclick="{!c.processMe}" name="{!item}"
                                        class="{! (v.currentPageNumber == item) ? 'selected' : ''}">{!item}</a>
                                </span>
                            </aura:iteration>
                            <span class="slds-p-horizontal_xxx-small">
                                <a>...</a>
                            </span>
                            <span class="slds-p-horizontal_x-small">
                                <a onclick="{!c.processMe}" name="{!v.totalPages}"
                                    class="{! (v.currentPageNumber == v.totalPages) ? 'selected' : ''}">{!v.totalPages}</a>
                            </span>
                            <lightning:button iconName="utility:chevronright" iconPosition="right"
                                disabled="{! v.currentPageNumber == v.totalPages}" onclick="{!c.onNext}" />
                            <lightning:button label="Last" iconName="utility:right" iconPosition="right"
                                disabled="{! v.currentPageNumber == v.totalPages}" onclick="{!c.onLast}" />
                        </div>
                    </lightning:layoutItem>
                    <lightning:layoutItem flexibility="auto">
                        <div class="slds-float_right">

                            <lightning:button variant="neutral" label="Cancel" onclick="{!c.closeModal}" />

                            <lightning:button variant="brand" label="Next" disabled="{!v.showbutton}"
                                onclick="{!c.processProducts}" />
                        </div>
                    </lightning:layoutItem>

                </lightning:layout>
                <aura:set attribute="else">
                    <lightning:layoutItem flexibility="auto">
                        <div class="slds-float_right">
                            <lightning:button variant="neutral" label="Cancel" onclick="{!c.closeModal}" />
                            <lightning:button variant="brand" label="Next" disabled="{!v.showbutton}"
                                onclick="{!c.processProducts}" />
                        </div>

                    </lightning:layoutItem>
                    <br />
                </aura:set>
            </aura:if>
        </aura:if>


        <!--aura:if isTrue="{!v.showProducts}">
            <aura:if isTrue="{!(empty(v.ProductList))}">
                    <div class="" style="background-color:white;">
                        <lightning:button variant="neutral" label="Cancel" onclick="{!c.closeModal}" />
                            <lightning:button variant="brand" label="Next" disabled="{!v.showbutton}"
                                              onclick="{!c.processProducts}" /></div>
                    
            </aura:if>
        </aura:if-->




        <aura:if isTrue="{!v.showSelectedProducts}">
            <lightning:button variant="neutral" label="Back" onclick="{!c.ShowProdList}" />
            <lightning:button variant="neutral" label="Cancel" onclick="{!c.closeModal}" />
            <lightning:button variant="brand" label="Save &amp; Close" disabled="{!v.QLlist.length==0}"
                onclick="{!c.duplicateBid}" />
            <lightning:button variant="brand" label="Create Opportunity" disabled="{!v.QLlist.length==0}"
                              onclick="{!c.createOpty}"/>
        </aura:if>

        <aura:if isTrue="{!!v.isPopup}">
            <lightning:button label="Cancel" onclick="{!c.closeModal}" variant="brand" />
            <aura:set attribute="else">
                <aura:if isTrue="{!!v.showProducts}">
                    <aura:if isTrue="{!!v.showSelectedProducts}">
                        <lightning:button label="Cancel" title="Cancel" class="btn2" onclick="{!c.closeModal}"
                            variant="brand" />
                    </aura:if>
                </aura:if>
            </aura:set>
        </aura:if>

    </div>
    <!--End of Modal Footer-->

</aura:component>