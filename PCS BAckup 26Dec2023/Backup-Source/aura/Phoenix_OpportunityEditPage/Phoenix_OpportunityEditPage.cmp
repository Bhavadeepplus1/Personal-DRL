<aura:component controller="Vision_OpportunityCreator"
                implements="lightning:isUrlAddressable,force:hasRecordId,lightning:actionOverride" access="global">
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="recordId1" type="String" />
    <aura:attribute name="pageReference" type="Object" />
    <aura:handler name="change" value="{!v.pageReference}" action="{!c.pageReferenceChangeHandler}" />
    <aura:attribute name="loading" type="Boolean" default="false" />
    <aura:attribute name="showProductsloading" type="Boolean" default="false" />
    <aura:attribute name="showNext" type="Boolean" default="false" />
    <lightning:navigation aura:id="navigationService" />
    <aura:attribute name="WrapperObect" type="Object" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute access="public" name="formFactor" type="String" default="{!$Browser.formFactor}" />
    <aura:attribute name="isModalOpen" type="boolean" default="true" />
    <aura:attribute name="isCreate" type="boolean" />
    <aura:attribute name="hasLines" type="boolean" />
    <aura:attribute name="bidCreated" type="boolean" />
    <aura:attribute name="accObj" type="Account"/>
    <aura:attribute name="AccountNumber" type="String"/>
    <aura:attribute name="custReadonly" type="boolean" default="false" />
    <aura:attribute name="isABCCustomer" type="boolean" default="false" />
    <aura:attribute name="isBothTemplate" type="boolean" default="false" />
    <aura:attribute name="isROSTemplate" type="boolean" default="false" />
    <aura:attribute name="showUserInputs" type="boolean" default="true" />
    <aura:attribute name="inlineProdLookUpEditMode" type="boolean" default="false" />
    
    <aura:attribute name="buttonName" type="String"/>
    <!--attrubutes for bid temlate flow-->
    <aura:attribute name="BidType" type="string" />
    <aura:attribute name="NoCustContact" type="boolean" default="true" />
    <aura:attribute name="deadLineValue" type="boolean" default="true" />
    <aura:attribute name="hasInternalDate" type="boolean" default="true" />
    <aura:attribute name="recordTypesValues" type="list" />
    <aura:attribute name="activeSections" type="List" default="['Bid Information','Opportunity Information','Comments']" />
    <!--attrubutes for bid temlate flow-->
    <aura:attribute name="RcaAgreement" type="string" />
    <aura:attribute name="customerLkp" type="string" default=""/>
    <aura:attribute name="cntcLkp" type="string" />
    <aura:attribute name="prdLkp" type="string" />
    <aura:attribute name="customerRecord" type="string" />
    <aura:attribute name="bidSubmitted" type="boolean" />
    <aura:attribute name="BidTemplate" type="string" />
    <aura:attribute name="AccTemplate" type="string" />
    <aura:attribute name="actualTemplate" type="string"/>
    <aura:attribute name="customerHireachyListString" type="string" />
    <aura:attribute name="dateOptions" type="List" default="[{ 'label' : '-Select-', 'value': '-Select-'},
                                                            { 'label' : 'Email From Customer', 'value': 'Email From Customer'},
                                                            { 'label' : 'Call With Customer', 'value': 'Call With Customer'},
                                                            { 'label' : 'Face to Face meetings', 'value': 'Face to Face meetings'}]"/>
    <aura:attribute name="filetype" type="List"
                    default="['.eml','.PST','.EDB','.MBOX','.OST','.odt','.wps','.rtf','.msg','.pps','.png','.war','.pjp','.apng','.gif','.pjp','.pjpeg','.jfif','.webp','.avif','.jpg','.jpeg','.pdf','.xlsm','.xlsx','.xlsb','.CSV','.xltx','.html', '.htt', '.mht',' .svg', '.swf', '.thtml','.xhtml','.txt','.odp','.pptx','.ppt','.docx','.doc','.docm','.dotx','.dot','.zip','.zipx','.tar','.xls']" />
    <aura:attribute name="isSpinnerLoad" type="boolean" default="false" />
    <aura:attribute name="isFileUploaded" type="boolean" default="false" />
    <aura:attribute name="fileName" type="String" default="No File Selected.." />
    <aura:attribute name="TabActiveSections" type="List" default="[]" />
    <aura:attribute name="fileList" type="List"/>
    <aura:attribute name="fileContentId" type="string" />
    <aura:attribute name="TotalRecords" type="Integer" default="0"/>
    <aura:attribute name="csvRowData" type="List" default="[]"/>
    <aura:attribute name="matchdata" type="List" default="[]"/>
    <aura:attribute name="unmatchdata" type="List" default="[]"/>
    <aura:attribute name="uploadeddata" type="List" default="[]"/>
    <aura:attribute name="matchedRowsCount" type="Integer" default="0"/>
    <aura:attribute name="unmatchedRowsCount" type="Integer" default="0"/>
    <aura:attribute name="isShowProducts" type="boolean" default="false" />
    <aura:attribute name="isShowUploadedProducts" type="boolean" default="false" />
    <aura:attribute name="isSaveUploadProducts" type="boolean" default="false" />
    <aura:handler name="onchange" event="l_lookup:OnChange" action="{!c.handleChange}" />
    <!-- <aura:handler name="onblur" event="l_lookup:OnBlur" action="{!c.handleBlur}"/> -->
    <aura:attribute name="selecteRow" type="string" default="None"/>
    <aura:attribute name="name" type="string"/>
    <aura:attribute name="source" type="string"/>
    <aura:attribute name="type" type="string"/>
    <aura:attribute name="stage" type="string"/>
    <aura:attribute name="customer" type="string"/>
    <aura:attribute name="contact" type="string"/>
    <aura:attribute name="bidTypeFromForm" type="string"/>
    <aura:attribute name="internalTargetDate" type="string"/>
    <aura:attribute name="customerDeadlineDate" type="string"/>
    <aura:attribute name="comments" type="string"/>
    <aura:attribute name="notes" type="string"/>
    <aura:attribute name="customerName" type="string" default=""/>
    <aura:attribute name="contactName" type="string" default=""/>
    <aura:attribute name="optyObj" type="Object" />
    <aura:handler  name="change" value="{!v.customerLkp}" action="{!c.moveToContact}"/>
    <!-- <aura:handler  name="change" value="{!v.cntcLkp}" action="{!c.moveToBidType}"/> -->
    <aura:attribute name="isAccSel" type="boolean" default="false" />
    <!-- pagination attirbutes -->
    <aura:attribute name="totalMatchdata" type="List" default="[]"/>
    <aura:attribute name="totalData" type="List" default="[]"/>
    <aura:attribute name="totalUnmatchdata" type="List" default="[]"/>
    <aura:attribute name="totalNumberOfRecords" type="Integer"/>
    <aura:attribute name="pageNumberTotalRecs" type="List"/>
    <aura:attribute name="pageNumberListMatched" type="List"/>
    <aura:attribute name="pageNumberListUnmatched" type="List"/>
    <aura:attribute name="selectedPageNumber" type="Integer" default="1"/>
    <aura:attribute name="selectedPageNumberMatched" type="Integer" default="1"/>
    <aura:attribute name="selectedPageNumberUnmatched" type="Integer" default="1"/>
    <aura:attribute name="selectedTab" type="String" default="matchPrds"/>
    <aura:attribute name="selTabId" type="String" default="matchPrds"/>
    <aura:attribute name="loadingMessage" type="String" default=""/>
    <!-- Direct/Indirect Template attirbutes -->
    <aura:attribute name="isShowDirectUnits" type="boolean" default="false" />
    <aura:attribute name="isShowInDirectUnits" type="boolean" default="false" />
    <aura:attribute name="showUploadButton" type="boolean" default="false"/>
    <aura:attribute name="hideUploadButton" type="boolean" default="true"/>
    
    <!-- contracts attributes list START -->
    <aura:attribute name="showContracts" type="Boolean" default="false" />
    <aura:attribute name="isContractSelectionNeeded" type="Boolean" default="false" />
    <aura:attribute name="isAddProductsSelectionNeeded" type="Boolean" default="false" />
    <aura:attribute name="bidCustomerId" type="String" />
    
    <aura:attribute name="contratcsList" type="Phoenix_Contract__c[]"/>
    <aura:attribute name="selectedContratcsIdList" type="List"/>
    <aura:attribute name="productsList" type="Product2[]"/>
    <aura:attribute name="navigateToComponent" type="Boolean" default="false"/>
    
    <aura:attribute name="selectedRowsCount" type="Integer" default="0"/>
    <aura:attribute name="selectedCntrcts" type="List"/>
    
    <aura:attribute name="listOfAllAccounts" type="list"/> 
    <aura:attribute name="PaginationList" type="list"/> 
    <aura:attribute name="startPage" type="Integer" />
    <aura:attribute name="endPage" type="Integer"/>
    <aura:attribute name="totalRecordsCountCV" type="Integer"/>
    <aura:attribute name="pageSizeCV" type="Integer" default="100" description="number of records to be display on per page"/>
    <aura:attribute name="currentPage" type="integer" default="1"/>
    <aura:attribute name="totalPagesCount" type="integer"/>
    <aura:attribute name="bNoRecordsFound" type="boolean"/>
    <aura:attribute name="searchValue" type="string" default=''/>
    <aura:attribute name="allContractsChecked" type="boolean" default='false'/>
    <aura:attribute name="selectedContId" type="list" />
    
    <aura:attribute name="isFirstPage" type="boolean" default="false"/>
    <aura:attribute name="isLastPage" type="boolean" default="false"/>
    <aura:attribute name="isSelectedNo" type="integer" default="1"/>
    
    
    <aura:attribute name="allDataCV" type="List" />
    <aura:attribute name="filteredData" type="List" />
    
    <aura:attribute name="showDraftView" type="boolean" default='true'/>
    <aura:attribute name="isSelectAllboxes" type="boolean" default="false"/>
    <!-- contract attributes END -->
    <!-- Upload Template attributes -->
    <aura:attribute name="templateName" type="string" default="Download Sample Template"/>
    <aura:attribute name="showSelectedProdOpty" type="Boolean" default="false" />
    <aura:attribute name="showDeleteFile" type="Boolean" default="false" />
    
    <aura:attribute name="selectedContractNumberList" type="List" />
    <aura:attribute name="isFromAnalysis" type="boolean" default="false"/>
    <aura:attribute name="selectedNdcs" type="list"/>
    <aura:attribute name="optyProdList" type="list"/>
    <aura:attribute name="isRosCustomer" type="boolean" default="false"/>
    <aura:attribute name="oldBidId" type="String"/>
    <aura:attribute name="isBidClone" type="boolean" default="false"/>
    <aura:attribute name="showProductsFromBid" type="boolean" default="false"/>
    
	<!-- Upload Template attributes END -->
    <aura:if isTrue="{!v.showUploadButton}">
        <center>
            <section role="dialog" aura:id="modalBlockUI" tabindex="-1" aria-labelledby="modal-heading-01"
                     aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open modalShadowRemove">  
                <div class="slds-modal__container" style="background-Color: transparent; border: 0;">  
                    <div class="slds-modal__content slds-p-around_medium modalShadowRemove" style="background-Color: White; border: 0;"> 
                        <lightning:input onchange="{!c.handleUploadFinished}" 
                                         id="uploadButtonToFire" aura:id="uploadButtonToFire" 
                                         variant="label-hidden" multiple="false"
                                         type="file" name="file" label="Upload File"/>
                    </div>   
                </div>  
            </section>   
            <div class="slds-backdrop slds-backdrop-open" aura:id="customModal-Back"></div>
        </center>
    </aura:if>
    <aura:if isTrue="{!v.showDeleteFile}">
        <section  role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" 
                 aria-modal="true" aria-describedby="modal-content-id-1" 
                 class="slds-modal slds-fade-in-open" style="width: 50%;margin-left: 25%;">
            <div class="slds-modal__container" style="width:50%">
                <header class="slds-modal__header">
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                        Delete File</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <p style="font-size: 1rem;"><div style="text-align:center;padding-bottom:3px;">Are you sure you want to delete this file..?</div>
                    </p>
                </div>
                <!--Modal/Popup Box Footer Starts here-->
                <footer class="slds-modal__footer">
                    <lightning:button variant="neutral"
                                      label="No"
                                      title="No"
                                      onclick="{! c.closeModel }"/>
                    <lightning:button variant="brand"
                                      label="Yes"
                                      title="Yes"
                                      onclick="{!c.deleteFileAction}"/>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>
    
    <aura:if isTrue="{!v.showProductsFromBid}">
        <center>
            <section role="dialog" aura:id="modalBlockUI" tabindex="-1" aria-labelledby="modal-heading-01"
                     aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open modalShadowRemove">  
                <div class="slds-modal__container" style="background-Color: transparent; border: 0;">  
                    <div class="slds-modal__content slds-p-around_medium modalShadowRemove" style="background-Color: White; border: 0;"> 
                        <div class="" style="position:relative;">
                            <div aura:id="mainDiv" style="height:auto;overflow:auto;margin-top:10px;">
                                <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                                    <table aura:id="LineTable" 
                                           class="maintable fixedtable slds-table slds-table_col-bordered slds-no-row-hover slds-table_cell-buffer slds-table_bordered slds-table-bordered slds-border_left">
                                        <thead class="headerOfTable">
                                            <tr>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    Product Name
                                                </th>
                                                <th class="" style="background-color: #a3c2c2">
                                                    Product Family
                                                </th>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    NDC
                                                </th>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    Pkg Size
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <aura:iteration items="{!v.optyProdList}" var="prd" indexVar="index">
                                                <tr style="">
                                                    <td>
                                                        <div class="slds-truncate" title="{!prd.Name}">
                                                            <a href="{!'/'+prd.Product__c}" target="_blank">{!prd.Name}</a>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        {!prd.Product_Family__c}
                                                    </td>
                                                    <td>
                                                        {!prd.NDC_11__c}
                                                    </td>
                                                    <td>
                                                        {!prd.Pkg_Size__c}
                                                    </td>
                                                </tr>
                                            </aura:iteration>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div style="text-align:right;padding:5px;">
                            <lightning:button variant="neutral" label="Close" onclick="{!c.closeProdPopup}"/>
                        </div>
                    </div>   
                </div>  
            </section>   
            <div class="slds-backdrop slds-backdrop-open" aura:id="customModal-Back"></div>
        </center>
    </aura:if>
    
    <div class="slds-box slds-theme_default" id="top" style="">
        <aura:if isTrue="{!v.isCreate}">
            <div class="slds-p-left_medium" role="banner" style="background:rgb(250, 250, 249);padding-bottom:5px;letter-spacing: 1.8px;font-weight:bold;">
                <h1 class="slds-modal__title slds-hyphenate slds-text-heading_large">
                    CREATE NEW OPPORTUNITY
                </h1>
            </div>
            <aura:set attribute="else">
                <div class="slds-p-left_medium" role="banner" style="background:rgb(250, 250, 249);padding-bottom:5px;letter-spacing: 1.8px;font-weight:bold;">
                    <h1 class="slds-modal__title slds-hyphenate slds-text-heading_large">
                        Edit {!v.optyObj.Name}
                    </h1>
                </div>
            </aura:set>
        </aura:if>
        
            <div class="slds-box boxCss" style="margin:10px;padding:20px;">
                <aura:if isTrue="{!or(v.isFromAnalysis,v.isBidClone)}">
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_1-of-4">
                            <lightning:input aura:id="optyName" label="Opportunity Name"
                                             onchange = "{!c.validateOptyName}"
                                             type="text" value="{!v.name}" required="true"
                                             messageWhenBadInput="Opportunity Name Already Exist!"/>
                        </div>
                        <div class="slds-col slds-size_1-of-4">
                            <lightning:select aura:id="optySourceInput" onchange="{! c.handleChangeInSource }"
                                              label="Opportunity Source" required="true">
                                <option value="{!v.source}">
                                    {!v.source}
                                </option>
                                <aura:if isTrue="{!(v.source != 'Email from Customer')}" >
                                    <option value="Email from Customer">Email from Customer</option>
                                </aura:if>
                                <aura:if isTrue="{!(v.source != 'Call With Customer')}" >
                                    <option value="Call With Customer">Call With Customer</option>
                                </aura:if>
                                <aura:if isTrue="{!(v.source != 'Face to Face Meetings')}" >
                                    <option value="Face to Face Meetings">Face to Face Meetings</option>
                                </aura:if>
                                <aura:if isTrue="{!(v.source != 'Inventory File Analysis')}" >
                                    <option value="Inventory File Analysis">Inventory File Analysis</option>
                                </aura:if>
                                <aura:if isTrue="{!v.isFromAnalysis}">
                                    <aura:if isTrue="{!(v.source != '100% Analysis')}" >
                                        <option value="100% Analysis">100% Analysis</option>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{!v.isBidClone}">
                                    <aura:if isTrue="{!(v.source != 'Bid Clone')}" >
                                        <option value="Bid Clone">Bid Clone</option>
                                    </aura:if>
                                </aura:if>
                            </lightning:select>
                        </div>
                        <div class="slds-col slds-size_1-of-4">
                            <label class="slds-form-element__label" for="optyType" id="inline-text-label">Type</label>
                            <lightning:input value="{!v.type}" disabled="true" aura:id="optyType" variant="label-hidden"/>
                        </div>
                        <div class="slds-col slds-size_1-of-4">
                            <l_lookup:Lookup aura:id="customerLookup" label="Customer"
                                             setTo="{!v.customerName}" disabled="true"
                                             objectType="Account" isRequired="true"
                                             selectedRecordId="{!v.customerLkp}" additionalField="AccountNumber"
                                             queryCondition="{! v.isRosCustomer ? '(Phoenix_Is_Bid_Account__c = true AND (Name =\'CVS/Caremark\' OR Name =\'Cardinal - Major\' OR Name =\'Cardinal Health\' OR Name =\'Red Oak Sourcing\'))' : 'Phoenix_Is_Bid_Account__c = true'}"/>
                        </div>
                    </div>
                    <div class="slds-grid slds-gutters" style="margin-top:10px;">
                        <div class="slds-col slds-size_1-of-4">
                            <lightning:select aura:id="bidTemplate" onchange="{! c.handleChangeInBidTemplate }"
                                              label="Bid Template" required="true"
                                              disabled="{!or(or(or(v.actualTemplate == 'Direct or Indirect',v.actualTemplate == 'ROS'),
                                                        or(v.actualTemplate == 'ABC Progen',v.actualTemplate == 'ABC Pharmagen')),v.actualTemplate == 'Humana') ? false : true}">
                                <option value="{!v.AccTemplate}">{!v.AccTemplate}</option>
                                <aura:if isTrue="{!v.actualTemplate == 'Direct or Indirect'}">
                                    <aura:if isTrue="{!(v.AccTemplate != 'Direct')}" >
                                        <option value="Direct">Direct</option>
                                    </aura:if>
                                    <aura:if isTrue="{!(v.AccTemplate != 'Indirect')}" >
                                        <option value="Indirect">Indirect</option>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{!v.actualTemplate == 'ROS'}">
                                    <aura:if isTrue="{!(v.AccTemplate != 'ROS')}" >
                                        <option value="ROS">ROS</option>
                                    </aura:if>
                                    <aura:if isTrue="{!(v.AccTemplate != 'Indirect')}" >
                                        <option value="Indirect">Indirect</option>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{!v.actualTemplate == 'Humana'}">
                                    <aura:if isTrue="{!(v.AccTemplate != 'Direct')}" >
                                        <option value="Direct">Direct</option>
                                    </aura:if>
                                    <aura:if isTrue="{!(v.AccTemplate != 'Humana Indirect retail')}" >
                                        <option value="Humana Indirect retail">Humana Indirect retail</option>
                                    </aura:if>
                                    <aura:if isTrue="{!(v.AccTemplate != 'Humana Indirect CII')}" >
                                        <option value="Humana Indirect CII">Humana Indirect CII</option>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{!or(v.actualTemplate == 'ABC Progen',v.actualTemplate == 'ABC Pharmagen')}">
                                    <aura:if isTrue="{!(v.AccTemplate != 'ABC Progen')}" >
                                        <option value="ABC Progen">ABC Progen</option>
                                    </aura:if>
                                    <aura:if isTrue="{!(v.AccTemplate != 'ABC Pharmagen')}" >
                                        <option value="ABC Pharmagen">ABC Pharmagen</option>
                                    </aura:if>
                                </aura:if>
                            </lightning:select>
                        </div>
                        <div class="slds-col slds-size_1-of-4">
                            <l_lookup:Lookup aura:id="contactLookup" 
                                             objectType="Contact" label="Customer Contact"
                                             setTo="{!v.contactName}"
                                             selectedRecordId="{!v.cntcLkp}"
                                             dropDownQuery="{!'AccountId=\'' + v.customerLkp + '\''}"
                                             queryCondition="{! 'AccountId=\'' + v.customerLkp + '\'' }"/>
                        </div>
                        <div class="slds-col slds-size_1-of-4" style="padding-right:12px;padding-left:12px;">
                            <label class="slds-form-element__label" for="internalTargetDate" id="inline-text-label"><abbr class="slds-required" title="required">*</abbr>Internal Target Date</label>
                            <ui:inputDate aura:id="internalTargetDate" class="" required="true"
                                          change="{!c.onChangeInternalTargetDate}"
                                          value="{!v.internalTargetDate}" displayDatePicker="true"/>
                        </div>
                        <div class="slds-col slds-size_1-of-4" style="padding-right:12px;padding-left:12px;">
                            <label class="slds-form-element__label" for="cxDeadLine" id="inline-text-label">Customer Bid Deadline Date</label>
                            <ui:inputDate aura:id="cxDeadLine" class="slds-input" 
                                          change="{!c.onChangecxDeadLineDate}"
                                          value="{!v.customerDeadlineDate}" displayDatePicker="true"/>
                        </div>
                    </div>
                    <aura:set attribute="else">
                        <lightning:recordEditForm density="comfy" aura:id="recordEditFormForNewBid" recordId="{!v.recordId}"
                                                  objectApiName="Opportunity" onload="{!c.handleOnload}" onsubmit="{!c.handleSubmit}"
                                                  onsuccess="{!c.redirectToDetailPage}">
                            <lightning:messages aura:id="BidMessage" />
                            <div class="slds-grid slds-gutters">
                                <div class="slds-col slds-size_1-of-4">
                                    <lightning:input aura:id="optyName" label="Opportunity Name"
                                                     onchange = "{!c.validateOptyName}"
                                                     type="text" value="{!v.name}" required="true"
                                                     messageWhenBadInput="Opportunity Name Already Exist!"/>
                                </div>
                                <div class="slds-col slds-size_1-of-4">
                                    <lightning:select aura:id="optySourceInput" onchange="{! c.handleChangeInSource }"
                                                      label="Opportunity Source" required="true">
                                        <option value="{!v.source}">
                                            {!v.source}
                                        </option>
                                        <aura:if isTrue="{!(v.source != 'Email from Customer')}" >
                                            <option value="Email from Customer">Email from Customer</option>
                                        </aura:if>
                                        <aura:if isTrue="{!(v.source != 'Call With Customer')}" >
                                            <option value="Call With Customer">Call With Customer</option>
                                        </aura:if>
                                        <aura:if isTrue="{!(v.source != 'Face to Face Meetings')}" >
                                            <option value="Face to Face Meetings">Face to Face Meetings</option>
                                        </aura:if>
                                        <aura:if isTrue="{!(v.source != 'Inventory File Analysis')}" >
                                            <option value="Inventory File Analysis">Inventory File Analysis</option>
                                        </aura:if>
                                        <aura:if isTrue="{!v.isFromAnalysis}">
                                            <aura:if isTrue="{!(v.source != '100% Analysis')}" >
                                                <option value="100% Analysis">100% Analysis</option>
                                            </aura:if>
                                        </aura:if>
                                    </lightning:select>
                                </div>
                                <div class="slds-col slds-size_1-of-4">
                                    <lightning:inputField aura:id="type" value="{!v.type}" onchange="{!c.validateInputs}"
                                                          fieldName="Vision_Type__c" disabled="true" />
                                </div>
                                <div class="slds-col slds-size_1-of-4">
                                    <l_lookup:Lookup aura:id="customerLookup" label="Customer"
                                                     setTo="{!v.customerName}"
                                                     objectType="Account" isRequired="true"
                                                     selectedRecordId="{!v.customerLkp}"
                                                     additionalField="AccountNumber"
                                                     queryCondition="{!'Phoenix_Is_Bid_Account__c = true'}"/>
                                </div>
                            </div>
                            
                            <div class="slds-grid slds-gutters" style="margin-top:10px;">
                                <div class="slds-col slds-size_1-of-4">
                                    <lightning:select aura:id="bidTemplate" onchange="{! c.handleChangeInBidTemplate }"
                                                      label="Bid Template" required="true"
                                                      disabled="{!or(or(or(v.actualTemplate == 'Direct or Indirect',v.actualTemplate == 'ROS'),
                                                                or(v.actualTemplate == 'ABC Progen',v.actualTemplate == 'ABC Pharmagen')),v.actualTemplate == 'Humana') ? false : true}">
                                        <option value="{!v.AccTemplate}">{!v.AccTemplate}</option>
                                        <aura:if isTrue="{!v.actualTemplate == 'Direct or Indirect'}">
                                            <aura:if isTrue="{!(v.AccTemplate != 'Direct')}" >
                                                <option value="Direct">Direct</option>
                                            </aura:if>
                                            <aura:if isTrue="{!(v.AccTemplate != 'Indirect')}" >
                                                <option value="Indirect">Indirect</option>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{!v.actualTemplate == 'ROS'}">
                                            <aura:if isTrue="{!(v.AccTemplate != 'ROS')}" >
                                                <option value="ROS">ROS</option>
                                            </aura:if>
                                            <aura:if isTrue="{!(v.AccTemplate != 'Indirect')}" >
                                                <option value="Indirect">Indirect</option>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{!v.actualTemplate == 'Humana'}">
                                            <aura:if isTrue="{!(v.AccTemplate != 'Direct')}" >
                                                <option value="Direct">Direct</option>
                                            </aura:if>
                                            <aura:if isTrue="{!(v.AccTemplate != 'Humana Indirect retail')}" >
                                                <option value="Humana Indirect retail">Humana Indirect retail</option>
                                            </aura:if>
                                            <aura:if isTrue="{!(v.AccTemplate != 'Humana Indirect CII')}" >
                                                <option value="Humana Indirect CII">Humana Indirect CII</option>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{!or(v.actualTemplate == 'ABC Progen',v.actualTemplate == 'ABC Pharmagen')}">
                                            <aura:if isTrue="{!(v.AccTemplate != 'ABC Progen')}" >
                                                <option value="ABC Progen">ABC Progen</option>
                                            </aura:if>
                                            <aura:if isTrue="{!(v.AccTemplate != 'ABC Pharmagen')}" >
                                                <option value="ABC Pharmagen">ABC Pharmagen</option>
                                            </aura:if>
                                        </aura:if>
                                    </lightning:select>
                                </div>
                                <div class="slds-col slds-size_1-of-4">
                                    <l_lookup:Lookup aura:id="contactLookup" 
                                                     objectType="Contact" label="Customer Contact"
                                                     setTo="{!v.contactName}"
                                                     selectedRecordId="{!v.cntcLkp}"
                                                     dropDownQuery="{!'AccountId=\'' + v.customerLkp + '\''}"
                                                     queryCondition="{! 'AccountId=\'' + v.customerLkp + '\'' }"/>
                                </div>
                                <div class="slds-col slds-size_1-of-4" style="padding-right:12px;padding-left:12px;">
                                    <label class="slds-form-element__label" for="internalTargetDate" id="inline-text-label"><abbr class="slds-required" title="required">*</abbr>Internal Target Date</label>
                                    <ui:inputDate aura:id="internalTargetDate" class="" required="true"
                                                  change="{!c.onChangeInternalTargetDate}"
                                                  value="{!v.internalTargetDate}" displayDatePicker="true"/>
                                </div>
                                <div class="slds-col slds-size_1-of-4" style="padding-right:12px;padding-left:12px;">
                                    <label class="slds-form-element__label" for="cxDeadLine" id="inline-text-label">Customer Bid Deadline Date</label>
                                    <ui:inputDate aura:id="cxDeadLine" class="slds-input" 
                                                  change="{!c.onChangecxDeadLineDate}"
                                                  value="{!v.customerDeadlineDate}" displayDatePicker="true"/>
                                </div>
                            </div>
                        </lightning:recordEditForm>
                    </aura:set>
                </aura:if>
            </div>
            
            <div class="slds-grid" style="margin:10px;">
                
                <aura:if isTrue="{!v.isFromAnalysis}">
                    <div class="slds-col slds-box boxCss slds-size_2-of-6" style="margin-right:5px;">
                        <h1 class="slds-modal__title slds-hyphenate slds-text-heading_medium" 
                            style="font-size:18px;font-weight:bold;">
                            Additional Comments
                        </h1>
                        <div>
                            <lightning:inputRichText value="{!v.comments}" placeholder="Enter the Vision Comments here..."/>
                        </div>
                    </div>
                    <div class="slds-col slds-box boxCss slds-size_4-of-6" style="">
                        <h1 class="slds-modal__title slds-hyphenate slds-text-heading_medium" 
                            style="font-size:18px;font-weight:bold;">
                            Added Opportunity Products
                        </h1>
                        <div class="" style="position:relative;">
                            <div aura:id="mainDiv" style="height:auto;overflow:auto;margin-top:10px;">
                                <div role="region" aria-labelledby="HeadersCol" tabindex="0" class="rowheaders">
                                    <table aura:id="LineTable" 
                                           class="maintable fixedtable slds-table slds-table_col-bordered slds-no-row-hover slds-table_cell-buffer slds-table_bordered slds-table-bordered slds-border_left">
                                        <thead class="headerOfTable">
                                            <tr>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    Product Name
                                                </th>
                                                <th class="" style="background-color: #a3c2c2">
                                                    Product Family
                                                </th>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    NDC
                                                </th>
                                                <th class="" style="background-color: #a3c2c2;">
                                                    Pkg Size
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <aura:iteration items="{!v.optyProdList}" var="prd" indexVar="index">
                                                <tr style="">
                                                    <td>
                                                        <div class="slds-truncate" title="{!prd.Name}">
                                                            <a href="{!'/'+prd.Product__c}" target="_blank">{!prd.Name}</a>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        {!prd.Product_Family__c}
                                                    </td>
                                                    <td>
                                                        {!prd.NDC_11__c}
                                                    </td>
                                                    <td>
                                                        {!prd.Pkg_Size__c}
                                                    </td>
                                                </tr>
                                            </aura:iteration>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <aura:set attribute="else">
                        <div class="slds-col slds-box boxCss slds-size_3-of-6" style="margin-right:5px;">
                            <h1 class="slds-modal__title slds-hyphenate slds-text-heading_medium" 
                                style="font-size:18px;font-weight:bold;">
                                Additional Comments
                            </h1>
                            <div>
                                <lightning:inputRichText value="{!v.comments}" placeholder="Enter the Vision Comments here..."/>
                            </div>
                        </div>
                        <div class="slds-col slds-box boxCss slds-size_3-of-6" style="">
                            <h1 class="slds-modal__title slds-hyphenate slds-text-heading_medium" 
                                style="font-size:18px;font-weight:bold;">
                                Add Opportunity Products
                            </h1>
                            <div class="" style="position:relative;">
                                <aura:if isTrue="{!v.isAccSel}">
                                    <div style="margin-top:10px;width: 50%;">
                                        <div class="slds-text-body_small" onclick="{!c.downloadCSVFile}" 
                                             style="cursor:pointer;color:#4E23AA;font-size:14px;">
                                            <span><lightning:icon iconName="utility:download" size="x-small" class="downloadIcon"/>
                                                &nbsp;&nbsp;{!v.templateName}
                                            </span>
                                        </div>
                                    </div>
                                    <hr style="margin:10px 0 10px 0;"/>
                                    <aura:set attribute="else">
                                        <div style="margin-top:5px;width: 20%;">
                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                    </aura:set>
                                </aura:if>
                                <div class="slds-grid" style="">
                                    <div class="slds-col slds-size_4-of-6" style="text-align:left;color:rgb(1, 118, 211);padding-top:10px;padding-bottom:5px;"> <!-- slds-m-top_small slds-p-left_large slds-p-top_large-->
                                        <div class="slds-grid" style="">
                                            <div class="slds-col slds-size_3-of-6" style="">
                                                <lightning:fileUpload name="fileUploader" multiple="false"
                                                                      accept="{!v.filetype}" recordId="{!v.recordId}"
                                                                      onuploadfinished="{!c.handleUploadFinished}"
                                                                      class="hideSpan hideUploadLabel"/>
                                            </div>
                                            <div class="slds-col slds-size_3-of-6" style="padding-top:25px;">
                                                <aura:if isTrue="{!v.isFileUploaded}">
                                                    <p class="slds-badge slds-text-body_small slds-text-color_success fileNameCss">{!v.fileName} &nbsp;&nbsp;
                                                        <lightning:icon iconName="action:close" alternativeText="Delete File" title="Delete File"  size="xx-small" onclick="{!c.deleteFile}"/>
                                                    </p>
                                                    <aura:set attribute="else">&nbsp;</aura:set>
                                                </aura:if>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_1-of-6 wrapper" style="margin:0;">
                                        <!-- <div class="wrapper"> -->
                                        <div class="line"></div>
                                        <div class="wordwrapper">
                                            <div class="word">or</div>                                        
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_1-of-6 addProdDiv" style="text-align:center;padding-top:25px;padding-bottom:5px;">
                                        <aura:if isTrue="{!or(v.isCreate == false,v.isBidClone)}">
                                            <div class="" style="padding:5px;cursor:pointer;color:#4E23AA;font-size:14px;" onclick="{!c.showSelectedProducts}">
                                                Show Selected Products ({!v.optyProdList.length})
                                            </div>
                                            <aura:set attribute="else">
                                                <center>
                                                    <div class="addProdButton" style="cursor:pointer;" onclick="{!c.onSaveNext}" disabled="{!v.isFromAnalysis}">
                                                        Add Products Manually
                                                    </div>
                                                </center>
                                            </aura:set>
                                        </aura:if>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aura:set>
                </aura:if>
            </div>
            
            <div class="slds-grid">
                <div class="slds-col" style="font-style:italic;padding-top:10px;padding-left:10px;">
                    <span style="color:red;">*</span> Users will be able to create opportunities for Bid Templates of Humana Indirect, CII &amp; Pharmabid / SOSRx once they are available on BRIGHT.
                </div>
                
                <div class="slds-col" style="text-align:right;padding-right:10px;">
                    <aura:if isTrue="{!!v.isCreate}">
                        <div class="slds-badge addSaveButton" style="cursor:pointer;" onclick="{!c.onSaveOptyRecord}">
                            Update
                        </div>
                        <aura:set attribute="else">
                            <aura:if isTrue="{!or(v.isFromAnalysis,v.isBidClone)}">
                                <div class="slds-badge cancelButtonCss" style="cursor:pointer;" onclick="{!c.closeAndBackToAccount}">
                                    Cancel
                                </div>
                                <aura:if isTrue="{!v.isBidClone}">
                                    <div class="slds-badge addSaveButton" style="cursor:pointer;" onclick="{!c.saveOptyWithProds}">
                                        Create Opportunity
                                    </div>
                                    <aura:set attribute="else">
                                        <div class="slds-badge addSaveButtonFromAcc" style="cursor:pointer;" onclick="{!c.saveOptyWithProds}">
                                            Proceed
                                        </div>
                                    </aura:set>
                                </aura:if>
                                <aura:set attribute="else">
                                    <div class="slds-badge cancelButtonCss" style="cursor:pointer;" onclick="{!c.closeQuickActionPanel}">
                                        Cancel
                                    </div>
                                    <aura:if isTrue="{!v.isSaveUploadProducts}">
                                        <div class="slds-badge addSaveButton" style="cursor:pointer;" onclick="{!c.onSaveOptyRecord}">
                                            Save &amp; Proceed
                                        </div>
                                    </aura:if>
                                </aura:set>
                            </aura:if>
                        </aura:set>
                    </aura:if>
                </div>
            </div>
            
        <aura:if isTrue="{!v.isSpinnerLoad}">
            <center>
                <section role="dialog" aura:id="modalBlockUI" tabindex="-1" aria-labelledby="modal-heading-01"
                        aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open modalShadowRemove">  
                    <div class="slds-modal__container" style="background-Color: transparent; border: 0;">  
                        <div class="slds-modal__content slds-p-around_medium modalShadowRemove" style="background-Color: White; border: 0;"> 
                            <div>
                                <img src="{!$Resource.LoadingProgress}" /> 
                            </div><br/>
                            <aura:if isTrue="{!v.loadingMessage}">
                                <div style="font-size:18px;color:black;">
                                    {!v.loadingMessage}
                                </div>
                            </aura:if>
                        </div>   
                    </div>  
                </section>   
                <div class="slds-backdrop slds-backdrop-open" aura:id="customModal-Back"></div>
            </center>
        </aura:if>
        
        <aura:if isTrue="{!v.isShowUploadedProducts}">
            <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="pop-up-main-container">
                    <div id= "modalId" class="slds-modal__container">
                        <div class="slds-modal__header">
                            <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Products Uploaded By You</h1>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <div class="slds-box slds-box_x-small">
                                <div class="slds-grid slds-gutters slds-text-align_center">
                                    <div class="slds-col slds-align_absolute-center">
                                        <span style="font-size:16px;font-style:bold;">Total Products: {! v.TotalRecords }</span>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-box" style="padding-top: 0px;">
                                <aura:if isTrue="{!v.showProductsloading}">
                                    <center>
                                        <div><img src="{!$Resource.WaitLoadingGif}" style="height: 250px;"/></div>
                                        <div style="font-size:18px;font-style:bold;">{!v.loadingMessage}</div>
                                    </center>
                                    <aura:set attribute="else">
                                        <div style="height:60vh;">
                                            <div class="slds-scrollable" style="height:100%;">
                                                <table class="customtable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" role="grid">
                                                    <thead>
                                                        <tr class="slds-text-title--caps">
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Product Description">PRODUCT DESCRIPTION</div>
                                                            </th>
                                                             <aura:if isTrue="{!v.AccountNumber != '164498'}">
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="GCN">GCN</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="GSN">GSN</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="GPI">GPI</div>
                                                            </th>
                                                            </aura:if>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="NDC 11">NDC 11</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="SKU NUMBER">SKU NUMBER</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Product Family">Product Family</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Strength">Strength</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Dosage Form">DOSAGE FORM</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Pack Size">PACK SIZE</div>
                                                            </th>
                                                            <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed Units">PROPOSED UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed RAD Units">PROPOSED SHARE %</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed OS Units">PROPOSED OS UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed RAD Units">PROPOSED RAD UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed WMT Units">PROPOSED WMT UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT ESI UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT ESI UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT KROGER UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT KROGER UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT RX OUTREACH UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT RX OUTREACH UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT SUPERVALU UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT SUPERVALU UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT CORDANT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT CORDANT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT ACCERODO UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED INDIRECT ACCERODO UNITS</div>
                                                                </th>
                                                                
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="PROPOSED DIRECT UNITS">PROPOSED DIRECT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="PROPOSED INDIRECT UNITS">PROPOSED INDIRECT UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED SMITH DRUG UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED ANDA UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT AHOLD/DELHAIZE UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DIRECT GAINT EAGLE UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED TOTAL RETAIL INDIRECT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED BASE UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED DSH UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED AUTOSUB UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED CVS DIRECT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED CVS INDIRECT UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED CARDINAL UNITS</div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-truncate">PROPOSED MAJOR UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.isShowDirectUnits == true}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                            <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                </th>
                                                            </aura:if>
                                                               <aura:if isTrue="{!v.AccountNumber == '164498'}">
                                                            <th scope="col">
                                                                    <div class="slds-truncate" title="Proposed INDIRECT Units">FLOOR PRICE</div>
                                                                   </th></aura:if>
                                                            <!-- <th scope="col">
                                                                <div class="slds-truncate" title="Total Annual Units">TOTAL ANNUAL UNITS</div>
                                                            </th> -->
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="UOM">UOM</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Customer Comments">CUSTOMER COMMENTS</div>
                                                            </th>
                                                            <!-- <th scope="col">
                                                                <div class="slds-truncate" title="BID ON HIGHEST PACK SIZE">BID ON HIGHEST PACK SIZE</div>
                                                            </th>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="BID ON ALTERNATIVE PACK SIZE">BID ON ALTERNATIVE PACK SIZE</div>
                                                            </th> -->
                                                        </tr>
                                                    </thead>
                                                    <tbody style="z-index: 1 !important;">
                                                        <aura:iteration items="{!v.uploadeddata}" var="prd" indexVar="index">
                                                            <tr>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.Product_Description__c}">{!prd.Product_Description__c}</div>
                                                                </td>
                                                                 <aura:if isTrue="{!v.AccountNumber != '164498'}">
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.GCN_Generic_Code_Number__c}">{!prd.GCN_Generic_Code_Number__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.GSN__c}">{!prd.GSN__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.GPI_Generic_Product_Identifier__c}">{!prd.GPI_Generic_Product_Identifier__c}</div>
                                                                </td>
                                                                </aura:if>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.NDC_11__c}">{!prd.NDC_11__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.SKU_Number__c}">{!prd.SKU_Number__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.Product_Family__c}">{!prd.Product_Family__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate slds-text-align_right" title="{!prd.Strength__c}">{!prd.Strength__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.Vision_Dosage_Form__c}">{!prd.Vision_Dosage_Form__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate slds-text-align_right" title="{!prd.Pkg_Size__c}">{!prd.Pkg_Size__c}</div>
                                                                </td>
                                                                <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Share_Percentage__c}">
                                                                            {!prd.Vision_Proposed_Share_Percentage__c} %
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_OS_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_OS_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_RAD_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_RAD_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_WMT_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_WMT_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_BASE_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_DSH_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_AutoSub_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Direct_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Indirect_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Cardinal_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Major_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Smith_Drug_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Anda_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_DirectAholdDelhaizeUnits__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Gaint_Eagle_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_TotalRetailIndirectUnits__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_ESI_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_ESI_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Kroger_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Kroger_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Rx_Outreach_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_IndirectRxOutreach_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Cordant_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Cordant_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right">
                                                                            <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.isShowDirectUnits}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                    <td>
                                                                        <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                            <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                        </div>
                                                                    </td>
                                                                </aura:if>
                                                                   <aura:if isTrue="{!v.AccountNumber == '164498'}">
                                                                       <td class="slds-cell-wrap slds-text-align_right" scope="col"><lightning:formattedNumber value="{!prd.Vision_Guidance_Price__c}" style="currency" currencyCode="USD"></lightning:formattedNumber> </td>
                                                                </aura:if>
                                                                <!-- <td>
                                                                    <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Total_Annual_Units__c}">
                                                                        <lightning:formattedNumber value="{!prd.Vision_Total_Annual_Units__c}"></lightning:formattedNumber>
                                                                    </div>
                                                                </td> -->
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.Vision_UOM__c}">{!prd.Vision_UOM__c}</div>
                                                                </td>
                                                                <td>
                                                                    <div class="slds-truncate" title="{!prd.Vision_Customer_Comments__c}">{!prd.Vision_Customer_Comments__c}</div>
                                                                </td>
                                                                <!-- <td>
                                                                    <aura:if isTrue="{!prd.Vision_Bid_on_Highest_Pack_Size__c == true}">
                                                                        <div class="slds-truncate" title="Yes">Yes</div>
                                                                        <aura:set attribute="else">
                                                                            <div class="slds-truncate" title="No">No</div>
                                                                        </aura:set>
                                                                    </aura:if>
                                                                </td>
                                                                <td>
                                                                    <aura:if isTrue="{!prd.Vision_Bid_on_Alternative_Pack_Size__c == true}">
                                                                        <div class="slds-truncate" title="Yes">Yes</div>
                                                                        <aura:set attribute="else">
                                                                            <div class="slds-truncate" title="No">No</div>
                                                                        </aura:set>
                                                                    </aura:if>
                                                                </td> -->
                                                            </tr>
                                                        </aura:iteration>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </aura:set>
                                </aura:if>
                            </div>
                            <footer class="slds-modal__footer">
                                <div class="pagination">
                                    <div class="midbox" style="text-align:center;">
                                        <aura:if isTrue="{!!lessthanorequal(v.totalData.length,100)}">
                                            <aura:iteration items="{!v.pageNumberTotalRecs}" var="pageNum" indexVar="index">
                                                <lightning:button label="{!pageNum}" name="{!pageNum}" 
                                                                  variant="{!v.selectedPageNumber == pageNum ? 'Brand' : 'Neutral'}" 
                                                                  value="{!pageNum}" onclick="{!c.changePageForTotal}"/>
                                            </aura:iteration>
                                        </aura:if>
                                    </div>
                                    <div class="navlink nextlink">
                                        <lightning:button variant="neutral" label="Close"
                                                          onclick="{!c.closePopUpModal}"
                                                          disabled="{!v.showProductsloading}"/>
                                        
                                        <lightning:button variant="brand" type="submit" label="Match Products"
                                                          disabled="{!v.showProductsloading}"
                                                          onclick="{!c.handleMatchProcess}"/>
                                    </div>
                                </div>
                                <!--button class="slds-button slds-button_neutral">Cancel</button>
                                        <button class="slds-button slds-button_brand" onclick="{!c.redirectToDetailPage}">Save</button-->
                            </footer>
                        </div>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </aura:if>
        
        <aura:if isTrue="{!v.isShowProducts}">
            <section role="dialog" tabindex="-1" aria-label="Product List" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="pop-up-main-container">
                    <div id= "modalId" class="slds-modal__container">
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <div class="slds-box slds-box_x-small">
                                <div class="slds-grid slds-gutters slds-text-align_center">
                                    <div class="slds-col slds-align_absolute-center">
                                        <span style="font-size:16px;"><b>Total Products: {! v.TotalRecords }</b></span>
                                    </div>
                                    <div class="slds-col slds-text-color_success">
                                        <span style="font-size:16px;"><b>Matched Products: {! v.matchedRowsCount }</b></span>
                                    </div>
                                    <div class="slds-col slds-text-color_error">
                                        <span style="font-size:16px;"><b>Unmatched Products: {! v.unmatchedRowsCount }</b></span>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-box" style="padding-top: 0px;">
                                <lightning:tabset selectedTabId="{!v.selTabId}" onselect="{!c.tabSelected}">
                                    <lightning:tab label="Matched Products" id="matchPrds">
                                        <aura:if isTrue="{!v.showProductsloading}">
                                            <center>
                                                <div><img src="{!$Resource.WaitLoadingGif}" style="height: 250px;"/></div>
                                                <div style="font-size:18px;font-style:bold;">{!v.loadingMessage}</div>
                                            </center>
                                            <aura:set attribute="else">
                                                <div style="height:60vh;">
                                                    <div class="slds-scrollable" style="height:100%;">
                                                        <table class="customtable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" role="grid">
                                                            <thead>
                                                                <tr class="slds-text-title--caps">
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Product Name">Product Name</div>
                                                                    </th>
                                                                     <aura:if isTrue="{!v.AccountNumber != '164498'}">
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GCN">GCN</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GSN">GSN</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GPI">GPI</div>
                                                                    </th>
                                                                    </aura:if>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="NDC 11">NDC 11</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="SKU NUMBER">SKU NUMBER</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Product Family">Product Family</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Strength">Strength</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Dosage Form">DOSAGE FORM</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Pack Size">PACK SIZE</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Product Description">PRODUCT DESCRIPTION</div>
                                                                    </th>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed Units">PROPOSED UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed RAD Units">PROPOSED SHARE %</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed OS Units">PROPOSED OS UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed RAD Units">PROPOSED RAD UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed WMT Units">PROPOSED WMT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT ESI UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT ESI UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT KROGER UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT KROGER UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT RX OUTREACH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT RX OUTREACH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT SUPERVALU UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT SUPERVALU UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT CORDANT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT CORDANT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT ACCERODO UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT ACCERODO UNITS</div>
                                                                        </th>
                                                                        
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="PROPOSED DIRECT UNITS">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="PROPOSED INDIRECT UNITS">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED SMITH DRUG UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED ANDA UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT AHOLD/DELHAIZE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT GAINT EAGLE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED TOTAL RETAIL INDIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED BASE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DSH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED AUTOSUB UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CVS DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CVS INDIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CARDINAL UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED MAJOR UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.isShowDirectUnits}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <!-- <th scope="col">
                                                                        <div class="slds-truncate" title="Total Annual Units">TOTAL ANNUAL UNITS</div>
                                                                    </th> -->
                                                                    <aura:if isTrue="{!v.AccountNumber == '164498'}">
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Floor Price">FLOOR PRICE</div>
                                                                    </th>
                                                                        <aura:set attribute="else">
                                                                         <th scope="col">
                                                                        <div class="slds-truncate" title="Guidance Price">GUIDANCE PRICE</div>
                                                                    </th>
                                                                        </aura:set>
                                                                    </aura:if>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="UOM">UOM</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Customer Comments">CUSTOMER COMMENTS</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Status">Status</div>
                                                                    </th>
                                                                    <!-- <th scope="col">
                                                                        <div class="slds-truncate" title="BID ON HIGHEST PACK SIZE">BID ON HIGHEST PACK SIZE</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="BID ON ALTERNATIVE PACK SIZE">BID ON ALTERNATIVE PACK SIZE</div>
                                                                    </th> -->
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <aura:iteration items="{!v.matchdata}" var="prd">
                                                                    <tr>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Name}">
                                                                                <a href="{!prd.Product__c}">{!prd.Name}</a>
                                                                            </div>
                                                                        </td>
                                                                            <aura:if isTrue="{!v.AccountNumber != '164498'}">
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GCN_Generic_Code_Number__c}">{!prd.GCN_Generic_Code_Number__c}</div>
                                                                        </td>
                                                                     
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GSN__c}">{!prd.GSN__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GPI_Generic_Product_Identifier__c}">{!prd.GPI_Generic_Product_Identifier__c}</div>
                                                                        </td>
                                                                        </aura:if>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.NDC_11__c}">{!prd.NDC_11__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.SKU_Number__c}">{!prd.SKU_Number__c}</div>
                                                                        </td>
                                                                        
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Product_Family__c}">{!prd.Product_Family__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Strength__c}">{!prd.Strength__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Vision_Dosage_Form__c}">{!prd.Vision_Dosage_Form__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Pkg_Size__c}">{!prd.Pkg_Size__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Product_Description__c}">{!prd.Product_Description__c}</div>
                                                                        </td>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Share_Percentage__c}">
                                                                                    {!prd.Vision_Proposed_Share_Percentage__c} %
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_OS_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_OS_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_RAD_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_RAD_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_WMT_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_WMT_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_BASE_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DSH_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_AutoSub_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Direct_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Indirect_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Cardinal_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Major_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Smith_Drug_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Anda_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DirectAholdDelhaizeUnits__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Gaint_Eagle_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_TotalRetailIndirectUnits__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_ESI_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_ESI_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Kroger_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Kroger_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Rx_Outreach_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_IndirectRxOutreach_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Cordant_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Cordant_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        
                                                                        <aura:if isTrue="{!v.isShowDirectUnits}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <!-- <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Total_Annual_Units__c}">
                                                                                <lightning:formattedNumber value="{!prd.Vision_Total_Annual_Units__c}"></lightning:formattedNumber>
                                                                            </div>
                                                                        </td> -->
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Guidance_Price__c}">
                                                                                <lightning:formattedNumber style="currency" currencyCode="USD" value="{!prd.Vision_Guidance_Price__c}"></lightning:formattedNumber>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Vision_UOM__c}">{!prd.Vision_UOM__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Vision_Customer_Comments__c}">{!prd.Vision_Customer_Comments__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Status__c}">{!prd.Status__c}</div>
                                                                        </td>
                                                                        <!-- <td>
                                                                            <aura:if isTrue="{!prd.Vision_Bid_on_Highest_Pack_Size__c == true}">
                                                                                <div class="slds-truncate" title="Yes">Yes</div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="slds-truncate" title="No">No</div>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </td>
                                                                        <td>
                                                                            <aura:if isTrue="{!prd.Vision_Bid_on_Alternative_Pack_Size__c == true}">
                                                                                <div class="slds-truncate" title="Yes">Yes</div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="slds-truncate" title="No">No</div>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </td> -->
                                                                    </tr>
                                                                </aura:iteration>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </aura:set>
                                        </aura:if>
                                    </lightning:tab>
                                    <lightning:tab label="Unmatched Products" id="unmatchPrds">
                                        <aura:if isTrue="{!v.showProductsloading}">
                                            <center>
                                                <div><img src="{!$Resource.WaitLoadingGif}" style="height: 250px;"/></div>
                                                <div style="font-size:18px;font-style:bold;">{!v.loadingMessage}</div>
                                            </center>
                                            <aura:set attribute="else">
                                                <div style="height:60vh;">
                                                    <div class="slds-scrollable" style="height:100%;">
                                                        <table class="customtable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" role="grid">
                                                            <thead>
                                                                <tr class="slds-text-title--caps">
                                                                    <!--<th scope="col" style="min-width: 200px; max-width: 200px;">
                                                                                <div class="slds-truncate" title="Product Name">Product Name</div>
                                                                            </th>-->
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GCN">GCN</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GSN">GSN</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="GPI">GPI</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="NDC 11">NDC 11</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="SKU NUMBER">SKU NUMBER</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Product Family">Product Family</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Strength">Strength</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Dosage Form">DOSAGE FORM</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Pack Size">PACK SIZE</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Product Description">PRODUCT DESCRIPTION</div>
                                                                    </th>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed Units">PROPOSED UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed RAD Units">PROPOSED SHARE %</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed OS Units">PROPOSED OS UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed RAD Units">PROPOSED RAD UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed WMT Units">PROPOSED WMT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT ESI UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT ESI UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT KROGER UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT KROGER UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT RX OUTREACH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT RX OUTREACH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT SUPERVALU UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT SUPERVALU UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT CORDANT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT CORDANT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT ACCERODO UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED INDIRECT ACCERODO UNITS</div>
                                                                        </th>
                                                                        
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="PROPOSED DIRECT UNITS">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="PROPOSED INDIRECT UNITS">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED SMITH DRUG UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED ANDA UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT AHOLD/DELHAIZE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DIRECT GAINT EAGLE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED TOTAL RETAIL INDIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED BASE UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED DSH UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED AUTOSUB UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CVS DIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CVS INDIRECT UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED CARDINAL UNITS</div>
                                                                        </th>
                                                                        <th scope="col">
                                                                            <div class="slds-truncate">PROPOSED MAJOR UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.isShowDirectUnits}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed DIRECT Units">PROPOSED DIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                        <th scope="col">
                                                                            <div class="slds-truncate" title="Proposed INDIRECT Units">PROPOSED INDIRECT UNITS</div>
                                                                        </th>
                                                                    </aura:if>
                                                                    <!-- <th scope="col">
                                                                        <div class="slds-truncate" title="Total Annual Units">TOTAL ANNUAL UNITS</div>
                                                                    </th> -->
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Guidance Price">GUIDANCE PRICE</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="UOM">UOM</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Customer Comments">CUSTOMER COMMENTS</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="Status">Status</div>
                                                                    </th>
                                                                    <!-- <th scope="col">
                                                                        <div class="slds-truncate" title="BID ON HIGHEST PACK SIZE">BID ON HIGHEST PACK SIZE</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate" title="BID ON ALTERNATIVE PACK SIZE">BID ON ALTERNATIVE PACK SIZE</div>
                                                                    </th> -->
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <aura:iteration items="{!v.unmatchdata}" var="prd">
                                                                    <tr>
                                                                        <!--<td class="removeLabelClass slds-form-element__label" style="min-width: 200px; max-width: 200px;">
                                                                                    <div title="{!prd.Name}">
                                                                                        <l_lookup:Lookup aura:id="ProductLookup"
                                                                                                        objectType="Product2"
                                                                                                        selectedRecordId="{!prd.Product__c}"
                                                                                                        queryCondition="{! v.customerHireachyListString }"/>
                                                                                    </div>
                                                                                </td>-->
                                                                        
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GCN_Generic_Code_Number__c}">{!prd.GCN_Generic_Code_Number__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GSN__c}">{!prd.GSN__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.GPI_Generic_Product_Identifier__c}">{!prd.GPI_Generic_Product_Identifier__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.NDC_11__c}">{!prd.NDC_11__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.SKU_Number__c}">{!prd.SKU_Number__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Product_Family__c}">{!prd.Product_Family__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Strength__c}">{!prd.Strength__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Dosage_Form__c}">{!prd.Dosage_Form__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Pkg_Size__c}">{!prd.Pkg_Size__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Product_Description__c}">{!prd.Product_Description__c}</div>
                                                                        </td>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'OTC Customer'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_Share_Percentage__c}">
                                                                                    {!prd.Vision_Proposed_Share_Percentage__c} %
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_OS_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_OS_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_RAD_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_RAD_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Proposed_WMT_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_WMT_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_BASE_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DSH_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_AutoSub_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'ROS'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Direct_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_CVS_Indirect_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Cardinal_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Major_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Smith_Drug_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Anda_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_DirectAholdDelhaizeUnits__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Gaint_Eagle_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_TotalRetailIndirectUnits__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_ESI_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_ESI_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Kroger_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Kroger_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Rx_Outreach_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_IndirectRxOutreach_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Supervalu_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Cordant_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Cordant_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Direct_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right">
                                                                                    <lightning:formattedNumber value="{!prd.Vision_Proposed_Indirect_Accerodo_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        
                                                                        <aura:if isTrue="{!v.isShowDirectUnits}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Direct_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Direct_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!v.isShowInDirectUnits}">
                                                                            <td>
                                                                                <div class="slds-truncate slds-text-align_right" title="{!prd.Proposed_Indirect_Selling_Units__c}">
                                                                                    <lightning:formattedNumber value="{!prd.Proposed_Indirect_Selling_Units__c}"></lightning:formattedNumber>
                                                                                </div>
                                                                            </td>
                                                                        </aura:if>
                                                                        <!-- <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Total_Annual_Units__c}">
                                                                                <lightning:formattedNumber value="{!prd.Vision_Total_Annual_Units__c}"></lightning:formattedNumber>
                                                                            </div>
                                                                        </td> -->
                                                                        <td>
                                                                            <div class="slds-truncate slds-text-align_right" title="{!prd.Vision_Guidance_Price__c}">
                                                                                <lightning:formattedNumber style="currency" currencyCode="USD" value="{!prd.Vision_Guidance_Price__c}"></lightning:formattedNumber>
                                                                            </div>
                                                                        </td>
                                                                        
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Vision_UOM__c}">{!prd.Vision_UOM__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Vision_Customer_Comments__c}">{!prd.Vision_Customer_Comments__c}</div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate" title="{!prd.Status__c}">{!prd.Status__c}</div>
                                                                        </td>
                                                                        <!-- <td>
                                                                            <aura:if isTrue="{!prd.Vision_Bid_on_Highest_Pack_Size__c == true}">
                                                                                <div class="slds-truncate" title="Yes">Yes</div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="slds-truncate" title="No">No</div>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </td>
                                                                        <td>
                                                                            <aura:if isTrue="{!prd.Vision_Bid_on_Alternative_Pack_Size__c == true}">
                                                                                <div class="slds-truncate" title="Yes">Yes</div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="slds-truncate" title="No">No</div>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </td> -->
                                                                    </tr>
                                                                </aura:iteration>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </aura:set>
                                        </aura:if>
                                    </lightning:tab>
                                </lightning:tabset>
                            </div>
                            <footer class="slds-modal__footer">
                                <div class="slds-grid">
                                    <div class="slds-col slds-size_8-of-12" style="text-align:center;">
                                        <aura:if isTrue="{!v.selTabId == 'matchPrds'}">
                                            <aura:if isTrue="{!!lessthanorequal(v.totalMatchdata.length,100)}">
                                                <aura:iteration items="{!v.pageNumberListMatched}" var="pageNum" indexVar="index">
                                                    <lightning:button label="{!pageNum}" name="{!pageNum}" 
                                                                      variant="{!v.selectedPageNumberMatched == pageNum ? 'Brand' : 'Neutral'}" 
                                                                      value="{!pageNum}" onclick="{!c.changePageForMatched}"/>
                                                </aura:iteration>
                                            </aura:if>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!!lessthanorequal(v.totalUnmatchdata.length,100)}">
                                                    <aura:iteration items="{!v.pageNumberListUnmatched}" var="pageNum" indexVar="index">
                                                        <lightning:button label="{!pageNum}" name="{!pageNum}" 
                                                                          variant="{!v.selectedPageNumberUnmatched == pageNum ? 'Brand' : 'Neutral'}" 
                                                                          value="{!pageNum}" onclick="{!c.changePageForUnmatched}"/>
                                                    </aura:iteration>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                    </div>
                                    <div class="slds-col slds-size_4-of-12" style="text-align:right;">
                                        <aura:if isTrue="{!v.isBidClone}">
                                            <lightning:button variant="neutral" label="Close" onclick="{!c.closePopUpModal}"/>
                                            <aura:set attribute="else">
                                                <aura:if isTrue="{!v.selTabId == 'matchPrds'}">
                                                     <aura:if isTrue="{!v.AccountNumber != '164498'}">
                                                    <lightning:button variant="brand" label="Select Contracts"
                                                                      onclick="{!c.fetchContracts}"
                                                                      disabled="{!or(v.showProductsloading,v.isSpinnerLoad)}"/>
                                                    <lightning:button variant="neutral" label="I'll do it later" onclick="{!c.closePopUpModal}"
                                                                      disabled="{!or(v.showProductsloading,v.isSpinnerLoad)}"/>
                                                         <aura:set attribute="else">
                                                          <lightning:button variant="neutral" label="Next" onclick="{!c.closePopUpModal}"
                                                                      disabled="{!or(v.showProductsloading,v.isSpinnerLoad)}"/>
                                                         </aura:set>
                                                    </aura:if>
                                                    <aura:set attribute="else">
                                                        <lightning:button variant="neutral" label="Close" onclick="{!c.closePopUpModal}"/>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:set>
                                        </aura:if>
                                        <!--midbox navlink nextlink<lightning:button class="slds-m-top_medium" variant="brand" type="submit" label="Re-match Products"
                                                                disabled="false" onclick="{!c.saveChangeRecords}"
                                                                />-->
                                        <!--button class="slds-button slds-button_neutral">Cancel</button>
                                                <button class="slds-button slds-button_brand" onclick="{!c.redirectToDetailPage}">Save</button-->
                                    </div>
                                </div>
                            </footer>
                        </div>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </aura:if>
        
        <!-- Showing Contracts -->
        <aura:if isTrue="{!v.showContracts}">
            <section role="dialog" tabindex="-1" aria-label="Product List" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="pop-up-main-container">
                    <div id= "modalId" class="slds-modal__container">
                        <div class="modal-header slds-modal__header" style="padding-right: 5px; padding-top: 10px; padding-bottom: 10px; padding-left: 10px;">
                            <h2  class="slds-modal__title slds-hyphenate"
                                style="color:#675e5e">
                                <p style="font-size:21px;"><b>Select Contracts</b></p> 
                            </h2>
                        </div>
                        <!--
                        <aura:if isTrue="{!v.showProductsloading}">
                            <center>
                                <div><img src="{!$Resource.WaitLoadingGif}" style="height: 250px;"/></div>
                                <div style="font-size:18px;font-style:bold;">{!v.loadingMessage}</div>
                            </center>
                            <aura:set attribute="else">
                            -->
                                <aura:if isTrue="{!not(v.navigateToComponent)}">
                                    
                                    <aura:if isTrue="{!not(empty(v.allDataCV))}"> 
                                        <div id="tableDiv" class="slds-p-around_small modal-body scrollable slds-modal__content slds-p-around--medium" data-scoped-scroll="true" style="background-color:#f3f2f2;padding:0px;">
                                            <table class="maintable slds-table slds-table_bordered slds-table_cell-buffer">
                                                <thead>
                                                    <tr class="">
                                                        <!--header checkbox for select all-->
                                                        
                                                        <th style="width:3.25rem;" class="slds-text-align_right slds-text-title_caps">
                                                            <div class="slds-form-element">
                                                                <div class="slds-form-element__control">
                                                                    <label class="slds-checkbox">
                                                                        <ui:inputCheckbox disabled="{!v.totalRecordsCountCV == 0}"
                                                                                        aura:id="selectAllId"
                                                                                        change="{!c.selectAllCheckboxes}"/>
                                                                        <span class="slds-checkbox_faux"></span>
                                                                        <span class="slds-form-element__label"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </th>
                                                        <th scope="row" class="slds-cell-wrap " >
                                                            <div class="slds-truncate slds-p-around_xxx-small" title="Name">Name</div>
                                                        </th>
                                                        <th scope="row" class="slds-cell-wrap " >
                                                            <div class="slds-truncate slds-p-around_xxx-small" title="Customer">Customer</div>
                                                        </th>
                                                        <th scope="row" class="slds-cell-wrap " >
                                                            <div class="slds-truncate slds-p-around_xxx-small" title="Internal Description">Internal Description</div>
                                                        </th>
                                                        <th scope="row" class="slds-cell-wrap ">
                                                            <div class="slds-truncate slds-p-around_xxx-small" title="External Description">External Description</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <aura:iteration items="{!v.allDataCV}" var="obj">
                                                        <tr >
                                                            <td scope="row" class="slds-text-align_right" style="width:3.25rem;">
                                                                <div class="slds-form-element">
                                                                    <div class="slds-form-element__control">
                                                                        <label class="slds-checkbox">
                                                                            <ui:inputCheckbox text="{!obj.Phoenix_Contract_Number__c}"
                                                                                            value="{!obj.isChecked}"
                                                                                            change="{!c.checkboxSelect}"
                                                                                            />
                                                                            <span class="slds-checkbox_faux"></span>
                                                                            <span class="slds-form-element__label text"></span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td scope="row">
                                                                <div class="slds-truncate" title="{!obj.Phoenix_Contract_Number__c}">
                                                                    <lightning:formattedUrl value="{!'/' + obj.Id}"  label="{!obj.Phoenix_Contract_Number__c}" target="_self" />  
                                                                </div>
                                                            </td> 
                                                            <td scope="row">
                                                                <div class="slds-truncate" title="{!obj.Phoenix_Customer__r.Name}">
                                                                    <lightning:formattedUrl value="{!'/' + obj.Phoenix_Customer__c}"  label="{!obj.Phoenix_Customer__r.Name}" target="_self" />  
                                                                </div>
                                                            </td>
                                                            <td scope="row">
                                                                <div class="slds-truncate" title="{!obj.Phoenix_Contract_Internal_Description__c}">
                                                                    {!obj.Phoenix_Contract_Internal_Description__c}
                                                                </div>
                                                            </td>
                                                            <td scope="row">
                                                                <div class="slds-truncate" title="{!obj.Phoenix_Contract_External_Description__c}">
                                                                    {!obj.Phoenix_Contract_External_Description__c}
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </aura:iteration>
                                                </tbody>
                                            </table>
                                        </div>
                                        <aura:set attribute="else">
                                            <div class="slds-p-around_small modal-body scrollable slds-modal__content slds-p-around--medium" data-scoped-scroll="true" style="background-color:#f3f2f2;padding:0px;">
                                                
                                                <center>
                                                    <div class="slds-m-bottom_small  slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_info slds-m-left_xx-large slds-m-right_xx-large" role="alert" style="width:50%;">
                                                        <span class="slds-icon_container slds-m-right_x-small" title="Please add line items to view the table">
                                                            <lightning:icon iconName="utility:info" alternativeText="info" size="x-small" variant="inverse"/>
                                                        </span>
                                                        <h2> No Contracts Found</h2>
                                                    </div>
                                                </center>
                                            </div>
                                        </aura:set>
                                    </aura:if>
                                </aura:if>
                        <!--        
                            </aura:set>
                        </aura:if>
                        -->
                        <footer class="slds-modal__footer">
                            <div style="text-align:right;">
                                <lightning:button variant="neutral" label="Back" onclick="{!c.showProductsList}" />
                                <!-- <lightning:button variant="neutral" label="Cancel" onclick="{!c.closeContractsModal}" /> -->
                                <lightning:button variant="brand" label="Select And Close" disabled="{!v.selectedRowsCount==0}"
                                                  onclick="{!c.closePopUpModal}" />
                            </div>
                        </footer>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </aura:if>
        
        
        <!-- Showing Matched Product Opportunities -->
        <aura:if isTrue="{!v.showSelectedProdOpty}">
            <section role="dialog" tabindex="-1" aria-label="Meaningful description of the modal content" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="pop-up-main-container">
                    <div id= "modalId" class="slds-modal__container">
                        <div class="slds-modal__header">
                            <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Matched Products with NPR Data</h1>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <div class="slds-box slds-box_x-small">
                                <div class="slds-grid slds-gutters slds-text-align_center">
                                    <div class="slds-col slds-align_absolute-center">
                                        <span style="font-size:16px;font-style:bold;">Total Products: {! v.TotalRecords }</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!--
                    <aura:if isTrue="{!v.showProductsloading}">
                        <center>
                            <div><img src="{!$Resource.WaitLoadingGif}" style="height: 250px;"/></div>
                            <div style="font-size:18px;font-style:bold;">{!v.loadingMessage}</div>
                        </center>
                        <aura:set attribute="else">
                        -->
                            <div class="slds-box" style="padding-top: 0px;">
                                <aura:if isTrue="{!not(empty(v.matchdata))}"> 
                                    <div class="slds-scrollable" style="height:100%;">
                                        <table class="customtable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" role="grid">
                                            <thead>
                                                <tr class="slds-text-title">
                                                    <th scope="col">
                                                        <div title="Product Name">
                                                            Product Name
                                                        </div>
                                                    </th>
                                                    <th scope="col">
                                                        <div title="Product Code">
                                                            Product Code
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-text-align_right">
                                                        <div title="Pack Size">
                                                            Pack Size
                                                        </div>
                                                    </th>
                                                    
                                                    <aura:if isTrue="{!or(or(v.AccTemplate == 'Direct',v.AccTemplate == 'Direct and Indirect'),or(v.AccTemplate == 'Econdisc',v.AccTemplate == 'Net Indirect Pricing'))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Current Direct Units">
                                                                Current Direct Units
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!or(or(v.AccTemplate=='Indirect',v.AccTemplate=='Direct and Indirect'),or(v.AccTemplate=='Walgreens',or(v.AccTemplate=='ABC Progen',
                                                                     or(v.AccTemplate=='Econdisc',or(v.AccTemplate== 'Costco',or(v.AccTemplate== 'Sams Club',
                                                                     or(v.AccTemplate== 'Net Indirect Pricing',v.AccTemplate== 'Government Pricing')))))))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Current Indirect Units">
                                                                Current Indirect Units
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.AccTemplate == 'ClarusOne'}">
                                                        <th scope="col" class="slds-text-align_right"><div>Current OS/RAD Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Direct WMT Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Indirect WMT Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed OS Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed RAD Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed WMT Units</div></th>
                                                        <!-- <th scope="col" class="slds-text-align_right"><div>Proposed Total Units</div></th> -->
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.AccTemplate == 'Econdisc'}">
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Esi Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Esi Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Kroger Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Kroger Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Rx Outreach Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Rx Outreach Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Supervalu Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Supervalu Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Cordant Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Cordant Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Accerodo Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Accerodo Units</div></th>
                                                        
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Units</div></th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.AccTemplate == 'RXSS'}">
                                                        <th scope="col" class="slds-text-align_right"><div>Current Wholesaler Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Anda Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Retail Direct Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Retail Indirect Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Smith Drug Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Anda Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Ahold/Delhaize Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Gaint Eagle Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Total Retail Indirect Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Direct Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Indirect Units</div></th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.AccTemplate == 'BASE/DSH'}">
                                                        <th scope="col" class="slds-text-align_right"><div>Current Base Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Dsh Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Current Autosub Units</div></th>
                                                        <th scope="col" class="slds-text-align_right" ><div>Proposed Base Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Dsh Units</div></th>
                                                        <th scope="col" class="slds-text-align_right"><div>Proposed Autosub Units</div></th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!or(or(v.AccTemplate == 'Direct',v.AccTemplate == 'Direct and Indirect'),or(v.AccTemplate == 'Econdisc',v.AccTemplate == 'Net Indirect Pricing'))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Proposed Units">
                                                                <aura:if isTrue="{!v.bidType != 'Price Change'}">
                                                                    <abbr class="slds-required" title="required">*</abbr>
                                                                </aura:if>
                                                                Proposed Direct Units
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!or(or(v.AccTemplate=='Indirect',v.AccTemplate=='Direct and Indirect'),or(v.AccTemplate=='Walgreens',or(v.AccTemplate=='ABC Progen',
                                                                     or(v.AccTemplate=='Econdisc',or(v.AccTemplate== 'Costco',or(v.AccTemplate== 'Sams Club',
                                                                     or(v.AccTemplate== 'Net Indirect Pricing',v.AccTemplate== 'Government Pricing')))))))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Proposed Units">
                                                                <aura:if isTrue="{!v.bidType != 'Price Change'}">
                                                                    <abbr class="slds-required" title="required">*</abbr>
                                                                </aura:if>
                                                                Proposed Indirect Units
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!or(or(v.AccTemplate == 'Direct',v.AccTemplate == 'Direct and Indirect'),or(v.AccTemplate == 'Econdisc',v.AccTemplate == 'Net Indirect Pricing'))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Current Direct Price">
                                                                Current Direct Price
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <aura:if isTrue="{!or(or(v.AccTemplate=='Indirect',v.AccTemplate=='Direct and Indirect'),or(v.AccTemplate=='Walgreens',or(v.AccTemplate=='ABC Progen',
                                                                     or(v.AccTemplate=='Econdisc',or(v.AccTemplate== 'Costco',or(v.AccTemplate== 'Sams Club',
                                                                     or(v.AccTemplate== 'Net Indirect Pricing',v.AccTemplate== 'Government Pricing')))))))}">
                                                        <th scope="col" class="slds-text-align_right">
                                                            <div title="Current Indirect Price">
                                                                Current Indirect Price
                                                            </div>
                                                        </th>
                                                    </aura:if>
                                                    <!-- <th scope="col" class="slds-text-align_right">
                                                        <div title="Guidance Price">
                                                            <aura:if isTrue="{!v.bidType == 'Price Change'}">
                                                                <abbr class="slds-required" title="required">*</abbr>
                                                            </aura:if>
                                                            Guidance Price
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-text-align_right">
                                                        <div title="Sales Price">
                                                            Lowest Price ($)
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-text-align_right">
                                                        <div title="Opportunity Value">
                                                            Opportunity Value
                                                        </div>
                                                    </th>
                                                    <th scope="col" class="slds-text-align_right">
                                                        <div title="Financial Impact">
                                                            Financial Impact
                                                        </div>
                                                    </th> -->
                                                    <!--
                                                    <th scope="col">
                                                        <div title="delete">
                                                        </div>
                                                    </th>
                                                    -->
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <aura:iteration items="{!v.matchdata}" var="prd" indexVar="index">
                                                    <tr >
                                                        <c:Vision_OpportunityEditPageChild prd="{!prd}" AccTemplate="{!v.AccTemplate}"/>
                                                    </tr>
                                                </aura:iteration>
                                            </tbody>
                                        </table>
                                    </div>
                                    <aura:set attribute="else">
                                        <div style="text-align:center;">No Product Opportunities to found</div>
                                    </aura:set>
                                </aura:if>
                            </div>
                            <!--
                        </aura:set>
                    </aura:if>
                    -->
                        </div>
                        <footer class="slds-modal__footer">
                            <aura:if isTrue="{!!lessthanorequal(v.totalMatchdata.length,100)}">
                                <div class="slds-grid">
                                    <div class="slds-col slds-size_8-of-12" style="text-align:center;">
                                        <aura:iteration items="{!v.pageNumberListMatched}" var="pageNum" indexVar="index">
                                            <lightning:button label="{!pageNum}" name="{!pageNum}" 
                                                              variant="{!v.selectedPageNumberMatched == pageNum ? 'Brand' : 'Neutral'}" 
                                                              value="{!pageNum}" onclick="{!c.changePageForMatchedNPRData}"/>
                                        </aura:iteration>
                                    </div>
                                    <div class="slds-col slds-size_4-of-12" style="text-align:right;">
                                        <lightning:button variant="neutral" label="Close" onclick="{!c.closePopUpModal}"/>
                                    </div>
                                </div>
                                <aura:set attribute="else">
                                    <div style="text-align:right;">
                                        <lightning:button variant="neutral" label="Close" onclick="{!c.closePopUpModal}"/>
                                    </div>
                                </aura:set>
                            </aura:if>
                        </footer>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </aura:if>
    </div>  
    <div style="padding:5px;"></div>
</aura:component>