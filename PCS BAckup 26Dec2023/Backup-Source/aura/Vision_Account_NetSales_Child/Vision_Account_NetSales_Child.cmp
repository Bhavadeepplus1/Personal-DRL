<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    
    <lightning:navigation aura:id="navService"/>
    <aura:attribute name="pageReference" type="Object"/>
    <aura:attribute name="salesdl" type="Decimal" />
    <aura:attribute name="volume" type="Decimal" />
    <aura:attribute name="tptdl" type="Decimal" />
    <aura:attribute name="tptperc" type="Decimal" />
    <aura:attribute name="singleRec" type="Object" />
    <aura:attribute name="rowIndex" type="Integer" />
    <aura:attribute name="classS" type="string" />
    <aura:attribute name="classV" type="string" />
    <aura:attribute name="classT" type="string" />
    <aura:attribute name="classP" type="string" />
    <aura:attribute name="isSalesLessThanZero" type="boolean" />
    <aura:attribute name="isunitsLessThanZero" type="boolean" />
    <aura:attribute name="isTPTLessThanZero" type="boolean" />
    <aura:attribute name="isTPTPercentLessThanZero" type="boolean" />
    <aura:attribute name="parent" type="Aura.Component"/>
    <aura:attribute name="comparison" type="String" />
    <aura:attribute name="isRxChecked" type="boolean" />
    <aura:attribute name="isSRxChecked" type="boolean" />
    <aura:attribute name="isOtcChecked" type="boolean" />
    <aura:attribute name="isEXTChecked" type="boolean"/>
     <aura:attribute name="ShowINT" type="boolean"/>
    <aura:attribute name="showTPT" type="boolean"/>
    <aura:attribute name="showItem" type="boolean"/>
        <aura:attribute name="isAsc" type="boolean" default="true"/>
<aura:attribute name="divisonDesc" type="list" />
    <aura:attribute name="category" type="list" />
    <aura:attribute name="isDirect" type="boolean" default="false"/>
    <aura:attribute name="isIndirect" type="boolean" default="false"/>
    <aura:attribute name="isGenerics" type="boolean" default="false"/>
    <aura:attribute name="isDivisionOTC" type="boolean" default="false"/>
    <aura:attribute name="isAPI" type="boolean" default="false"/>
    <aura:attribute name="isCPS" type="boolean" default="false"/>
    <aura:attribute name="isCrossDivision" type="boolean" default="false"/>
    <aura:attribute name="isFormulations" type="boolean" default="false"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
  <aura:iteration items="{!v.singleRec.childSalesList}" var="item" indexVar="index">
   <aura:if isTrue ="{!v.showItem}">
    <tr style ="background-color: #FFFFD9;">
       
        <td class="slds-text-align_center">{!index+1}</td>
         
        <td style="font-size: 14px; font-weight: bold;">
          <!--<aura:if isTrue="{!item.custId != null}">-->
            <a >
                 <lightning:buttonIcon variant="bare" class="green" iconName="utility:graph" alternativeText="Go to Graph" size="medium" title= "{!'Redirected to Net Sales graph for ' + v.singleRec.pfamily}" value="{!(index+1)}" onclick="{!c.getGraphIndex}"/>
             <!--   <lightning:icon class="green" iconName="utility:graph" alternativeText="Go to Graph" size="x-small" title="{!'Redirected to Net Sales graph for ' + v.singleRec.custName}"/>-->
            </a> &nbsp;
              <aura:set attribute="else">
                   <a >
                        <lightning:buttonIcon variant="bare" class="green" iconName="utility:graph" alternativeText="Go to Graph" size="medium" title= "{!'Redirected to Net Sales graph for ' + v.singleRec.pfamily}" value="{!(index+1)}" onclick="{!c.getGraphIndex}"/>
              <!--  <lightning:icon class="green" iconName="utility:graph" alternativeText="Go to Graph" size="x-small" title="{!'Redirected to Net Sales graph for ' + v.singleRec.pfamily}"/> -->
            </a> &nbsp;
              </aura:set>
            <!--</aura:if>-->
            <!--<aura:if isTrue="{!item.custId != null}">-->
                <!--<a onclick="{!c.redirectToProducts}">-->
                    <lightning:buttonIcon variant="bare" class="green" iconName="utility:list" alternativeText="Redirect to Products" size="medium" title= "{!'Redirected to all products under ' + !item.custName}" value="{!item.custName}" onclick="{!c.redirectToProducts}"/>&nbsp;&nbsp;
                <!--</a> &nbsp;&nbsp;-->
                <!--<lightning:formattedUrl value="{!'/' + !item.custId}"  label="{!item.custName}" target="_blank" />-->
            <lightning:formattedText  value="{!item.custName}" ></lightning:formattedText>
                <aura:set attribute="else">
                    {!v.singleRec.pfamily}
                </aura:set>
           <!-- </aura:if>-->
        </td>
            <td class="slds-text-align_center tip2">
                <lightning:icon class="{!item.classV}" 
                                        iconName="utility:light_bulb" 
                                        size="x-small"/>
                <span>
                    <lightning:formattedNumber value="{!(item.units - item.UnitsPrev)}" minimumFractionDigits="0" maximumFractionDigits="0"/>
                </span>
            </td>
            <td class="slds-text-align_center tip1"><lightning:icon class="{!item.classS}" 
                                        iconName="utility:light_bulb" 
                                        size="x-small"/>
                <span>
                    <lightning:formattedNumber value="{!(item.salesdl - item.SalesDollarPrev)}" style="currency" minimumFractionDigits="0" maximumFractionDigits="0"/>
                </span>
            </td>
          
            <td class="slds-text-align_right"><lightning:formattedNumber value="{!item.UnitsPrev}"  minimumFractionDigits="0" maximumFractionDigits="0"/></td>
        <td class="slds-text-align_right"><lightning:formattedNumber value="{!item.units}"  minimumFractionDigits="0" maximumFractionDigits="0"/></td>
        <td class="slds-text-align_right" style="{!(item.trendingVolume lt 0 ? 'color:red;text-align:right;' : 'color:black;')}"><lightning:formattedNumber value="{!item.trendingVolume}" style="percent"  minimumFractionDigits="0" maximumFractionDigits="2"/></td>
        <td class="slds-text-align_right"><lightning:formattedNumber value="{!item.SalesDollarPrev}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
        <td class="slds-text-align_right"><lightning:formattedNumber value="{!item.salesdl}" style="currency" currencyCode="USD" minimumFractionDigits="0" maximumFractionDigits="0"/></td>
       <td class="slds-text-align_right" style="{!(item.trendingSales lt 0 ? 'color:red;text-align:right;' : 'color:black;')}"><lightning:formattedNumber value="{!item.trendingSales}" style="percent"  minimumFractionDigits="0" maximumFractionDigits="2"/></td>

          
        
    </tr>
   </aura:if>
    </aura:iteration>
</aura:component>